(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t){},113:function(e,t,a){e.exports=a.p+"static/media/feather-sprite.0ed672ce.svg"},117:function(e,t){},119:function(e,t,a){e.exports=a(258)},130:function(e,t,a){},132:function(e,t,a){},186:function(e,t,a){},189:function(e,t,a){},191:function(e,t,a){},193:function(e,t,a){},197:function(e,t,a){},199:function(e,t,a){},201:function(e,t,a){},238:function(e,t,a){},240:function(e,t,a){},242:function(e,t,a){},244:function(e,t,a){},246:function(e,t,a){},248:function(e,t,a){},250:function(e,t,a){},252:function(e,t,a){},254:function(e,t,a){},256:function(e,t,a){},258:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"updateUserBoards",function(){return ve}),a.d(n,"fetchUserData",function(){return Ie}),a.d(n,"loadUserData",function(){return Ee});var r={};a.r(r),a.d(r,"getUserData",function(){return Oe});var o={};a.r(o),a.d(o,"selectBoard",function(){return je}),a.d(o,"selectList",function(){return Be}),a.d(o,"selectCard",function(){return _e});var c={};a.r(c),a.d(c,"getCurrentBoardId",function(){return Se}),a.d(c,"getCurrentListId",function(){return ke}),a.d(c,"getCurrentCardId",function(){return De}),a.d(c,"getCurrent",function(){return we});var s={};a.r(s),a.d(s,"loadBoardsById",function(){return Te}),a.d(s,"fetchBoardsById",function(){return Le}),a.d(s,"updateBoardsById",function(){return Fe}),a.d(s,"reorderLists",function(){return Ue}),a.d(s,"updateListIds",function(){return Re});var i={};a.r(i),a.d(i,"getBoardsById",function(){return xe}),a.d(i,"getBoardsArray",function(){return Pe}),a.d(i,"getBoard",function(){return Me});var d={};a.r(d),a.d(d,"getCardsById",function(){return Je}),a.d(d,"getCardsArray",function(){return Ke});var u={};a.r(u),a.d(u,"loadCardsById",function(){return Qe}),a.d(u,"fetchCardsById",function(){return Xe}),a.d(u,"updateCardsById",function(){return $e});var l={};a.r(l),a.d(l,"loadListsById",function(){return vt}),a.d(l,"fetchListsById",function(){return It}),a.d(l,"updateListsById",function(){return Et});var m={};a.r(m),a.d(m,"getListsById",function(){return Ot}),a.d(m,"getListsArray",function(){return Ct});var p={};a.r(p),a.d(p,"isEqual",function(){return St});var f=a(0),h=a.n(f),b=a(106),g=a.n(b),v=a(15),I=a(263),E=a(16),O=a(108),C=(a(128),a(130),a(5)),y=a(6),j=a(8),B=a(7),_=a(9),S=(a(132),a(262)),k=a(260),D=h.a.createContext(null),w=function(e){return function(t){return h.a.createElement(D.Consumer,null,function(a){return h.a.createElement(e,Object.assign({},t,{firebase:a}))})}},A=D,N=a(4),T=a(34),L=a.n(T),F={apiKey:"AIzaSyBEMtI6srASSV24HbRYSLjdV6eVTI248DQ",authDomain:"workflow-74f49.firebaseapp.com",databaseURL:"https://workflow-74f49.firebaseio.com",projectId:"workflow-74f49",storageBucket:"workflow-74f49.appspot.com",messagingSenderId:"417049317953"},U=function e(){var t=this;Object(C.a)(this,e),this.createUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.signInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.signOut=function(){return t.auth.signOut()},this.passwordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.passwordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.getTimestamp=function(){return L.a.firestore.FieldValue.serverTimestamp()},this.addToArray=function(e){return L.a.firestore.FieldValue.arrayUnion(e)},this.removeFromArray=function(e){return L.a.firestore.FieldValue.arrayRemove(e)},this.getUserDoc=function(e){return t.db.collection("users").doc(e)},this.addUser=function(e){var a=e.userId,n=e.name,r=e.username,o=e.email,c=e.boardIds,s=void 0===c?[]:c;return t.db.collection("users").doc(a).set({userId:a,name:n,username:r,email:o,boardIds:s})},this.updateUser=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.db.collection("users").doc(e).update(a)},this.getBoardDoc=function(e){return t.db.collection("boards").doc(e)},this.updateBoard=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.getBoardDoc(e).update(Object(N.a)({lastModifiedAt:t.getTimestamp()},a))},this.addBoard=function(e){var a=e.userId,n=e.boardTitle;t.db.collection("boards").add({createdAt:t.getTimestamp(),lastModifiedAt:t.getTimestamp(),listIds:[],authorId:a,memberIds:[a],boardTitle:n}).then(function(e){t.updateUser(a,{boardIds:t.addToArray(e.id)})})},this.getListDoc=function(e){return t.db.collection("lists").doc(e)},this.updateList=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.getListDoc(e).update(Object(N.a)({lastModifiedAt:t.getTimestamp()},a))},this.addList=function(e){var a=e.boardId,n=e.listTitle;t.db.collection("lists").add({createdAt:t.getTimestamp(),lastModifiedAt:t.getTimestamp(),cardIds:[],boardId:a,listTitle:n}).then(function(e){t.updateBoard(a,{listIds:t.addToArray(e.id),lastModifiedAt:t.getTimestamp()})})},this.getCardDoc=function(e){return t.db.collection("cards").doc(e)},this.addCard=function(e){var a=e.boardId,n=e.listId,r=e.cardTitle;t.db.collection("cards").add({createdAt:t.getTimestamp(),lastModifiedAt:t.getTimestamp(),listId:n,boardId:a,cardTitle:r}).then(function(e){t.updateList(n,{cardIds:t.addToArray(e.id),lastModifiedAt:t.getTimestamp()})})},this.updateCard=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.getCardDoc(e).update(Object(N.a)({lastModifiedAt:t.getTimestamp()},a))},this.deleteCard=function(e,a){var n=t.db.batch(),r=t.getCardDoc(e),o=t.getListDoc(a);return n.delete(r),n.update(o,{cardIds:t.removeFromArray(e),lastModifiedAt:t.getTimestamp()}),n.commit().then(function(){console.log("card deleted")}).catch(function(e){console.error(e)})},this.moveCardToList=function(e){var a=e.cardId,n=e.origListId,r=e.newListId,o=e.updatedCardIds,c=t.db.batch(),s=t.getCardDoc(a),i=t.getListDoc(n),d=t.getListDoc(r);return c.update(s,{listId:r,lastModifiedAt:t.getTimestamp()}),c.update(i,{cardIds:t.removeFromArray(a),lastModifiedAt:t.getTimestamp()}),c.update(d,{cardIds:o,lastModifiedAt:t.getTimestamp()}),c.commit().then(function(){console.log("card moved")}).catch(function(e){console.error(e)})},L.a.initializeApp(F),this.auth=L.a.auth(),this.db=L.a.firestore()},R=a(259),x="/home",P=w(function(e){var t=e.firebase;return h.a.createElement("button",{type:"button",onClick:t.signOut},"Sign Out")}),M=(a(186),h.a.createContext(null)),z=function(e){var t=function(t){function a(e){var t;return Object(C.a)(this,a),(t=Object(j.a)(this,Object(B.a)(a).call(this,e))).state={authUser:null},t}return Object(_.a)(a,t),Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return h.a.createElement(M.Provider,{value:this.state.authUser},h.a.createElement(e,this.props))}}]),a}(h.a.Component);return w(t)},W=a(261),Y=a(39),q=function(e){return function(t){var a=function(a){function n(e){return Object(C.a)(this,n),Object(j.a)(this,Object(B.a)(n).call(this,e))}return Object(_.a)(n,a),Object(y.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return h.a.createElement(M.Consumer,null,function(n){return e(n)?h.a.createElement(t,a.props):null})}}]),n}(h.a.Component);return Object(Y.a)(W.a,w)(a)}},H=function(){return h.a.createElement("ul",{className:"navlinks"},h.a.createElement("li",null,h.a.createElement(R.a,{to:x},"Home")),h.a.createElement("li",null,h.a.createElement(R.a,{to:"/account"},"Account")),h.a.createElement("li",null,h.a.createElement(R.a,{to:"/admin"},"Admin")),h.a.createElement("li",null,h.a.createElement(P,null)))},V=function(){return h.a.createElement("ul",{className:"navlinks"},h.a.createElement("li",null,h.a.createElement(R.a,{to:"/signin"},"Sign In")))},J=function(){return h.a.createElement("nav",{className:"navbar"},h.a.createElement("span",{className:"navbar__logo"},h.a.createElement(R.a,{to:"/"},"workflow")),h.a.createElement(M.Consumer,null,function(e){return e?h.a.createElement(H,null):h.a.createElement(V,null)}))},K=a(112),Q=a(11),X=(a(189),function(e){return h.a.createElement(h.a.Fragment,null,!e.hideLabel&&h.a.createElement("label",{htmlFor:e.name,className:"input__label"},e.title),h.a.createElement("input",{className:e.className,id:e.name,name:e.name,type:e.type,value:e.value,onChange:e.onChange,placeholder:e.placeholder,required:e.isRequired,onBlur:e.onBlur}))}),$=a(118),G=(a(191),function(e){var t=e.children,a=e.type,n=e.onClick,r=e.className,o=e.color,c=void 0===o?"neutral":o,s=e.size,i=void 0===s?"medium":s,d=e.variant,u=void 0===d?"text":d,l=e.disabled,m=e.name,p=e.iconOnly,f=void 0!==p&&p,b=e.buttonRef;Object($.a)(e,["children","type","onClick","className","color","size","variant","disabled","name","iconOnly","buttonRef"]);return h.a.createElement("button",{className:"".concat(r," ").concat(c," ").concat(i," ").concat(u," ").concat(f?"icon-only":""),type:a,onClick:n,disabled:l,name:m,ref:b},t)}),Z={username:"",name:"",email:"",passwordOne:"",passwordTwo:"",error:null},ee=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.username,r=t.email,o=t.name,c=t.passwordOne;a.props.firebase.createUserWithEmailAndPassword(r,c).then(function(e){var t=e.user.uid;return a.props.firebase.addUser({userId:t,name:o,username:n,email:r})}).then(function(e){a.setState(Object(N.a)({},Z)),a.props.history.push(x)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.state=Object(N.a)({},Z),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.name,n=e.email,r=e.passwordOne,o=e.passwordTwo,c=e.error,s=""===r||""===o||""===n||""===t||r!==o;return h.a.createElement("form",{onSubmit:this.onSubmit,className:"user-form"},h.a.createElement(X,{name:"name",title:"Full Name",value:a,onChange:this.onChange,type:"text",className:"user-form__input"}),h.a.createElement(X,{name:"username",title:"Username",value:t,onChange:this.onChange,type:"text",className:"user-form__input"}),h.a.createElement(X,{name:"email",title:"Email",value:n,onChange:this.onChange,type:"email",className:"user-form__input"}),h.a.createElement(X,{name:"passwordOne",title:"Password",value:r,onChange:this.onChange,type:"password",className:"user-form__input"}),h.a.createElement(X,{name:"passwordTwo",title:"Confirm Password",value:o,onChange:this.onChange,type:"password",className:"user-form__input"}),h.a.createElement(G,{disabled:s,type:"submit",size:"large",variant:"contained",color:"primary"},"Sign Up"),c&&h.a.createElement("p",null,c.message))}}]),t}(f.Component),te=Object(Y.a)(W.a,w)(ee),ae=(a(193),function(e){var t=e.title,a=e.children;return h.a.createElement("main",{className:"user-form__container"},h.a.createElement("h1",null,t),a)}),ne=function(){return h.a.createElement(ae,{title:"Sign Up"},h.a.createElement(te,null))},re=function(){return h.a.createElement("p",null,"Don't have an account? ",h.a.createElement(R.a,{to:"/signup"},"Sign Up"))},oe={email:"",password:"",error:null},ce=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.signInWithEmailAndPassword(n,r).then(function(){a.setState(Object(N.a)({},oe)),a.props.history.push(x)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.state=Object(N.a)({},oe),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,r=""===a||""===t;return h.a.createElement("form",{onSubmit:this.onSubmit,className:"user-form"},h.a.createElement(X,{name:"email",title:"Email",value:t,onChange:this.onChange,type:"email",className:"user-form__input"}),h.a.createElement(X,{name:"password",title:"Password",value:a,onChange:this.onChange,type:"password",className:"user-form__input"}),h.a.createElement(G,{disabled:r,type:"submit",size:"large",variant:"contained",color:"primary"},"Sign In"),n&&h.a.createElement("p",null,n.message))}}]),t}(f.Component),se=Object(Y.a)(W.a,w)(ce),ie={email:"",error:null},de=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.passwordReset(t).then(function(){a.setState(Object(N.a)({},ie))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.state=Object(N.a)({},ie),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return h.a.createElement("form",{onSubmit:this.onSubmit,className:"user-form"},h.a.createElement(X,{name:"email",title:"Email",value:t,onChange:this.onChange,type:"email",className:"user-form__input"}),h.a.createElement(G,{disabled:n,type:"submit",size:"large",variant:"contained",color:"primary"},"Reset My Password"),a&&h.a.createElement("p",null,a.message))}}]),t}(f.Component),ue=w(de),le=function(){return h.a.createElement(ae,{title:"Forgot your password?"},h.a.createElement(ue,null))},me=function(){return h.a.createElement("p",null,h.a.createElement(R.a,{to:"/pw-forget"},"Forgot Password?"))},pe=function(){return h.a.createElement(ae,{title:"Sign In"},h.a.createElement(se,null),h.a.createElement(me,null),h.a.createElement(re,null))},fe=a(19),he=a.n(fe),be=a(26),ge=new U,ve=function(e){return{type:"ADD_USER_BOARD",boardIds:e}},Ie=function(e){return function(){var t=Object(be.a)(he.a.mark(function t(a){var n;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.getUserDoc(e).get().then(function(e){return e.data()});case 3:n=t.sent,a(Ee(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Ee=function(e){return{type:"LOAD_USER_DATA",user:e}},Oe=function(e){return e.user},Ce=a(48),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_BOARD":return Object(N.a)({},e,{boardIds:Object(Ce.a)(t.boardIds)});case"LOAD_USER_DATA":return Object(N.a)({},e,t.user);default:return e}},je=function(e){return{type:"SELECT_BOARD",boardId:e}},Be=function(e){return{type:"SELECT_LIST",listId:e}},_e=function(e){return{type:"SELECT_CARD",cardId:e}},Se=function(e){return e.current.boardId},ke=function(e){return e.current.listId},De=function(e){return e.current.cardId},we=function(e){return e.current},Ae=function(e){function t(){return Object(C.a)(this,t),Object(j.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return h.a.createElement("ul",{className:"board-grid"},this.props.children)}}]),t}(f.Component),Ne=function(e){var t=e.boardId,a=e.boardTitle,n=e.onClick;return h.a.createElement("li",{className:"board-grid__tile"},h.a.createElement(R.a,{className:"board-grid__link",to:"/home/board/".concat(t),onClick:n},h.a.createElement("span",{className:"board-grid__title"},a)))},Te=(a(197),function(e){return{type:"LOAD_BOARDS_BY_ID",boardsById:e}}),Le=function(e){return function(){var t=Object(be.a)(he.a.mark(function t(a){var n;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.db.collection("boards").where("memberIds","array-contains",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=e.data()}),t});case 3:n=t.sent,a(Te(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Fe=function(e){return{type:"UPDATE_BOARDS_BY_ID",board:e}},Ue=function(e,t){return{type:"REORDER_LISTS",boardId:e,listIds:t}},Re=function(e,t){return{type:"UPDATE_LIST_IDS",boardId:e,listIds:t}},xe=function(e){return e.boardsById},Pe=function(e){var t=e.boardsById;return Object.keys(t).map(function(e){return Object(N.a)({boardId:e},t[e])})},Me=function(e,t){return e.boardsById[t]},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_BOARDS_BY_ID":var a=t.boardsById;return Object(N.a)({},e,a);case"UPDATE_BOARDS_BY_ID":var n=t.board;return Object(N.a)({},e,n);case"UPDATE_LIST_IDS":case"REORDER_LISTS":var r=t.boardId,o=t.listIds;return Object(N.a)({},e,Object(Q.a)({},r,Object(N.a)({},e[r],{listIds:o})));default:return e}},We=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).state={},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.userId;this.listener=this.props.firebase.db.collection("boards").where("memberIds","array-contains",t).onSnapshot(function(t){t.docChanges().forEach(function(t){var a=Object(Q.a)({},t.doc.id,t.doc.data());e.props.updateBoardsById(a)})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var e=this.props.user,t=(e.boardIds,e.userId,this.props),a=t.boardsArray,n=t.selectBoard,r=a.map(function(e){var t=e.boardTitle,a=e.boardId;return h.a.createElement(Ne,{key:a,boardTitle:t,boardId:a,onClick:function(){return n(a)}})});return h.a.createElement("section",null,h.a.createElement(Ae,null,r,h.a.createElement("button",{type:"button",className:"board-grid__tile board-grid__btn--add",onClick:this.props.openBoardComposer},"Create new board...")))}}]),t}(f.Component),Ye=q(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),boardsById:i.getBoardsById(e),boardsArray:i.getBoardsArray(e)}},function(e){return{updateUserBoards:function(t){return e(n.updateUserBoards(t))},fetchBoardsById:function(t){return e(s.fetchBoardsById(t))},updateBoardsById:function(t){return e(s.updateBoardsById(t))},selectBoard:function(t){return e(o.selectBoard(t))}}})(We)),qe=a(21),He="CARD",Ve="LIST",Je=function(e){return e.cardsById},Ke=function(e,t){var a=e.cardsById;return t.cardIds.map(function(e){return a[e]})},Qe=function(e){return{type:"LOAD_CARDS_BY_ID",cardsById:e}},Xe=function(e){return function(){var t=Object(be.a)(he.a.mark(function t(a){var n;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.db.collection("cards").where("boardId","==",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(N.a)({cardId:e.id},e.data())}),t});case 3:n=t.sent,a(Qe(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},$e=function(e){return{type:"UPDATE_CARDS_BY_ID",card:e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CARDS_BY_ID":var a=t.cardsById;return Object(N.a)({},e,a);case"UPDATE_CARDS_BY_ID":var n=t.card;return Object(N.a)({},e,n);default:return e}},Ze=(a(199),a(113)),et=a.n(Ze);var tt=function(e){return h.a.createElement("svg",{className:"feather feather-".concat(e.name," ").concat(e.addClass||"").trim(),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},h.a.createElement("use",{xlinkHref:"".concat(et.a,"#").concat(e.name)}))},at=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).handleOutsideClick=function(e){(0,a.props.onOutsideClick)(e),document.removeEventListener("click",a.handleOutsideClick)},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleOutsideClick,!1)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.onClick,n=e.style,r=e.children;return h.a.createElement("div",{className:"popover ".concat(t),onClick:a,style:n},r)}}]),t}(f.Component),nt=(a(201),function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.handleOutsideClick=function(e){a.componentEl.contains(e.target)||a.setState({isOpen:!1})},a.toggleOpen=function(){a.setState(function(e){return{isOpen:!e.isOpen}})},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.align,r=t.buttonProps,o=t.wrapperClass,c=t.popoverClass,s=this.state.isOpen,i=null;this.anchorEl&&(i={top:this.anchorEl.getBoundingClientRect().height,left:"left"===n?0:"auto",right:"right"===n?0:"auto"});return h.a.createElement("div",{className:"popover-wrapper ".concat(o),ref:function(t){return e.componentEl=t}},h.a.createElement(G,Object.assign({type:"button",onClick:this.toggleOpen,buttonRef:function(t){return e.anchorEl=t}},r)),s&&h.a.createElement(at,{className:c,onClick:this.toggleOpen,style:i,onOutsideClick:this.handleOutsideClick,key:"popover"},a))}}]),t}(f.Component));nt.defaultProps={wrapperClass:"",popoverClass:"",buttonProps:{},align:"left"};a(95);var rt=function(e){var t=e.children,a=e.onClick,n=e.className,r=void 0===n?"":n;return h.a.createElement("ul",{className:"menu ".concat(r),onClick:a},t)},ot=function(e){var t=e.children,a=e.className,n=void 0===a?"":a;return h.a.createElement("li",{className:"menu__item ".concat(n)},t)},ct=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).handleCardClick=function(e){if(!e.target.matches("button")&&!e.target.matches("a")){var t=a.props,n=t.cardId;(0,t.onCardClick)(n)}},a.handleMoreActions=function(e){if(e.target.matches("a")){var t=e.target.dataset.action,n=a.props,r=n.cardId,o=n.onCardDelete;switch(t){case"delete":o(r)}e.preventDefault()}},a.state={},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.cardTitle,n=t.cardId,r=t.cardIndex;return h.a.createElement(qe.b,{draggableId:n,index:r},function(t){return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",Object.assign({className:"card",onClick:e.handleCardClick},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),h.a.createElement("div",{className:"card__header"},h.a.createElement(nt,{wrapperClass:"card__popover-wrapper",popoverClass:"card__popover",align:"left",buttonProps:{size:"small",iconOnly:!0,className:"card__btn--more-actions",children:h.a.createElement(tt,{name:"more-horizontal"})}},h.a.createElement(rt,{onClick:e.handleMoreActions},h.a.createElement(ot,null,h.a.createElement("a",{href:"","data-action":"delete"},"Delete")))),h.a.createElement("div",{className:"card__tags"}),h.a.createElement("h3",{className:"card__title"},a)),h.a.createElement("div",{className:"card__footer"},h.a.createElement("div",{className:"card__labels"}))),t.placeholder)})}}]),t}(f.Component),st=(a(238),function(e){return h.a.createElement("textarea",{className:"textarea ".concat(e.className),id:e.name,name:e.name,value:e.value,onChange:e.onChange,placeholder:e.placeholder,required:e.isRequired,onBlur:e.onBlur})}),it=(a(240),{cardTitle:"",isActive:!1}),dt=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).resetForm=function(){a.setState({cardTitle:""})},a.onSubmit=function(e){e.preventDefault();var t=a.state.cardTitle,n=a.props.current.boardId,r=a.props.listId;a.props.firebase.addCard({boardId:n,listId:r,cardTitle:t}),a.resetForm()},a.onChange=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.onFocus=function(e){a.setState({isActive:!0})},a.onReset=function(e){a.setState(Object(N.a)({},it))},a.onBlur=function(e){""===e.target.value&&a.setState({isActive:!1})},a.state=Object(N.a)({},it),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.cardTitle,a=e.isActive;return h.a.createElement("div",{className:"card-composer".concat(a?" is-active":""),onFocus:this.onFocus,onBlur:this.onBlur},h.a.createElement("form",{className:"card-composer__form",onSubmit:this.onSubmit},h.a.createElement(st,{onChange:this.onChange,value:t,placeholder:a?"Enter card title...":"Add a card",isRequired:!0,name:"cardTitle",className:"card-composer__textarea"}),a&&h.a.createElement("div",{className:"card-composer__footer"},h.a.createElement(G,{className:"card-composer__btn--add",type:"submit",onClick:this.onSubmit,color:"primary",variant:"contained"},"Add Card"),h.a.createElement(G,{className:"card-composer__btn--close",type:"reset",onClick:this.onReset,size:"small",iconOnly:!0},h.a.createElement(tt,{name:"x"})))))}}]),t}(f.Component),ut=q(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),boardsById:i.getBoardsById(e),boardsArray:i.getBoardsArray(e),current:c.getCurrent(e)}},function(e){return{updateBoardsById:function(t){return e(s.updateBoardsById(t))}}})(dt)),lt=function(e){function t(){return Object(C.a)(this,t),Object(j.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.listId,a=e.cards,n=e.onCardClick,r=e.onCardDelete;return h.a.createElement(qe.c,{droppableId:t,type:He},function(e){return h.a.createElement("div",Object.assign({className:"list__content",ref:e.innerRef},e.droppableProps),a.map(function(e,a){var o=e.cardId,c=e.cardTitle;return h.a.createElement(ct,{key:o,cardTitle:c,cardId:o,cardIndex:a,listId:t,onCardClick:n,onCardDelete:r})}),e.placeholder)})}}]),t}(f.Component),mt=(a(242),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).handleCardDelete=function(e){var t=a.props,n=t.listId,r=t.firebase;console.log({cardId:e,listId:n}),r.deleteCard(e,n)},a.state={isDragging:a.props.isDragging},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.cards,n=t.onCardClick,r=t.listId,o=t.listTitle,c=t.listIndex;return t.isFetchingCards?null:h.a.createElement(qe.b,{draggableId:r,index:c},function(t){return h.a.createElement(h.a.Fragment,null,h.a.createElement("section",Object.assign({className:"list",ref:t.innerRef},t.draggableProps,t.dragHandleProps),h.a.createElement("header",{className:"list__header"},h.a.createElement("h2",{className:"list__title"},o)),h.a.createElement(lt,{cards:a,listId:r,onCardClick:n,onCardDelete:e.handleCardDelete}),t.placeholder,h.a.createElement(ut,{listId:r})),t.placeholder)})}}]),t}(f.Component)),pt=q(function(e){return!!e})(Object(v.b)(function(e,t){return{user:r.getUserData(e),cards:d.getCardsArray(e,t)}},function(e){return{getUserData:function(t){return e(n.getUserData(t))}}})(mt)),ft=(a(244),{listTitle:"",isActive:!1}),ht=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).resetForm=function(){a.setState({listTitle:""})},a.onReset=function(e){a.setState(Object(N.a)({},ft))},a.onSubmit=function(e){e.preventDefault();var t=a.state.listTitle,n=a.props.boardId;a.props.firebase.addList({boardId:n,listTitle:t}),a.resetForm()},a.onChange=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.onFocus=function(e){a.setState({isActive:!0})},a.onBlur=function(e){""===e.target.value&&a.setState({isActive:!1})},a.state=Object(N.a)({},ft),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.listTitle,a=e.isActive;return h.a.createElement("div",{className:"list-composer".concat(a?" is-active":""),onFocus:this.onFocus,onBlur:this.onBlur},h.a.createElement("form",{className:"list-composer__form",onSubmit:this.onSubmit},h.a.createElement(X,{onChange:this.onChange,value:t,placeholder:a?"Enter list title...":"Add a list",required:!0,name:"listTitle",hideLabel:!0,className:"list-composer__input"}),a&&h.a.createElement("div",{className:"list-composer__footer"},h.a.createElement(G,{className:"list-composer__btn--add",type:"submit",onClick:this.onSubmit,color:"primary",variant:"contained"},"Add List"),h.a.createElement(G,{className:"list-composer__btn--close",type:"reset",onClick:this.onReset,size:"small",iconOnly:!0},h.a.createElement(tt,{name:"x"})))))}}]),t}(f.Component),bt=q(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),boardsById:i.getBoardsById(e),boardsArray:i.getBoardsArray(e),current:c.getCurrent(e)}},function(e){return{getUserData:function(t){return e(n.getUserData(t))},fetchBoardsById:function(t){return e(s.fetchBoardsById(t))},updateBoardsById:function(t){return e(s.updateBoardsById(t))},selectBoard:function(t){return e(o.selectBoard(t))}}})(ht)),gt=function(e){var t=e.boardId,a=e.children;return h.a.createElement(qe.c,{droppableId:t,type:Ve,direction:"horizontal"},function(e){return h.a.createElement("div",Object.assign({className:"board",ref:e.innerRef},e.droppableProps),a,e.placeholder,h.a.createElement(bt,{boardId:t}))})},vt=function(e){return{type:"LOAD_LISTS_BY_ID",listsById:e}},It=function(e){return function(){var t=Object(be.a)(he.a.mark(function t(a){var n;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.db.collection("lists").where("boardId","==",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=e.data()}),t});case 3:n=t.sent,a(vt(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Et=function(e){return{type:"UPDATE_LISTS_BY_ID",list:e}},Ot=function(e){return e.listsById},Ct=function(e){var t=e.listsById,a=e.boardsById[e.current.boardId];return a?a.listIds.map(function(e){return Object(N.a)({listId:e},t[e])}):null},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_LISTS_BY_ID":var a=t.listsById;return Object(N.a)({},e,a);case"UPDATE_LISTS_BY_ID":var n=t.list;return Object(N.a)({},e,n);default:return e}},jt=(a(246),function(e){var t=e.onModalClose,a=e.children,n=e.className,r=e.onModalClick;return h.a.createElement("div",{className:"modal",onClick:r},h.a.createElement("div",{className:"modal__content ".concat(n)},h.a.createElement("button",{type:"button",className:"modal__btn--close",onClick:t},h.a.createElement(tt,{name:"x"})),a))}),Bt=(a(248),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).onChange=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value)),console.log("changed")},a.onBlur=function(e){var t=a.props,n=t.card,r=t.firebase,o=a.state,c=(o.cardTitle,o.cardDescription,o.currentFocus,e.target.name);if(a.state[c]!==n[c]){var s=n.cardId;r.updateCard(s,Object(Q.a)({},c,a.state[c])),console.log("updated!")}a.setState({currentFocus:null})},a.onSubmitComment=function(e){console.log(e.target.value),e.preventDefault()},a.onFocus=function(e){a.setState({currentFocus:e.target.name})},a.handleModalClick=function(e){var t=a.state.currentFocus;("cardComment"===t&&!a.commentFormRef.contains(e.target)||"cardSubtask"===t&&!a.subtaskFormRef.contains(e.target))&&a.setState({currentFocus:null})},a.state={cardId:a.props.card.cardId,cardTitle:a.props.card.cardTitle,cardDescription:a.props.card.cardDescription,cardComment:"",currentFocus:null,isCommentFormFocused:!1},a.commentFormRef=null,a.subtaskFormRef=null,a.setCommentFormRef=function(e){a.commentFormRef=e},a.setSubtaskFormRef=function(e){a.subtaskFormRef=e},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onCardEditorClose,a=e.user;console.log({user:a});var n=this.state,r=n.cardTitle,o=n.cardDescription,c=n.cardComment,s=n.currentFocus,i=n.cardSubtask,d=""===c,u="cardComment"===s;return h.a.createElement(jt,{onModalClose:t,className:"card-editor",onModalClick:this.handleModalClick},h.a.createElement("form",{name:"editCardForm",onFocus:this.onFocus,className:"card-editor__edit-card-form"},h.a.createElement(X,{className:"card-editor__input--title",name:"cardTitle",type:"text",value:r,onChange:this.onChange,required:!0,hideLabel:!0,onBlur:this.onBlur,onFocus:this.onFocus}),h.a.createElement("div",{className:"card-editor__section ".concat("cardDescription"===s?"is-focused":"")},h.a.createElement("div",{className:"card-editor__section-icon"},h.a.createElement(tt,{name:"edit-3"})),h.a.createElement(st,{className:"card-editor__textarea--description",name:"cardDescription",value:o,onChange:this.onChange,placeholder:"Add a description",onBlur:this.onBlur,onFocus:this.onFocus}))),h.a.createElement("div",{className:"card-editor__section ".concat("cardSubtask"===s?"is-focused":"")},h.a.createElement("hr",{className:"card-editor__hr"}),h.a.createElement("div",{className:"card-editor__section-icon"},h.a.createElement(tt,{name:"check-square"})),h.a.createElement("form",{name:"subtaskForm",className:"card-editor__subtask-form ".concat("cardSubtask"===s?"is-focused":""),onFocus:this.onFocus,ref:this.setSubtaskFormRef},h.a.createElement(st,{className:"card-editor__textarea--subtask",name:"cardSubtask",value:i,onChange:this.onChange,placeholder:"Add a subtask"}),"cardSubtask"===s&&h.a.createElement(G,{type:"submit",color:"secondary",size:"small",variant:"contained",disabled:d,onClick:this.submitSubtask,className:"card-editor__btn--submit-subtask"},"Add subtask"))),h.a.createElement("div",{className:"card-editor__section ".concat(u?"is-focused":"")},h.a.createElement("hr",{className:"card-editor__hr"}),h.a.createElement("div",{className:"card-editor__section-icon"},h.a.createElement(tt,{name:"message-circle"})),h.a.createElement("form",{name:"commentForm",className:"card-editor__comment-form ".concat(u?"is-focused":""),onFocus:this.onFocus,ref:this.setCommentFormRef},h.a.createElement(st,{className:"card-editor__textarea--comment",name:"cardComment",value:c,onChange:this.onChange,placeholder:"Write a comment..."}),u&&h.a.createElement(G,{type:"submit",color:"secondary",size:"small",variant:"contained",disabled:d,onClick:this.onSubmitComment,name:"cardCommentSubmit",className:"card-editor__btn--submit-comment"},"Comment"))))}}]),t}(f.Component)),_t=q(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),boardsById:i.getBoardsById(e),current:c.getCurrent(e),listsById:m.getListsById(e),listsArray:m.getListsArray(e)}},function(e){return{updateBoardsById:function(t){return e(s.updateBoardsById(t))},selectBoard:function(t){return e(o.selectBoard(t))},updateListsById:function(t){return e(l.updateListsById(t))},updateCardsById:function(t){return e(u.updateCardsById(t))},reorderLists:function(t,a){return e(s.reorderLists(t,a))}}})(Bt)),St=function e(t,a){var n=Object.prototype.toString.call(t);if(n!==Object.prototype.toString.call(a))return!1;var r="[object Array]";if("[object Object]"!==n&&n!==r)return!1;var o=n===r?t.length:Object.keys(t).length;if(o!==(n===r?a.length:Object.keys(a).length))return!1;var c=function(t,a){var n=Object.prototype.toString.call(t);return n===Object.prototype.toString.call(a)&&("[object Object]"===n||n===r?e(t,a):"[object Function]"===n?t.toString()===a.toString():t===a)};if(n===r){for(var s=0;s<o;s++)if(!c(t[s],a[s]))return!1}else for(var i in t)if(t.hasOwnProperty(i)&&!1===c(t[i],a[i]))return!1;return!0},kt=(a(250),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).onDragStart=function(){a.setState({isDragging:!0})},a.onDragEnd=function(e){var t=e.destination,n=e.draggableId,r=e.source,o=e.type;if(t&&(t.droppableId!==r.droppableId||t.index!==r.index)){var c=a.props.firebase;if(o===He){var s=a.props.listsById,i=r.droppableId===t.droppableId,d=Object(Ce.a)(s[t.droppableId].cardIds);i?(d.splice(r.index,1),d.splice(t.index,0,n),c.updateList(r.droppableId,{cardIds:d})):(d.splice(t.index,0,n),c.moveCardToList({cardId:n,origListId:r.droppableId,newListId:t.droppableId,updatedCardIds:d}))}if(o===Ve){var u=a.props,l=u.boardsById,m=u.current,p=u.reorderLists,f=m.boardId,h=Object(Ce.a)(l[f].listIds);h.splice(r.index,1),h.splice(t.index,0,n),c.updateBoard(f,{listIds:h}),p(f,h)}a.setState({isDragging:!1})}},a.toggleCardEditor=function(){a.setState(function(e){return{isCardEditorOpen:!e.isCardEditorOpen}})},a.handleCardClick=function(e){a.props.selectCard(e),a.toggleCardEditor()},a.state={isFetching:!0,isDragging:!1,isCardEditorOpen:!1},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.current,n=t.fetchListsById,r=t.fetchCardsById,o=t.firebase,c=(t.updateBoardsById,t.updateListsById),s=t.updateCardsById,i=t.boardId,d=t.board,u=t.updateListIds;a.boardId!==i&&this.props.selectBoard(i),n(i),r(i).then(function(){e.setState({isFetching:!1})}),this.boardObserver=o.getBoardDoc(i).onSnapshot(function(e){var t=e.data();p.isEqual(t.listIds,d.listIds)||u(i,t.listIds)}),this.listObserver=o.db.collection("lists").where("boardId","==",i).onSnapshot(function(e){e.docChanges().forEach(function(e){var t=Object(Q.a)({},e.doc.id,e.doc.data());c(t)})}),this.cardObserver=o.db.collection("cards").where("boardId","==",i).onSnapshot(function(e){e.docChanges().forEach(function(e){var t=Object(Q.a)({},e.doc.id,Object(N.a)({cardId:e.doc.id},e.doc.data()));s(t)})}),console.log("mounted")}},{key:"componentWillUnmount",value:function(){this.boardObserver(),this.listObserver(),this.cardObserver()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isFetching,n=t.isCardEditorOpen,r=this.props,o=r.current,c=(r.boardsById,r.listsArray),s=r.cardsById,i=r.boardId,d=r.board;if(a)return null;var u=o.cardId,l=d.boardTitle,m=c.map(function(t,a){var n=t.listId,r=t.listTitle,o=t.cardIds;return h.a.createElement(pt,{listId:n,key:n,listIndex:a,listTitle:r,cardIds:o,isFetchingCards:e.state.isFetching,isDragging:e.state.isDragging,onCardClick:e.handleCardClick})});return h.a.createElement("main",{className:"board-container"},h.a.createElement("h1",null,l),h.a.createElement(qe.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},h.a.createElement(gt,{boardId:i},m)),n&&h.a.createElement(_t,{card:s[u],onCardEditorClose:this.toggleCardEditor}))}}]),t}(f.Component)),Dt=q(function(e){return!!e})(Object(v.b)(function(e,t){return{user:r.getUserData(e),boardsById:i.getBoardsById(e),current:c.getCurrent(e),listsById:m.getListsById(e),listsArray:m.getListsArray(e),cardsById:d.getCardsById(e),board:i.getBoard(e,t.boardId)}},function(e){return{updateBoardsById:function(t){return e(s.updateBoardsById(t))},selectBoard:function(t){return e(o.selectBoard(t))},selectCard:function(t){return e(o.selectCard(t))},fetchListsById:function(t){return e(l.fetchListsById(t))},updateListsById:function(t){return e(l.updateListsById(t))},fetchCardsById:function(t){return e(u.fetchCardsById(t))},updateCardsById:function(t){return e(u.updateCardsById(t))},reorderLists:function(t,a){return e(s.reorderLists(t,a))},updateListIds:function(t,a){return e(s.updateListIds(t,a))}}})(kt)),wt={boardTitle:""},At=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state.boardTitle,n=a.props;n.handleSubmit,n.onClose;a.props.handleSubmit(t),a.props.onClose(),a.setState(Object(N.a)({},wt))},a.onChange=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.state=Object(N.a)({},wt),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state.boardTitle;return h.a.createElement(jt,{onModalClose:this.props.onClose},h.a.createElement("form",{onSubmit:this.onSubmit},h.a.createElement(X,{name:"boardTitle",title:"Board Title",value:e,onChange:this.onChange,type:"text"}),h.a.createElement("button",{type:"submit"},"Create Board")))}}]),t}(f.Component),Nt=(a(252),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).toggleBoardComposer=function(){a.setState(function(e){return{isBoardComposerOpen:!e.isBoardComposerOpen}})},a.createBoard=function(e){var t=a.props.user.userId;a.props.firebase.addBoard({userId:t,boardTitle:e})},a.state={isBoardComposerOpen:!1,isFetching:!0},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.firebase.auth.currentUser.uid;console.log("mounted home"),this.props.fetchUserData(t),this.props.fetchBoardsById(t).then(function(){return e.setState({isFetching:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isBoardComposerOpen,n=t.isFetching,r=this.props.user.userId;return n?null:h.a.createElement(h.a.Fragment,null,a&&h.a.createElement(At,{onClose:this.toggleBoardComposer,handleSubmit:this.createBoard}),h.a.createElement(S.a,null,h.a.createElement(k.a,{exact:!0,path:x,render:function(){return h.a.createElement("main",{className:"main"},h.a.createElement("h1",null,"Home"),r&&h.a.createElement(Ye,{openBoardComposer:e.toggleBoardComposer}))}}),h.a.createElement(k.a,{path:"/home/board/:id",render:function(e){return h.a.createElement(Dt,Object.assign({boardId:e.match.params.id},e))}})))}}]),t}(f.Component)),Tt=q(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),currentBoardId:c.getCurrentBoardId(e)}},function(e){return{fetchUserData:function(t){return e(n.fetchUserData(t))},fetchBoardsById:function(t){return e(s.fetchBoardsById(t))}}})(Nt)),Lt={passwordOne:"",passwordTwo:"",error:null},Ft=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(j.a)(this,Object(B.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.passwordUpdate(t).then(function(){a.setState(Object(N.a)({},Lt))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(Q.a)({},e.target.name,e.target.value))},a.state=Object(N.a)({},Lt),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,r=""===t||t!==a;return h.a.createElement("form",{onSubmit:this.onSubmit,className:"user-form"},h.a.createElement(X,{name:"passwordOne",title:"New Password",value:t,onChange:this.onChange,type:"password",className:"user-form__input"}),h.a.createElement(X,{name:"passwordTwo",title:"Confirm New Password",value:a,onChange:this.onChange,type:"password",className:"user-form__input"}),h.a.createElement(G,{disabled:r,type:"submit",size:"large",variant:"contained",color:"primary"},"Change My Password"),n&&h.a.createElement("p",null,n.message))}}]),t}(f.Component),Ut=w(Ft),Rt=(a(254),q(function(e){return!!e})(function(){return h.a.createElement(M.Consumer,null,function(e){return h.a.createElement("main",{className:"account"},h.a.createElement("h1",null,"Account: ",e.email),h.a.createElement("section",{className:"account__section"},h.a.createElement("h2",null,"Forgot your password?"),h.a.createElement(ue,null)),h.a.createElement("section",{className:"account__section"},h.a.createElement("h2",null,"Change your password."),h.a.createElement(Ut,null)))})})),xt=a(117),Pt=(a(256),function(e){function t(){return Object(C.a)(this,t),Object(j.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return h.a.createElement("header",{className:"header"},h.a.createElement(J,null))}}]),t}(f.Component)),Mt=z(function(e){function t(){return Object(C.a)(this,t),Object(j.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"app"},h.a.createElement(Pt,null),h.a.createElement(S.a,null,h.a.createElement(k.a,{exact:!0,path:"/",component:K.LandingPage}),h.a.createElement(k.a,{path:"/signup",component:ne}),h.a.createElement(k.a,{path:"/signin",component:pe}),h.a.createElement(k.a,{path:"/pw-forget",component:le}),h.a.createElement(k.a,{path:x,component:Tt}),h.a.createElement(k.a,{path:"/account",component:Rt}),h.a.createElement(k.a,{path:"/admin",component:xt.AdminPage})))}}]),t}(f.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var zt=Object(E.c)({boardsById:ze,cardsById:Ge,listsById:yt,user:ye,current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_BOARD":var a=t.boardId;return Object(N.a)({},e,{boardId:a});case"SELECT_LIST":var n=t.listId;return Object(N.a)({},e,{listId:n});case"SELECT_CARD":var r=t.cardId;return Object(N.a)({},e,{cardId:r});default:return e}}}),Wt=a(63),Yt=Object(Wt.a)({basename:"/workflow"}),qt=Object(E.e)(zt,{},Object(E.a)(O.a));g.a.render(h.a.createElement(v.a,{store:qt},h.a.createElement(A.Provider,{value:ge},h.a.createElement(I.a,{basename:"/workflow",history:Yt},h.a.createElement(Mt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,t,a){}},[[119,2,1]]]);
//# sourceMappingURL=main.64ed753e.chunk.js.map