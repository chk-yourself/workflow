{"version":3,"sources":["assets/feather/feather-sprite.svg","components/Firebase/context.js","components/Firebase/Firebase.js","constants/routes.js","components/Button/Button.js","components/SignOut/SignOutButton.js","components/Session/context.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Icon/Icon.js","components/Navbar/Navbar.js","components/Input/Input.js","components/SignUp/SignUpForm.js","components/UserFormPage/UserFormPage.js","components/SignUp/SignUp.js","components/SignUp/index.js","components/SignIn/SignInForm.js","components/PasswordForget/PasswordForgetForm.js","components/PasswordForget/PasswordForget.js","components/PasswordForget/index.js","components/SignIn/SignIn.js","store/firebase.js","ducks/users/actions.js","ducks/users/types.js","ducks/users/selectors.js","ducks/users/reducer.js","ducks/current/actions.js","ducks/current/types.js","ducks/current/selectors.js","components/BoardGrid/BoardGrid.js","components/BoardGrid/BoardTile.js","ducks/boards/actions.js","ducks/boards/types.js","ducks/boards/selectors.js","ducks/boards/reducers.js","components/BoardGrid/BoardGridContainer.js","components/Modal/Modal.js","components/BoardComposer/BoardComposer.js","constants/droppableTypes.js","components/ListComposer/ListComposer.js","components/Board/Board.js","ducks/lists/actions.js","ducks/lists/types.js","ducks/lists/selectors.js","ducks/lists/reducers.js","ducks/cards/selectors.js","ducks/cards/actions.js","ducks/cards/types.js","ducks/cards/reducer.js","ducks/subtasks/actions.js","ducks/subtasks/types.js","ducks/subtasks/selectors.js","ducks/subtasks/reducer.js","components/Textarea/Textarea.js","constants/keys.js","components/CardComposer/CardComposer.js","components/Menu/Menu.js","components/Menu/MenuItem.js","components/Popover/Popover.js","components/Popover/PopoverWrapper.js","components/Tag/Tag.jsx","components/Avatar/Avatar.js","components/Calendar/constants.js","components/Calendar/utils.js","components/Radio/Radio.js","components/Calendar/Calendar.js","components/Card/Card.js","components/List/Cards.js","components/List/List.js","ducks/comments/actions.js","ducks/comments/types.js","ducks/comments/selectors.js","ducks/comments/reducer.js","components/Toolbar/Toolbar.jsx","components/CardEditor/CardEditorAssignMember.js","components/CardEditor/CardEditorSection.js","components/MemberSearch/MemberSearch.js","components/CardEditor/CardEditorMoreActions.js","components/Checkbox/Checkbox.js","components/CardEditor/CardEditorSubtask.js","components/CardEditor/CardEditorComment.js","components/ColorPicker/ColorPicker.js","components/TagsInput/TagsInput.js","components/DatePicker/DatePicker.js","components/CardEditor/CardEditor.js","utils/utils.js","components/Board/BoardContainer.js","components/Home/Home.js","components/PasswordChange/PasswordChangeForm.js","components/Account/Account.js","components/Header/Header.jsx","components/App/App.js","serviceWorker.js","store/reducers.js","ducks/current/reducers.js","store/history.js","index.js"],"names":["module","exports","__webpack_require__","p","FirebaseContext","React","createContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","this","classCallCheck","signInWithGoogle","provider","auth","GoogleAuthProvider","addScope","signInWithPopup","then","result","credential","token","accessToken","console","log","user","catch","error","errorCode","code","message","email","alert","signInWithGithub","GithubAuthProvider","signInWithRedirect","createUserWithEmailAndPassword","password","signInWithEmailAndPassword","signOut","passwordReset","sendPasswordResetEmail","passwordUpdate","newPassword","currentUser","updatePassword","getTimestamp","firestore","FieldValue","serverTimestamp","addToArray","value","arrayUnion","removeFromArray","arrayRemove","deleteField","delete","getUserDoc","userId","db","collection","doc","addUser","_ref","name","username","_ref$boardIds","boardIds","_ref$photoURL","photoURL","set","updateUser","newValue","arguments","length","undefined","update","addTag","_ref2","cardId","boardId","text","_ref2$color","color","batch","userRef","cardRef","getCardDoc","boardRef","getBoardDoc","tags","lastModifiedAt","defineProperty","lastUsedAt","merge","commit","removeTag","_ref3","tag","updateCard","setTagColor","_ref4","updateBoard","objectSpread","addBoard","_ref5","boardTitle","add","createdAt","listIds","createdBy","memberIds","ref","id","getListDoc","listId","updateList","addList","_ref6","listTitle","cardIds","deleteList","_ref7","listRef","where","get","snapshot","docs","forEach","addCard","_ref8","cardTitle","assignedTo","assignCard","_ref9","deleteCard","_ref10","moveCardToList","_ref11","origListId","newListId","updatedCardIds","origListRef","newListRef","getSubtaskDoc","subtaskId","addSubtask","_ref12","_ref12$memberIds","_ref12$boardId","_ref12$cardId","_ref12$dueDate","dueDate","isCompleted","concat","toConsumableArray","subtaskIds","updateSubtask","deleteSubtask","_ref13","_ref13$cardId","subtaskRef","getCommentDoc","commentId","addComment","_ref14","_ref14$memberIds","isPinned","from","to","likes","commentIds","updateComment","initializeApp","HOME","Button","children","_ref$type","type","onClick","_ref$className","className","_ref$color","_ref$size","size","_ref$variant","variant","disabled","_ref$iconOnly","iconOnly","buttonRef","objectWithoutProperties","defaultProps","components_Button_Button","AuthUserContext","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","state","authUser","inherits","createClass","key","_this2","listener","onAuthStateChanged","setState","Session_context","Provider","withAuthorization","condition","WithAuthorization","history","push","compose","withRouter","Icon","addClass","trim","xmlns","xmlnsXlink","viewBox","width","height","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","xlinkHref","featherIcons","NavLinksAuth","Fragment","Link","ROUTES","components_SignOut_SignOutButton","NavLinksNonAuth","Navbar","viewportWidth","window","innerWidth","isMobileNavVisible","isTouchEnabled","handleResize","toggleMobileNavVisibility","prevState","handleClick","e","minWidth","target","matches","handleOutsideClick","navLinksEl","contains","handleTouch","document","removeEventListener","addEventListener","_this$state","_this$props","navLinksClass","navRef","isMobileView","el","navEl","Icon_Icon","Navbar_NavLinksAuth","Navbar_NavLinksNonAuth","Input","onFocus","onChange","onInput","placeholder","isRequired","onBlur","autoComplete","inputRef","hideLabel","label","labelClass","onKeyDown","maxLength","minLength","htmlFor","required","INITIAL_STATE","passwordOne","passwordTwo","SignUpForm","onSubmit","uid","preventDefault","_this$state2","isInvalid","components_Input_Input","UserFormPage","title","SignUpPage","components_UserFormPage_UserFormPage","SignUp_SignUpForm","SignUpLink","SignInForm","enableGoogleLogin","PasswordForgetForm","PasswordForgetPage","PasswordForget_PasswordForgetForm","PasswordForgetLink","SignInPage","SignIn_SignInForm","PasswordForget_PasswordForgetLink","SignUp_SignUpLink","loadUserData","loadUsersById","usersById","fetchUsersById","asyncToGenerator","regenerator_default","mark","_callee","dispatch","wrap","_context","prev","next","users","data","sent","t0","stop","_x","apply","fetchUserData","_callee2","_context2","_x2","userData","deleteUser","getUsersById","getUserData","getCurrentUserData","currentUserId","current","getUsersArray","keys","map","getMembersArray","memberId","getUserTags","action","_toPropertyKey","selectUser","selectBoard","selectList","selectCard","getCurrentUserId","getCurrentBoardId","getCurrentListId","getCurrentCardId","getCurrent","getMergedTags","_state$current","boardsById","boardTags","userTags","mergedTags","BoardGrid","BoardTile","loadBoardsById","fetchBoardsById","boards","boardData","reorderLists","updateListIds","updateBoardTags","getBoardsById","getBoardsArray","getBoard","getBoardTags","BoardGridContainer","boardObserver","onSnapshot","querySnapshot","docChanges","change","_this$props2","boardsArray","boardTiles","board","BoardGrid_BoardTile","BoardGrid_BoardGrid","openBoardComposer","connect","ownProps","currentSelectors","userSelectors","boardSelectors","boardActions","currentActions","Modal","onModalClose","onModalClick","classes","modal","content","BoardComposer","handleSubmit","onClose","components_Modal_Modal","CARD","LIST","isActive","ListComposer","resetForm","onReset","updateBoardsById","Board","react_beautiful_dnd_esm","droppableId","droppableTypes","direction","provided","innerRef","droppableProps","components_ListComposer_ListComposer","loadListsById","listsById","fetchListsById","updateListsById","list","getListsById","getListsArray","getCardsById","cardsById","getCardsArray","getCardTags","cardTags","cardTag","loadCardsById","fetchCardsById","cards","cardData","updateCardsById","card","reducer_toPropertyKey","loadSubtasksById","subtasksById","fetchSubtasksById","subtasks","updateSubtasksById","subtask","fetchCardSubtasks","fetchUserSubtasks","_callee3","_context3","_x3","subtaskData","getSubtasksById","getSubtasksArray","getActiveSubtasks","filter","getCompletedSubtasks","subtasks_reducer_toPropertyKey","Textarea","autoHeightResize","isAutoHeightResizeEnabled","textareaEl","style","scrollHeight","createRef","onDragStart","isReadOnly","readOnly","BACKSPACE","ENTER","TAB","ARROW_DOWN","ARROW_UP","CardComposer","Textarea_Textarea_Textarea","Menu","menuRef","MenuItem","Popover","onOutsideClick","PopoverWrapper","componentEl","onPopoverClose","toggleOpen","onButtonClick","handleClose","alignInner","onWrapperClick","alignOuter","buttonProps","anchorEl","popoverWrapperStyle","offsetTop","offsetLeft","position","top","wrapper","Popover_Popover","popover","align","Tag","onDelete","tagRef","Avatar","getUserInitials","fullName","split","charAt","join","toUpperCase","imgSrc","imgProps","avatar","src","alt","img","backgroundColor","MONTHS","long","short","daysTotal","WEEK_DAYS","narrow","isLeapYear","year","getMonthFirstDay","monthIndex","Date","getDay","isToday","date","setHours","isYesterday","today","setDate","getDate","isTomorrow","getMonthDays","getPrevMonth","month","getNextMonth","getMonthDates","monthDays","monthFirstDay","_getPrevMonth","prevMonth","prevMonthYear","prevMonthDays","daysFromPrevMonth","daysFromNextMonth","prevMonthDates","Array","n","i","day","thisMonthDates","nextMonthDates","isDate","prototype","toString","getSimpleDate","dateObj","getMonth","getFullYear","isSimpleDate","isSameDate","base","dateDay","dateMonth","dateYear","baseDay","baseMonth","baseYear","getNextYears","num","startingYear","item","zeroPad","padStart","toSimpleDateString","simpleDate","toSimpleDateObj","dateString","dateArr","isSDSFormat","test","isWithinDays","startingDate","timeStart","endingDate","timeEnd","toDateString","options","useRelative","format","weekday","slice","Radio","_ref$classes","radio","isChecked","checked","Calendar","isMonthsDropdownActive","isYearsDropdownActive","goToNextMonth","onMonthClick","dateUtils","goToPrevMonth","toggleMonthsDropdown","toggleYearsDropdown","selectMonth","_this$props3","selectYear","onYearClick","_this$props4","selectedDate","onDayClick","dates","years","calendar","PopoverWrapper_PopoverWrapper","yearOption","components_Radio_Radio","monthOption","weekDay","isSelectedDate","CardDetail","icon","Card","handleCardClick","onCardClick","nextProps","indexOf","cardIndex","completedSubtasks","cardMembers","dueDateStr","toDate","isDueToday","isDueTmrw","wasDueYest","draggableId","index","draggableProps","dragHandleProps","headerEl","components_Tag_Tag","Card_CardDetail","member","Avatar_Avatar_Avatar","cardSelectors","subtaskSelectors","Cards","scrollToBottom","listEnd","scrollIntoView","behavior","prevProps","onCardDelete","minHeight","isDraggingOver","components_Card_Card","float","clear","List","handleListDelete","newListTitle","listIndex","isFetchingCards","viewportHeight","listHeaderEl","components_Menu_Menu","Menu_MenuItem","href","Cards_Cards","handleCardDelete","components_CardComposer_CardComposer","loadCommentsById","commentsById","fetchCommentsById","comments","updateCommentsById","comment","fetchCardComments","fetchUserComments","commentData","deleteComment","getCommentsById","getCommentsArray","comments_reducer_toPropertyKey","Toolbar","CardEditorAssignMember","CardEditorSection","MemberSearch","query","selectedMember","selectedIndex","filteredList","memberSearchEl","matchUser","regExp","RegExp","newIndex","persistSelectedMember","onMemberClick","nextIndex","prevIndex","inputEl","focus","assignedMembers","_this$state3","isAssigned","CardEditorMoreActions","onMenuClick","data-action","Checkbox","appRoot","getElementById","CardEditorSubtask","portal","appendChild","removeChild","toggleCompleted","inner","components_Checkbox_Checkbox","isDragging","ReactDOM","createPortal","CardEditorComment","secondsElapsed","tick","handleLikeClick","handleLike","secondsSinceCreation","Math","floor","now","getTime","interval","setInterval","clearInterval","dateCreatedFull","timeCreated","toLocaleTimeString","hour","minute","hour12","dateCreated","cardActions","commentActions","ColorPicker","selectedColor","handleColorChange","selectColor","TagsInput","selectedTag","focusedTag","hasExactMatch","matchTag","tagSuggestions","findIndex","persistSelectedTag","assignedTags","handleTagDelete","isColorPickerActive","currentTag","hasTags","colorPickerStyle","currentTagEl","_this$currentTagEl","offsetWidth","offsetHeight","left","ColorPicker_ColorPicker_ColorPicker","DatePicker","currentMonth","currentYear","selectDate","newDate","setCurrentMonth","setCurrentYear","updateDateString","currentDueDate","clearDueDate","Calendar_Calendar_Calendar","CardEditor","updateCardSubtasks","subtasksArray","cardSubtasks","reduce","handleCardEditorClose","currentValue","cardKey","updatedValue","currentFocus","newComment","newSubtask","handleModalClick","commentFormEl","newSubtaskFormEl","handleMoreActions","dataset","onSubtaskChange","handleCheckboxChange","toggleSubtaskCompleted","updateSubtaskText","_this$props5","moveSubtask","destination","source","updatedSubtaskIds","splice","handleCommentLike","_this$props6","assignMember","_this$props7","toggleColorPicker","_this$props8","isBoardTag","isUserTag","tagData","_this$props9","_this$props10","setDueDate","_this$props11","toggleDatePicker","isDatePickerActive","isFetching","cardDescription","membersListButton","_this$props12","commentObserver","_this3","_this$props13","commentsArray","usersArray","membersArray","hasSubtasks","hasComments","isNewCommentInvalid","isNewSubtaskInvalid","commentFormIsFocused","newSubtaskFormIsFocused","cardDueDate","components_Toolbar_Toolbar","CardEditorAssignMember_CardEditorAssignMember","MemberSearch_MemberSearch_MemberSearch","CardEditor_CardEditorMoreActions","CardEditor_CardEditorSection","DatePicker_DatePicker_DatePicker","click","TagsInput_TagsInput_TagsInput","onDragEnd","CardEditorSubtask_CardEditorSubtask","components_CardEditor_CardEditorComment","commentSelectors","isEqual","other","typeArr","valueLen","compare","item1","item2","itemType","hasOwnProperty","windowDebouncer","callback","request","_len","args","_key","cancelAnimationFrame","requestAnimationFrame","BoardContainer","isMovedWithinList","updatedListIds","toggleCardEditor","isCardEditorOpen","onTitleChange","onTitleBlur","newBoardTitle","updatedBoard","utils","listObserver","subtaskObserver","cardObserver","listsArray","lists","components_List_List","components_Board_Board","components_CardEditor_CardEditor","listSelectors","listActions","subtaskActions","HomePage","toggleBoardComposer","isBoardComposerOpen","createBoard","BoardComposer_BoardComposer_BoardComposer","Switch","Route","exact","path","render","BoardGrid_BoardGridContainer","Board_BoardContainer","match","params","currentBoardId","userActions","PasswordChangeForm","PasswordChange_PasswordChangeForm","Header","Navbar_Navbar_Navbar","Header_Header_Header","component","LandingPage","Home_Home","AccountPage","AdminPage","Boolean","location","hostname","combineReducers","createBrowserHistory","basename","store","createStore","reducers","applyMiddleware","thunk","es","context","Router","components_App_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.80dcf7ce.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/feather-sprite.0ed672ce.svg\";","import React from 'react';\n\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default FirebaseContext;\n","import firebase from 'firebase';\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID\n};\n\nclass Firebase {\n  constructor() {\n    firebase.initializeApp(config);\n    this.auth = firebase.auth();\n    this.db = firebase.firestore();\n  }\n\n  // Auth API\n\n  signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    provider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n    this.auth\n      .signInWithPopup(provider)\n      .then(result => {\n        if (result.credential) {\n          const token = result.credential.accessToken;\n          console.log(token);\n          const user = result.user;\n        }\n      })\n      .catch(error => {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        const email = error.email;\n        const credential = error.credential;\n\n        if (errorCode === 'auth/account-exists-with-different-credential') {\n          alert(\n            'You have already signed up with a different auth provider for that email.'\n          );\n        } else {\n          console.error(error);\n        }\n      });\n  };\n\n  signInWithGithub = () => {\n    const provider = new firebase.auth.GithubAuthProvider();\n    this.auth.signInWithRedirect(provider);\n  };\n\n  createUserWithEmailAndPassword = (email, password) =>\n    this.auth.createUserWithEmailAndPassword(email, password);\n\n  signInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n  signOut = () => this.auth.signOut();\n\n  passwordReset = email => this.auth.sendPasswordResetEmail(email);\n\n  passwordUpdate = newPassword =>\n    this.auth.currentUser.updatePassword(newPassword);\n\n  // Utility API\n\n  getTimestamp = () => firebase.firestore.FieldValue.serverTimestamp();\n\n  addToArray = value => firebase.firestore.FieldValue.arrayUnion(value);\n\n  removeFromArray = value => firebase.firestore.FieldValue.arrayRemove(value);\n\n  deleteField = () => firebase.firestore.FieldValue.delete();\n\n  // User API\n\n  getUserDoc = userId => this.db.collection('users').doc(userId);\n\n  addUser = ({\n    userId,\n    name,\n    username,\n    email,\n    boardIds = [],\n    photoURL = null\n  }) =>\n    this.db\n      .collection('users')\n      .doc(userId)\n      .set({ userId, name, username, email, boardIds, photoURL });\n\n  updateUser = (userId, newValue = {}) =>\n    this.db\n      .collection('users')\n      .doc(userId)\n      .update(newValue);\n\n  // Tags API\n\n  addTag = ({ cardId, userId, boardId, text, color = 'default' }) => {\n    const batch = this.db.batch();\n    const userRef = this.getUserDoc(userId);\n    const cardRef = this.getCardDoc(cardId);\n    const boardRef = this.getBoardDoc(boardId);\n\n    batch.update(cardRef, {\n      tags: this.addToArray(text),\n      lastModifiedAt: this.getTimestamp()\n    });\n\n    batch.set(\n      userRef,\n      {\n        tags: {\n          [text]: {\n            text,\n            color,\n            lastUsedAt: this.getTimestamp()\n          }\n        },\n        lastModifiedAt: this.getTimestamp()\n      },\n      { merge: true }\n    );\n\n    batch.set(\n      boardRef,\n      {\n        tags: {\n          [text]: {\n            text,\n            color,\n            lastUsedAt: this.getTimestamp()\n          }\n        },\n        lastModifiedAt: this.getTimestamp()\n      },\n      { merge: true }\n    );\n\n    return batch\n      .commit()\n      .then(() => {\n        console.log('tag added');\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  };\n\n  removeTag = ({ cardId, tag }) => {\n    this.updateCard(cardId, {\n      tags: this.removeFromArray(tag)\n    });\n  };\n\n  setTagColor = ({ userId, boardId, tag, color }) => {\n    const batch = this.db.batch();\n    const userRef = this.getUserDoc(userId);\n    const boardRef = this.getBoardDoc(boardId);\n\n    batch.set(\n      userRef,\n      {\n        tags: {\n          [tag]: {\n            color\n          }\n        },\n        lastModifiedAt: this.getTimestamp()\n      },\n      { merge: true }\n    );\n\n    batch.set(\n      boardRef,\n      {\n        tags: {\n          [tag]: {\n            color\n          }\n        },\n        lastModifiedAt: this.getTimestamp()\n      },\n      { merge: true }\n    );\n\n    return batch\n      .commit()\n      .then(() => {\n        console.log('tag color updated');\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  };\n\n  // Board API\n\n  getBoardDoc = boardId => this.db.collection('boards').doc(boardId);\n\n  updateBoard = (boardId, newValue = {}) =>\n    this.getBoardDoc(boardId).update({\n      lastModifiedAt: this.getTimestamp(),\n      ...newValue\n    });\n\n  addBoard = ({ userId, boardTitle }) => {\n    this.db\n      .collection('boards')\n      .add({\n        createdAt: this.getTimestamp(),\n        lastModifiedAt: this.getTimestamp(),\n        listIds: [],\n        createdBy: userId,\n        memberIds: [userId],\n        boardTitle\n      })\n      .then(ref => {\n        this.updateUser(userId, {\n          boardIds: this.addToArray(ref.id)\n        });\n      });\n  };\n\n  // List API\n\n  getListDoc = listId => this.db.collection('lists').doc(listId);\n\n  updateList = (listId, newValue = {}) =>\n    this.getListDoc(listId).update({\n      lastModifiedAt: this.getTimestamp(),\n      ...newValue\n    });\n\n  addList = ({ boardId, listTitle }) => {\n    this.db\n      .collection('lists')\n      .add({\n        createdAt: this.getTimestamp(),\n        lastModifiedAt: this.getTimestamp(),\n        cardIds: [],\n        boardId,\n        listTitle\n      })\n      .then(ref => {\n        this.updateBoard(boardId, {\n          listIds: this.addToArray(ref.id)\n        });\n      });\n  };\n\n  deleteList = ({ listId, boardId }) => {\n    const batch = this.db.batch();\n    const listRef = this.getListDoc(listId);\n    const boardRef = this.getBoardDoc(boardId);\n\n    // Delete list\n    batch.delete(listRef);\n\n    // Remove list id from board\n    batch.update(boardRef, {\n      listIds: this.removeFromArray(listId),\n      lastModifiedAt: this.getTimestamp()\n    });\n\n    // Delete cards assigned to list\n    this.db\n      .collection('cards')\n      .where('listId', '==', listId)\n      .get()\n      .then(snapshot => {\n        snapshot.docs.forEach(doc => {\n          batch.delete(doc.ref);\n        });\n        return batch\n          .commit()\n          .then(() => {\n            console.log('list deleted');\n          })\n          .catch(error => {\n            console.error(error);\n          });\n      });\n  };\n\n  // Card API\n\n  getCardDoc = cardId => this.db.collection('cards').doc(cardId);\n\n  addCard = ({ boardId, listId, cardTitle }) => {\n    this.db\n      .collection('cards')\n      .add({\n        createdAt: this.getTimestamp(),\n        lastModifiedAt: this.getTimestamp(),\n        assignedTo: [],\n        listId,\n        boardId,\n        cardTitle\n      })\n      .then(ref => {\n        this.updateList(listId, {\n          cardIds: this.addToArray(ref.id),\n          lastModifiedAt: this.getTimestamp()\n        });\n      });\n  };\n\n  updateCard = (cardId, newValue = {}) => {\n    this.getCardDoc(cardId).update({\n      lastModifiedAt: this.getTimestamp(),\n      ...newValue\n    });\n  };\n\n  assignCard = ({ cardId, boardId, userId }) => {\n    const batch = this.db.batch();\n    const cardRef = this.getCardDoc(cardId);\n    const boardRef = this.getBoardDoc(boardId);\n    batch.update(cardRef, {\n      assignedTo: this.addToArray(userId),\n      lastModifiedAt: this.getTimestamp()\n    });\n    batch.update(boardRef, {\n      memberIds: this.addToArray(userId),\n      lastModifiedAt: this.getTimestamp()\n    });\n    return batch\n      .commit()\n      .then(() => {\n        console.log('assigned card to member');\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  };\n\n  deleteCard = ({ cardId, listId }) => {\n    const batch = this.db.batch();\n    const cardRef = this.getCardDoc(cardId);\n    const listRef = this.getListDoc(listId);\n    batch.delete(cardRef);\n    batch.update(listRef, {\n      cardIds: this.removeFromArray(cardId),\n      lastModifiedAt: this.getTimestamp()\n    });\n\n    // Delete subtasks assigned to card\n    this.db\n      .collection('subtasks')\n      .where('cardId', '==', cardId)\n      .get()\n      .then(snapshot => {\n        snapshot.docs.forEach(doc => {\n          batch.delete(doc.ref);\n        });\n      })\n      .then(() => {\n        this.db\n          .collection('comments')\n          .where('cardId', '==', cardId)\n          .get()\n          .then(snapshot => {\n            snapshot.docs.forEach(doc => {\n              batch.delete(doc.ref);\n            });\n            return batch\n              .commit()\n              .then(() => {\n                console.log('card deleted');\n              })\n              .catch(error => {\n                console.error(error);\n              });\n          });\n      });\n  };\n\n  moveCardToList = ({ cardId, origListId, newListId, updatedCardIds }) => {\n    const batch = this.db.batch();\n    const cardRef = this.getCardDoc(cardId);\n    const origListRef = this.getListDoc(origListId);\n    const newListRef = this.getListDoc(newListId);\n    batch.update(cardRef, {\n      listId: newListId,\n      lastModifiedAt: this.getTimestamp()\n    });\n    batch.update(origListRef, {\n      cardIds: this.removeFromArray(cardId),\n      lastModifiedAt: this.getTimestamp()\n    });\n    batch.update(newListRef, {\n      cardIds: updatedCardIds,\n      lastModifiedAt: this.getTimestamp()\n    });\n    return batch\n      .commit()\n      .then(() => {\n        console.log('card moved');\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  };\n\n  // Subtask API\n\n  getSubtaskDoc = subtaskId => this.db.collection('subtasks').doc(subtaskId);\n\n  addSubtask = ({\n    userId,\n    memberIds = [],\n    boardId = null,\n    cardId = null,\n    dueDate = null,\n    text\n  }) => {\n    this.db\n      .collection('subtasks')\n      .add({\n        createdAt: this.getTimestamp(),\n        lastModifiedAt: this.getTimestamp(),\n        isCompleted: false,\n        createdBy: userId,\n        assignedTo: [userId, ...memberIds],\n        dueDate,\n        boardId,\n        cardId,\n        text\n      })\n      .then(ref => {\n        if (cardId === null) return;\n        this.updateCard(cardId, {\n          subtaskIds: this.addToArray(ref.id)\n        });\n      });\n  };\n\n  updateSubtask = (subtaskId, newValue = {}) => {\n    this.getSubtaskDoc(subtaskId).update({\n      lastModifiedAt: this.getTimestamp(),\n      ...newValue\n    });\n  };\n\n  deleteSubtask = ({ subtaskId, cardId = null }) => {\n    const batch = this.db.batch();\n    const subtaskRef = this.getSubtaskDoc(subtaskId);\n    batch.delete(subtaskRef);\n\n    if (cardId) {\n      const cardRef = this.getCardDoc(cardId);\n      batch.update(cardRef, {\n        subtaskIds: this.removeFromArray(subtaskId),\n        lastModifiedAt: this.getTimestamp()\n      });\n    }\n    return batch\n      .commit()\n      .then(() => {\n        console.log('subtask deleted');\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  };\n\n  // Comment API\n  getCommentDoc = commentId => this.db.collection('comments').doc(commentId);\n\n  addComment = ({ userId, memberIds = [], boardId, cardId, text }) => {\n    this.db\n      .collection('comments')\n      .add({\n        createdAt: this.getTimestamp(),\n        lastModifiedAt: this.getTimestamp(),\n        isPinned: false,\n        from: userId,\n        to: memberIds,\n        likes: [],\n        boardId,\n        cardId,\n        text\n      })\n      .then(ref => {\n        this.updateCard(cardId, {\n          commentIds: this.addToArray(ref.id)\n        });\n      });\n  };\n\n  updateComment = (commentId, newValue = {}) => {\n    this.getCommentDoc(commentId).update({\n      lastModifiedAt: this.getTimestamp(),\n      ...newValue\n    });\n  };\n}\n\nexport default Firebase;\n","export const LANDING = '/';\nexport const SIGN_UP = '/signup';\nexport const SIGN_IN = '/signin';\nexport const HOME = '/home';\nexport const ACCOUNT = '/account';\nexport const ADMIN = '/admin';\nexport const PASSWORD_FORGET = '/pw-forget';\nexport const BOARD = '/home/board/:id';\n","import React from 'react';\nimport './Button.scss';\n\nconst Button = ({\n  children,\n  type = 'button',\n  onClick,\n  className = '',\n  color = 'neutral',\n  size = 'md',\n  variant = 'text',\n  disabled,\n  name,\n  iconOnly = false,\n  buttonRef,\n  ...props\n}) => (\n  // eslint-disable-next-line react/button-has-type\n  <button\n    className={`${className} ${color} ${variant} ${!iconOnly ? size : ''} ${\n      iconOnly ? `icon-only icon-only--${size}` : ''\n    }`}\n    type={type}\n    onClick={onClick}\n    disabled={disabled}\n    name={name}\n    ref={buttonRef}\n    {...props}\n  >\n    {children}\n  </button>\n);\n\nButton.defaultProps = {\n  type: 'button',\n  className: '',\n  color: 'neutral',\n  size: 'md',\n  variant: 'text',\n  iconOnly: false\n};\n\nexport default Button;\n","import React from 'react';\nimport { withFirebase } from '../Firebase';\nimport { Button } from '../Button';\nimport './SignOutButton.scss';\n\nconst SignOutButton = ({ firebase }) => (\n  <Button\n    type=\"button\"\n    onClick={firebase.signOut}\n    className=\"btn--sign-out\"\n    color=\"primary\"\n  >\n    Sign Out\n  </Button>\n);\n\nexport default withFirebase(SignOutButton);\n","import React from 'react';\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;","import React from 'react';\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nconst withAuthentication = Component => {\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        authUser: null\n      };\n    }\n\n    componentDidMount() {\n      const { firebase } = this.props;\n\n      this.listener = firebase.auth.onAuthStateChanged(authUser => {\n        authUser\n          ? this.setState({ authUser })\n          : this.setState({ authUser: null });\n      });\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Provider value={this.state.authUser}>\n          <Component {...this.props} />\n        </AuthUserContext.Provider>\n      );\n    }\n  }\n  return withFirebase(WithAuthentication);\n};\n\nexport default withAuthentication;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { withFirebase } from '../Firebase';\nimport AuthUserContext from './context';\nimport * as ROUTES from '../../constants/routes';\n\nconst withAuthorization = condition => Component => {\n  class WithAuthorization extends React.Component {\n    constructor(props) {\n      super(props);\n    }\n    componentDidMount() {\n      this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\n        if (!condition(authUser)) {\n          this.props.history.push(ROUTES.SIGN_IN);\n        }\n      });\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          {authUser =>\n            condition(authUser) ? <Component {...this.props} /> : null\n          }\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n  return compose(\n    withRouter,\n    withFirebase\n  )(WithAuthorization);\n};\n\nexport default withAuthorization;\n","import React from 'react';\nimport featherIcons from '../../assets/feather/feather-sprite.svg';\n\nfunction Icon(props) {\n  return (\n    <svg\n      className={`feather feather-${props.name} ${props.addClass || ''}`.trim()}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n      height=\"24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <use xlinkHref={`${featherIcons}#${props.name}`} />\n    </svg>\n  );\n}\n\nexport default Icon;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\nimport { SignOutButton } from '../SignOut';\nimport './Navbar.scss';\nimport { AuthUserContext } from '../Session';\nimport { Button } from '../Button';\nimport { Icon } from '../Icon';\n\nconst NavLinksAuth = () => (\n  <>\n    <li>\n      <Link to={ROUTES.HOME}>Home</Link>\n    </li>\n    <li>\n      <Link to={ROUTES.ACCOUNT}>Account</Link>\n    </li>\n    <li>\n      <Link to={ROUTES.ADMIN}>Admin</Link>\n    </li>\n    <li>\n      <SignOutButton />\n    </li>\n  </>\n);\n\nconst NavLinksNonAuth = () => (\n  <>\n    <li>\n      <Link to={ROUTES.SIGN_IN}>Log In</Link>\n    </li>\n    <li>\n      <Link to={ROUTES.SIGN_UP}>Get Started</Link>\n    </li>\n  </>\n);\n\nexport default class Navbar extends Component {\n  static defaultProps = {\n    minWidth: 768\n  };\n\n  state = {\n    viewportWidth: window.innerWidth,\n    isMobileNavVisible: false,\n    isTouchEnabled: false\n  };\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleResize);\n    document.addEventListener('touchstart', this.handleTouch);\n    document.addEventListener('click', this.handleOutsideClick);\n  }\n\n  handleResize = () => {\n    this.setState({\n      viewportWidth: window.innerWidth\n    });\n  };\n\n  toggleMobileNavVisibility = () => {\n    this.setState(prevState => ({\n      isMobileNavVisible: !prevState.isMobileNavVisible\n    }));\n  };\n\n  handleClick = e => {\n    const { viewportWidth } = this.state;\n    const { minWidth } = this.props;\n    const isMobileView = viewportWidth < minWidth;\n\n    if (!isMobileView) return;\n    if (e.target.matches('button') || e.target.matches('a')) {\n      this.toggleMobileNavVisibility();\n    }\n  };\n\n  componentWillUnmount() {\n    const { isTouchEnabled } = this.state;\n    window.removeEventListener('resize', this.handleResize);\n\n    if (isTouchEnabled) {\n      document.removeEventListener('touchstart', this.handleOutsideClick);\n    } else {\n      document.removeEventListener('click', this.handleOutsideClick);\n      document.removeEventListener('touchstart', this.handleTouch);\n    }\n  }\n\n  handleOutsideClick = e => {\n    const { viewportWidth } = this.state;\n    const { minWidth } = this.props;\n    const isMobileView = viewportWidth < minWidth;\n    if (\n      !isMobileView ||\n      this.navLinksEl.contains(e.target) ||\n      e.target.matches('button') ||\n      e.target.matches('a')\n    )\n      return;\n    this.setState({\n      isMobileNavVisible: false\n    });\n  };\n\n  handleTouch = () => {\n    const { isTouchEnabled } = this.state;\n    if (isTouchEnabled === true) return;\n    this.setState({\n      isTouchEnabled: true\n    });\n    document.removeEventListener('touchstart', this.handleTouch);\n    document.removeEventListener('click', this.handleOutsideClick);\n    document.addEventListener('touchstart', this.handleOutsideClick);\n  };\n\n  render() {\n    const { viewportWidth, isMobileNavVisible } = this.state;\n    const { minWidth, navRef, navLinksClass } = this.props;\n    const isMobileView = viewportWidth < minWidth;\n\n    return (\n      <nav\n        className={`navbar ${isMobileView ? 'is-collapsed' : ''} ${\n          isMobileView && isMobileNavVisible ? 'show-links' : ''\n        }`}\n        ref={el => (this.navEl = el)}\n      >\n        <span className=\"navbar__logo\">\n          <Link to={ROUTES.LANDING} onClick={this.handleClick}>\n            workflow\n          </Link>\n        </span>\n        {isMobileView && (\n          <Button\n            type=\"button\"\n            color=\"primary\"\n            onClick={this.toggleMobileNavVisibility}\n            iconOnly\n          >\n            <Icon name=\"menu\" />\n          </Button>\n        )}\n        <ul\n          className={`navbar__links ${navLinksClass}`}\n          onClick={this.handleClick}\n          ref={el => (this.navLinksEl = el)}\n        >\n          <AuthUserContext.Consumer>\n            {authUser => (authUser ? <NavLinksAuth /> : <NavLinksNonAuth />)}\n          </AuthUserContext.Consumer>\n        </ul>\n      </nav>\n    );\n  }\n}\n","import React from 'react';\nimport './Input.scss';\n\nconst Input = ({\n  className = '',\n  name,\n  type,\n  value,\n  onFocus,\n  onChange,\n  onInput,\n  placeholder,\n  isRequired,\n  onBlur,\n  autoComplete,\n  inputRef,\n  hideLabel,\n  label,\n  labelClass,\n  onKeyDown,\n  maxLength,\n  minLength\n}) => {\n  return (\n    <>\n      {!hideLabel && (\n        <label htmlFor={name} className={`input__label ${labelClass}`}>\n          {label}\n        </label>\n      )}\n      <input\n        className={`input ${className}`}\n        id={name}\n        name={name}\n        type={type}\n        value={value}\n        onFocus={onFocus}\n        onChange={onChange}\n        placeholder={placeholder}\n        required={isRequired}\n        onBlur={onBlur}\n        autoComplete={autoComplete}\n        ref={inputRef}\n        onInput={onInput}\n        onKeyDown={onKeyDown}\n        maxLength={maxLength}\n        minLength={minLength}\n      />\n    </>\n  );\n};\n\nInput.defaultProps = {\n  className: ''\n};\n\nexport default Input;\n","import React, { Component } from 'react';\nimport { compose } from 'recompose';\nimport { withRouter } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport { Input } from '../Input';\nimport { Button } from '../Button';\n\nconst INITIAL_STATE = {\n  username: '',\n  name: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  error: null\n};\n\nclass SignUpForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = e => {\n    const { username, email, name, passwordOne } = this.state;\n    this.props.firebase\n      .createUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        const userId = authUser.user.uid;\n        const photoURL = authUser.user.photoURL || null;\n        return this.props.firebase.addUser({\n          userId,\n          name,\n          username,\n          email,\n          photoURL\n        });\n      })\n      .then(authUser => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n    e.preventDefault();\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  render() {\n    const {\n      username,\n      name,\n      email,\n      passwordOne,\n      passwordTwo,\n      error\n    } = this.state;\n    const isInvalid =\n      passwordOne === '' ||\n      passwordTwo === '' ||\n      email === '' ||\n      username === '' ||\n      passwordOne !== passwordTwo;\n\n    return (\n      <form onSubmit={this.onSubmit} className=\"user-form\">\n        <Input\n          name=\"name\"\n          label=\"Full Name\"\n          value={name}\n          onChange={this.onChange}\n          type=\"text\"\n          className=\"user-form__input\"\n        />\n        <Input\n          name=\"username\"\n          label=\"Username\"\n          value={username}\n          onChange={this.onChange}\n          type=\"text\"\n          className=\"user-form__input\"\n        />\n        <Input\n          name=\"email\"\n          label=\"Email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"email\"\n          className=\"user-form__input\"\n        />\n        <Input\n          name=\"passwordOne\"\n          label=\"Password\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          className=\"user-form__input\"\n        />\n        <Input\n          name=\"passwordTwo\"\n          label=\"Confirm Password\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          className=\"user-form__input\"\n        />\n        <Button\n          disabled={isInvalid}\n          type=\"submit\"\n          size=\"lg\"\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.onSubmit}\n        >\n          Create Account\n        </Button>\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default compose(\n  withRouter,\n  withFirebase\n)(SignUpForm);\n","import React from 'react';\nimport './UserFormPage.scss';\n\nconst UserFormPage = ({ title, children }) => (\n  <main className=\"user-form__container\">\n    <h1 className=\"user-form__title\">{title}</h1>\n    {children}\n  </main>\n);\n\nexport default UserFormPage;\n","import React from 'react';\nimport SignUpForm from './SignUpForm';\nimport { UserFormPage } from '../UserFormPage';\n\nconst SignUpPage = () => (\n  <UserFormPage title=\"Create an account\">\n    <SignUpForm />\n  </UserFormPage>\n);\n\nexport default SignUpPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\n\nconst SignUpLink = () => (\n  <p>\n    Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\n  </p>\n);\n\nexport { default as SignUpPage } from './SignUp';\nexport { default as SignUpForm } from './SignUpForm';\nexport { SignUpLink };\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { SignUpLink } from '../SignUp';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport { Input } from '../Input';\nimport { Button } from '../Button';\n\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null\n};\n\nclass SignInForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = e => {\n    const { email, password } = this.state;\n    this.props.firebase\n      .signInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n    e.preventDefault();\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  enableGoogleLogin = e => {\n    const { signInWithGoogle } = this.props.firebase;\n    signInWithGoogle();\n    e.preventDefault();\n  }\n\n  render() {\n    const { email, password, error } = this.state;\n    const isInvalid = password === '' || email === '';\n    return (\n      <form className=\"user-form\">\n      {/*\n        <Button\n          type=\"click\"\n          size=\"lg\"\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.enableGoogleLogin}\n        >\n          Continue with Google\n        </Button>\n        <Button\n          type=\"click\"\n          size=\"lg\"\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.enableGithubLogin}\n        >\n          Continue with Github\n        </Button>\n      */}\n        <Input\n          name=\"email\"\n          label=\"Email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"email\"\n          className=\"user-form__input\"\n        />\n        <Input\n          name=\"password\"\n          label=\"Password\"\n          value={password}\n          onChange={this.onChange}\n          type=\"password\"\n          className=\"user-form__input\"\n        />\n        <Button\n          disabled={isInvalid}\n          type=\"submit\"\n          size=\"lg\"\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.onSubmit}\n        >\n          Log In\n        </Button>\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default compose(\n  withRouter,\n  withFirebase\n)(SignInForm);\n","import React, { Component } from 'react';\nimport { withFirebase } from '../Firebase';\nimport { Input } from '../Input';\nimport { Button } from '../Button';\n\nconst INITIAL_STATE = {\n  email: '',\n  error: null\n};\n\nclass PasswordForgetForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = e => {\n    const { email } = this.state;\n\n    this.props.firebase\n      .passwordReset(email)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n    e.preventDefault();\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  render() {\n    const { email, error } = this.state;\n    const isInvalid = email === '';\n\n    return (\n      <form onSubmit={this.onSubmit} className=\"user-form\">\n        <Input\n          name=\"email\"\n          label=\"Email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"email\"\n          className=\"user-form__input\"\n        />\n        <Button\n          disabled={isInvalid}\n          type=\"submit\"\n          size=\"lg\"\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.onSubmit}\n        >\n          Reset My Password\n        </Button>\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default withFirebase(PasswordForgetForm);\n","import React from 'react';\nimport PasswordForgetForm from './PasswordForgetForm';\nimport { UserFormPage } from '../UserFormPage';\n\nconst PasswordForgetPage = () => (\n  <UserFormPage title=\"Forgot your password?\">\n    <PasswordForgetForm />\n  </UserFormPage>\n);\n\nexport default PasswordForgetPage;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\n\nconst PasswordForgetLink = () => (\n  <p>\n    <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\n  </p>\n);\n\nexport {default as PasswordForgetForm} from './PasswordForgetForm';\nexport {default as PasswordForgetPage} from './PasswordForget';\nexport {PasswordForgetLink};","import React from 'react';\nimport SignInForm from './SignInForm';\nimport { SignUpLink } from '../SignUp';\nimport { PasswordForgetLink } from '../PasswordForget';\nimport { UserFormPage } from '../UserFormPage';\n\nconst SignInPage = () => (\n  <UserFormPage title=\"Log In\">\n    <SignInForm />\n    <PasswordForgetLink />\n    <SignUpLink />\n  </UserFormPage>\n);\n\nexport default SignInPage;\n","import { Firebase } from '../components/Firebase';\n\nconst firebase = new Firebase();\n\nexport default firebase;\n","import * as types from './types';\nimport firebase from '../../store/firebase';\n\n\nexport const loadUserData = user => {\n  return {\n    type: types.LOAD_USER_DATA,\n    user\n  };\n};\n\nexport const loadUsersById = usersById => {\n  return {\n    type: types.LOAD_USERS_BY_ID,\n    usersById\n  };\n};\n\nexport const fetchUsersById = () => {\n  return async dispatch => {\n    try {\n      const usersById = await firebase.db\n        .collection('users')\n        .get()\n        .then(snapshot => {\n          const users = {};\n          snapshot.forEach(doc => {\n            users[doc.id] = {\n              userId: doc.id,\n              ...doc.data()\n            };\n          });\n          return users;\n        });\n      dispatch(loadUsersById(usersById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const fetchUserData = userId => {\n  return async dispatch => {\n    try {\n      const user = await firebase\n        .getUserDoc(userId)\n        .get()\n        .then(doc => doc.data());\n      dispatch(loadUserData(user));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const addUser = ({ userId, userData }) => {\n  return {\n    type: types.ADD_USER,\n    userId,\n    userData\n  };\n};\n\nexport const deleteUser = userId => {\n  return {\n    type: types.DELETE_USER,\n    userId\n  };\n};\n\nexport const updateUser = ({ userId, userData }) => {\n  return {\n    type: types.UPDATE_USER,\n    userId,\n    userData\n  };\n};\n","export const LOAD_USER_DATA = 'LOAD_USER_DATA';\nexport const LOAD_USERS_BY_ID = 'LOAD_USERS_BY_ID';\nexport const ADD_USER = 'ADD_USER';\nexport const UPDATE_USER = 'UPDATE_USER';\nexport const DELETE_USER = 'DELETE_USER';\n","export const getUsersById = state => {\n  return state.usersById;\n};\n\nexport const getUserData = (state, userId) => {\n  return state.usersById[userId];\n};\n\nexport const getCurrentUserData = state => {\n  const currentUserId = state.current.userId;\n  return state.usersById[currentUserId];\n};\n\n// returns array of all users\nexport const getUsersArray = state => {\n  const { usersById } = state;\n  return Object.keys(usersById).map(userId => {\n    return {\n      userId,\n      ...usersById[userId]\n    };\n  });\n};\n\n// returns subset of users\nexport const getMembersArray = (state, memberIds) => {\n  const { usersById } = state;\n  if (!memberIds) return [];\n  return memberIds.map(memberId => usersById[memberId]);\n};\n\nexport const getUserTags = state => {\n  \n}","import * as types from './types';\n\nconst usersById = (state = {}, action) => {\n  switch (action.type) {\n    case types.LOAD_USERS_BY_ID: {\n      const { usersById } = action;\n      return {\n        ...state,\n        ...usersById\n      };\n    }\n    case types.LOAD_USER_DATA: {\n      const { user } = action;\n      return {\n        ...state,\n        ...user\n      };\n    }\n    case types.ADD_USER: {\n      const { userId, userData } = action;\n      return {\n        ...state,\n        [userId]: {\n          userId,\n          ...userData\n        }\n      };\n    }\n    case types.DELETE_USER: {\n      const { userId } = action;\n      const { [userId]: deletedUser, ...restOfUsers } = state;\n      return restOfUsers;\n    }\n    case types.UPDATE_USER: {\n      const { userId, userData } = action;\n      return {\n        ...state,\n        [userId]: {\n          ...state[userId],\n          ...userData\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default usersById;\n","import * as types from './types';\nimport firebase from '../../store/firebase';\n\nexport const selectUser = userId => {\n  return {\n    type: types.SELECT_USER,\n    userId\n  };\n};\n\nexport const selectBoard = boardId => {\n  return {\n    type: types.SELECT_BOARD,\n    boardId\n  };\n};\n\nexport const selectList = listId => {\n  return {\n    type: types.SELECT_LIST,\n    listId\n  };\n};\n\nexport const selectCard = cardId => {\n  return {\n    type: types.SELECT_CARD,\n    cardId\n  };\n};\n","export const SELECT_BOARD = 'SELECT_BOARD';\nexport const SELECT_LIST = 'SELECT_LIST';\nexport const SELECT_CARD = 'SELECT_CARD';\nexport const SELECT_USER = 'SELECT_USER';\n","export const getCurrentUserId = state => {\n  return state.current.userId;\n};\n\nexport const getCurrentBoardId = state => {\n  return state.current.boardId;\n};\n\nexport const getCurrentListId = state => {\n  return state.current.listId;\n};\n\nexport const getCurrentCardId = state => {\n  return state.current.cardId;\n};\n\nexport const getCurrent = state => {\n  return state.current;\n};\n\nexport const getMergedTags = state => {\n  const { boardId, userId } = state.current;\n  const { boardsById, usersById } = state;\n  const { tags: boardTags } = boardsById[boardId];\n  const { tags: userTags } = usersById[userId];\n  const mergedTags = { ...userTags, ...boardTags };\n  return Object.keys(mergedTags).map(tag => mergedTags[tag]);\n};\n","import React, { Component } from 'react';\n\nexport default class BoardGrid extends Component {\n  render() {\n    return <ul className=\"board-grid\">{this.props.children}</ul>;\n  }\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst BoardTile = props => {\n  const { boardId, boardTitle, onClick } = props;\n  return (\n    <li className=\"board-grid__tile\">\n      <Link\n        className=\"board-grid__link\"\n        to={`/home/board/${boardId}`}\n        onClick={onClick}\n      >\n        <span className=\"board-grid__title\">{boardTitle}</span>\n      </Link>\n    </li>\n  );\n};\n\nexport default BoardTile;\n","import * as types from './types';\nimport firebase from '../../store/firebase';\n\nexport const loadBoardsById = boardsById => {\n  return {\n    type: types.LOAD_BOARDS_BY_ID,\n    boardsById\n  };\n};\n\nexport const fetchBoardsById = userId => {\n  return async dispatch => {\n    try {\n      const boardsById = await firebase.db\n        .collection('boards')\n        .where('memberIds', 'array-contains', userId)\n        .get()\n        .then(snapshot => {\n          const boards = {};\n          snapshot.forEach(doc => {\n            boards[doc.id] = {\n              boardId: doc.id,\n              ...doc.data()\n            };\n          });\n          return boards;\n        });\n      dispatch(loadBoardsById(boardsById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const updateBoard = (boardId, boardData) => {\n  return {\n    type: types.UPDATE_BOARD,\n    boardId,\n    boardData\n  };\n};\n\nexport const reorderLists = (boardId, listIds) => {\n  return {\n    type: types.REORDER_LISTS,\n    boardId,\n    listIds\n  };\n};\n\nexport const updateListIds = (boardId, listIds) => {\n  return {\n    type: types.UPDATE_LIST_IDS,\n    boardId,\n    listIds\n  };\n};\n\nexport const updateBoardTags = (boardId, tags) => {\n  return {\n    type: types.UPDATE_BOARD_TAGS,\n    boardId,\n    tags\n  };\n};\n","export const LOAD_BOARDS_BY_ID = 'LOAD_BOARDS_BY_ID';\nexport const UPDATE_BOARD = 'UPDATE_BOARD';\nexport const REORDER_LISTS = 'REORDER_LISTS';\nexport const UPDATE_LIST_IDS = 'UPDATE_LIST_IDS';\nexport const UPDATE_BOARD_TAGS = 'UPDATE_BOARD_TAGS';\nexport const ADD_TAG = 'ADD_TAG';\n","export const getBoardsById = state => {\n  return state.boardsById;\n};\n\nexport const getBoardsArray = state => {\n  const { boardsById } = state;\n  return Object.keys(boardsById).map(boardId => {\n    return {\n      boardId,\n      ...boardsById[boardId]\n    };\n  });\n};\n\nexport const getBoard = (state, boardId) => {\n  const { boardsById } = state;\n  return boardsById[boardId];\n};\n\nexport const getBoardTags = (state, boardId) => {\n  const { boardsById } = state;\n  return boardsById[boardId].tags;\n};\n","import * as types from './types';\n\nconst boardsById = (state = {}, action) => {\n  switch (action.type) {\n    case types.LOAD_BOARDS_BY_ID: {\n      const { boardsById } = action;\n      console.log(boardsById);\n      return {\n        ...state,\n        ...boardsById\n      };\n    }\n    case types.UPDATE_BOARD: {\n      const { boardId, boardData } = action;\n      return {\n        ...state,\n        [boardId]: {\n          ...state[boardId],\n          ...boardData\n        }\n      };\n    }\n    case types.UPDATE_LIST_IDS:\n    case types.REORDER_LISTS: {\n      const { boardId, listIds } = action;\n      return {\n        ...state,\n        [boardId]: {\n          ...state[boardId],\n          listIds\n        }\n      };\n    }\n    case types.UPDATE_BOARD_TAGS: {\n      const { boardId, tags } = action;\n      return {\n        ...state,\n        [boardId]: {\n          ...state[boardId],\n          tags: {\n            ...tags\n          }\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default boardsById;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport BoardGrid from './BoardGrid';\nimport BoardTile from './BoardTile';\nimport './BoardGrid.scss';\nimport { withAuthorization } from '../Session';\nimport { boardActions, boardSelectors } from '../../ducks/boards';\nimport { currentActions, currentSelectors } from '../../ducks/current';\nimport { Icon } from '../Icon';\nimport { userSelectors } from '../../ducks/users';\n\nclass BoardGridContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    const { userId, firebase, updateBoard } = this.props;\n    this.boardObserver = firebase.db\n      .collection('boards')\n      .where('memberIds', 'array-contains', userId)\n      .onSnapshot(querySnapshot => {\n        querySnapshot.docChanges().forEach(change => {\n          const boardId = change.doc.id;\n          const boardData = change.doc.data();\n          updateBoard(boardId, boardData);\n        });\n      });\n  }\n\n  componentWillUnmount() {\n    this.boardObserver();\n  }\n\n  render() {\n    const { boardsArray, selectBoard } = this.props;\n    const boardTiles = boardsArray.map(board => {\n      const { boardTitle, boardId } = board;\n      return (\n        <BoardTile\n          key={boardId}\n          boardTitle={boardTitle}\n          boardId={boardId}\n          onClick={() => selectBoard(boardId)}\n        />\n      );\n    });\n    return (\n      <section>\n        <BoardGrid>\n          {boardTiles}\n          <button\n            type=\"button\"\n            className=\"board-grid__tile board-grid__btn--add\"\n            onClick={this.props.openBoardComposer}\n          >\n            <Icon name=\"plus-circle\" />\n            Create board\n          </button>\n        </BoardGrid>\n      </section>\n    );\n  }\n}\n\nconst condition = authUser => !!authUser;\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    userId: currentSelectors.getCurrentUserId(state),\n    user: userSelectors.getUserData(state, ownProps.userId),\n    boardsById: boardSelectors.getBoardsById(state),\n    boardsArray: boardSelectors.getBoardsArray(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchBoardsById: userId => dispatch(boardActions.fetchBoardsById(userId)),\n    updateBoard: (boardId, boardData) => dispatch(boardActions.updateBoard(boardId, boardData)),\n    selectBoard: boardId => dispatch(currentActions.selectBoard(boardId))\n  };\n};\n\nexport default withAuthorization(condition)(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(BoardGridContainer)\n);\n","import React from 'react';\nimport { Icon } from '../Icon';\nimport { Button } from '../Button';\nimport './Modal.scss';\n\nconst Modal = ({\n  onModalClose,\n  children,\n  onModalClick,\n  size = 'md',\n  classes,\n  id\n}) => {\n  return (\n    <div className={`modal ${classes.modal}`} onClick={onModalClick}>\n      <div\n        id={id}\n        className={`modal__content ${classes.content} modal__content--${size}`}\n      >\n        <Button\n          type=\"button\"\n          className=\"modal__btn--close\"\n          onClick={onModalClose}\n          iconOnly\n        >\n          <Icon name=\"x\" />\n        </Button>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nModal.defaultProps = {\n  classes: {\n    modal: '',\n    content: ''\n  }\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { Modal } from '../Modal';\nimport { Input } from '../Input';\nimport { Button } from '../Button';\nimport './BoardComposer.scss';\n\nconst INITIAL_STATE = {\n  boardTitle: ''\n};\n\nexport default class BoardComposer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = e => {\n    e.preventDefault();\n    const { boardTitle } = this.state;\n    const { handleSubmit, onClose } = this.props;\n    this.props.handleSubmit(boardTitle);\n    this.props.onClose();\n    this.setState({ ...INITIAL_STATE });\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  render() {\n    const { boardTitle } = this.state;\n    return (\n      <Modal onModalClose={this.props.onClose} size=\"sm\">\n      <h3 className=\"board-composer__title\">Create new board</h3>\n        <form onSubmit={this.onSubmit}>\n          <Input\n            name=\"boardTitle\"\n            title=\"Board Title\"\n            value={boardTitle}\n            onChange={this.onChange}\n            type=\"text\"\n          />\n          <Button\n            className=\"board-composer__btn--add\"\n            type=\"submit\"\n            onClick={this.onSubmit}\n            color=\"primary\"\n            variant=\"contained\"\n          >\n            Create Board\n          </Button>\n        </form>\n      </Modal>\n    );\n  }\n}\n","export const CARD = 'CARD';\nexport const LIST = 'LIST';\nexport const TASK = 'TASK';\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Input } from '../Input';\nimport { Icon } from '../Icon';\nimport { withAuthorization } from '../Session';\nimport { boardActions, boardSelectors } from '../../ducks/boards';\nimport { currentActions, currentSelectors } from '../../ducks/current';\nimport { Button } from '../Button';\nimport './ListComposer.scss';\n\nconst INITIAL_STATE = {\n  listTitle: '',\n  isActive: false\n};\n\nclass ListComposer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n\n  resetForm = () => {\n    this.setState({ listTitle: '' });\n  };\n\n  onReset = e => {\n    this.setState({ ...INITIAL_STATE });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    const { listTitle } = this.state;\n    const { boardId } = this.props;\n    this.props.firebase.addList({ boardId, listTitle });\n    this.resetForm();\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  onFocus = e => {\n    this.setState({\n      isActive: true\n    });\n  };\n\n  onBlur = e => {\n    if (e.target.value === '') {\n      this.setState({\n        isActive: false\n      });\n    }\n  };\n\n  render() {\n    const { listTitle, isActive } = this.state;\n    return (\n      <div\n        className={`list-composer${isActive ? ' is-active' : ''}`}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n      >\n        <form className=\"list-composer__form\" onSubmit={this.onSubmit}>\n          <Input\n            onChange={this.onChange}\n            value={listTitle}\n            placeholder={isActive ? 'Enter list title...' : 'Add a list'}\n            required\n            name=\"listTitle\"\n            hideLabel\n            className=\"list-composer__input\"\n          />\n          {isActive && (\n            <div className=\"list-composer__footer\">\n              <Button\n                className=\"list-composer__btn--add\"\n                type=\"submit\"\n                onClick={this.onSubmit}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Add List\n              </Button>\n              <Button\n                className=\"list-composer__btn--close\"\n                type=\"reset\"\n                onClick={this.onReset}\n                size=\"sm\"\n                iconOnly\n              >\n                <Icon name=\"x\" />\n              </Button>\n            </div>\n          )}\n        </form>\n      </div>\n    );\n  }\n}\n\nconst condition = authUser => !!authUser;\n\nconst mapStateToProps = state => {\n  return {\n    boardsById: boardSelectors.getBoardsById(state),\n    boardsArray: boardSelectors.getBoardsArray(state),\n    current: currentSelectors.getCurrent(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateBoardsById: board => dispatch(boardActions.updateBoardsById(board)),\n    selectBoard: boardId => dispatch(currentActions.selectBoard(boardId))\n  };\n};\n\nexport default withAuthorization(condition)(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(ListComposer)\n);\n","import React from 'react';\nimport { Droppable } from 'react-beautiful-dnd';\nimport * as droppableTypes from '../../constants/droppableTypes';\nimport { ListComposer } from '../ListComposer';\n\nconst Board = props => {\n  const { boardId, children } = props;\n  return (\n    <Droppable\n      droppableId={boardId}\n      type={droppableTypes.LIST}\n      direction=\"horizontal\"\n    >\n      {provided => (\n        <div\n          className=\"board\"\n          ref={provided.innerRef}\n          {...provided.droppableProps}\n        >\n          {children}\n          {provided.placeholder}\n          <ListComposer boardId={boardId} />\n        </div>\n      )}\n    </Droppable>\n  );\n};\n\nexport default Board;\n","import * as types from './types';\nimport firebase from '../../store/firebase';\n\nexport const loadListsById = listsById => {\n  return {\n    type: types.LOAD_LISTS_BY_ID,\n    listsById\n  };\n};\n\nexport const fetchListsById = boardId => {\n  return async dispatch => {\n    try {\n      const listsById = await firebase.db\n        .collection('lists')\n        .where('boardId', '==', boardId)\n        .get()\n        .then(snapshot => {\n          const listsById = {};\n          snapshot.forEach(doc => {\n            listsById[doc.id] = doc.data();\n          });\n          return listsById;\n        });\n      dispatch(loadListsById(listsById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const updateListsById = list => {\n  return {\n    type: types.UPDATE_LISTS_BY_ID,\n    list\n  };\n};\n","export const LOAD_LISTS_BY_ID = 'LOAD_LISTS_BY_ID';\nexport const FETCH_LISTS_BY_ID = 'FETCH_LISTS_BY_ID';\nexport const UPDATE_LISTS_BY_ID = 'UPDATE_LISTS_BY_ID';\nexport const DELETE_CARD = 'DELETE_CARD';\n","export const getListsById = state => {\n  return state.listsById;\n};\n\nexport const getListsArray = state => {\n  const { listsById, boardsById, current } = state;\n  const { boardId } = current;\n  const board = boardsById[boardId];\n  if (!board) return null;\n  const { listIds } = board;\n\n  return listIds.map(listId => {\n    return {\n      listId,\n      ...listsById[listId]\n    };\n  });\n};\n","import * as types from './types';\n\nconst listsById = (state = {}, action) => {\n  switch (action.type) {\n    case types.LOAD_LISTS_BY_ID: {\n      const { listsById } = action;\n      return {\n        ...state,\n        ...listsById\n      };\n    }\n    case types.UPDATE_LISTS_BY_ID: {\n      const { list } = action;\n      return {\n        ...state,\n        ...list\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default listsById;\n","export const getCardsById = state => {\n  return state.cardsById;\n};\n\nexport const getCardsArray = (state, ownProps) => {\n  const { cardsById } = state;\n  const { cardIds } = ownProps;\n  return cardIds.map(cardId => cardsById[cardId]);\n};\n\nexport const getCardTags = (state, ownProps) => {\n  const { boardsById } = state;\n  const { boardId, tags: cardTags } = ownProps;\n  const { tags: boardTags } = boardsById[boardId];\n\n  if (!cardTags || !boardTags) return [];\n  return cardTags.map(cardTag => boardTags[cardTag]);\n};\n","import * as types from './types';\nimport firebase from '../../store/firebase';\n\nexport const loadCardsById = cardsById => {\n  return {\n    type: types.LOAD_CARDS_BY_ID,\n    cardsById\n  };\n};\n\nexport const fetchCardsById = boardId => {\n  return async dispatch => {\n    try {\n      const cardsById = await firebase.db\n        .collection('cards')\n        .where('boardId', '==', boardId)\n        .get()\n        .then(snapshot => {\n          const cards = {};\n          snapshot.forEach(doc => {\n            cards[doc.id] = {\n              cardId: doc.id,\n              ...doc.data()\n            };\n          });\n          return cards;\n        });\n      dispatch(loadCardsById(cardsById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const addCard = ({ cardId, cardData }) => {\n  return {\n    type: types.ADD_CARD,\n    cardId,\n    cardData\n  };\n};\n\nexport const deleteCard = cardId => {\n  return {\n    type: types.DELETE_CARD,\n    cardId\n  };\n};\n\nexport const updateCard = ({ cardId, cardData }) => {\n  return {\n    type: types.UPDATE_CARD,\n    cardId,\n    cardData\n  };\n};\n\nexport const updateCardsById = card => {\n  return {\n    type: types.UPDATE_CARDS_BY_ID,\n    card\n  };\n};\n\nexport const addTag = (cardId, tag) => {\n  return {\n    type: types.ADD_TAG,\n    cardId,\n    tag\n  };\n};\n","export const ADD_CARD = 'ADD_CARD';\nexport const DELETE_CARD = 'DELETE_CARD';\nexport const UPDATE_CARD = 'UPDATE_CARD';\nexport const SET_CARD_DUE_DATE = 'SET_CARD_DUE_DATE';\nexport const ADD_CARD_SUBTASK = 'ADD_CARD_SUBTASK';\nexport const REMOVE_CARD_SUBTASK = 'REMOVE_CARD_SUBTASK';\nexport const CHANGE_CARD_DESCRIPTION = 'CHANGE_CARD_DESCRIPTION';\nexport const SET_CARD_COLOR = 'SET_CARD_COLOR';\nexport const MOVE_CARD = 'MOVE_CARD';\nexport const LOAD_CARDS_BY_ID = 'LOAD_CARDS_BY_ID';\nexport const UPDATE_CARDS_BY_ID = 'UPDATE_CARDS_BY_ID';\nexport const ADD_TAG = 'ADD_TAG';\n","import * as types from './types';\n\nconst cardsById = (state = {}, action) => {\n  switch (action.type) {\n    case types.LOAD_CARDS_BY_ID: {\n      const { cardsById } = action;\n      return {\n        ...state,\n        ...cardsById\n      };\n    }\n    case types.UPDATE_CARDS_BY_ID: {\n      const { card } = action;\n      console.log('cards updated');\n      return {\n        ...state,\n        ...card\n      };\n    }\n    case types.ADD_CARD: {\n      const { cardId, cardData } = action;\n      return {\n        ...state,\n        [cardId]: {\n          cardId,\n          ...cardData\n        }\n      };\n    }\n    case types.DELETE_CARD: {\n      const { cardId } = action;\n      const { [cardId]: deletedCard, ...restOfCards } = state;\n      return restOfCards;\n    }\n    case types.UPDATE_CARD: {\n      const { cardId, cardData } = action;\n      return {\n        ...state,\n        [cardId]: {\n          ...state[cardId],\n          ...cardData\n        }\n      };\n    }\n    case types.ADD_TAG: {\n      const { cardId, tag } = action;\n      return {\n        ...state,\n        [cardId]: {\n          ...state[cardId],\n          tags: [...state[cardId].tags, tag]\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default cardsById;\n","import * as types from './types';\nimport firebase from '../../store/firebase';\n\nexport const loadSubtasksById = subtasksById => {\n  return {\n    type: types.LOAD_SUBTASKS_BY_ID,\n    subtasksById\n  };\n};\n\nexport const fetchSubtasksById = () => {\n  return async dispatch => {\n    try {\n      const subtasksById = await firebase.db\n        .collection('subtasks')\n        .get()\n        .then(snapshot => {\n          const subtasks = {};\n          snapshot.forEach(doc => {\n            subtasks[doc.id] = {\n              subtaskId: doc.id,\n              ...doc.data()\n            };\n          });\n          return subtasks;\n        });\n      dispatch(loadSubtasksById(subtasksById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const updateSubtasksById = subtask => {\n  return {\n    type: types.UPDATE_SUBTASKS_BY_ID,\n    subtask\n  };\n};\n\nexport const fetchCardSubtasks = boardId => {\n  return async dispatch => {\n    try {\n      const subtasksById = await firebase.db\n        .collection('subtasks')\n        .where('boardId', '==', boardId)\n        .get()\n        .then(snapshot => {\n          const subtasks = {};\n          snapshot.forEach(doc => {\n            subtasks[doc.id] = {\n              subtaskId: doc.id,\n              ...doc.data()\n            };\n          });\n          return subtasks;\n        });\n      dispatch(loadSubtasksById(subtasksById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const fetchUserSubtasks = userId => {\n  return async dispatch => {\n    try {\n      const subtasksById = await firebase.db\n        .collection('subtasks')\n        .where('assignedTo', 'array-contains', userId)\n        .get()\n        .then(snapshot => {\n          const subtasks = {};\n          snapshot.forEach(doc => {\n            subtasks[doc.id] = {\n              subtaskId: doc.id,\n              ...doc.data()\n            };\n          });\n          return subtasks;\n        });\n      dispatch(loadSubtasksById(subtasksById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const addSubtask = ({ subtaskId, subtaskData }) => {\n  return {\n    type: types.ADD_SUBTASK,\n    subtaskId,\n    subtaskData\n  };\n};\n\nexport const deleteSubtask = subtaskId => {\n  return {\n    type: types.DELETE_SUBTASK,\n    subtaskId\n  };\n};\n\nexport const updateSubtask = ({ subtaskId, subtaskData }) => {\n  return {\n    type: types.UPDATE_SUBTASK,\n    subtaskId,\n    subtaskData\n  };\n};\n","export const LOAD_SUBTASKS_BY_ID = 'LOAD_SUBTASKS_BY_ID';\nexport const FETCH_SUBTASKS_BY_ID = 'FETCH_SUBTASKS_BY_ID';\nexport const UPDATE_SUBTASKS_BY_ID = 'UPDATE_SUBTASKS_BY_ID';\nexport const ADD_SUBTASK = 'ADD_SUBTASK';\nexport const UPDATE_SUBTASK = 'UPDATE_SUBTASK';\nexport const DELETE_SUBTASK = 'DELETE_SUBTASK';\n","export const getSubtasksById = state => {\n  const { subtasksById } = state;\n  return subtasksById;\n};\n\nexport const getSubtasksArray = (state, subtaskIds) => {\n  const { subtasksById } = state;\n  if (!subtaskIds) return [];\n\n  return subtaskIds.map(subtaskId => {\n    return subtasksById[subtaskId];\n  });\n};\n\nexport const getActiveSubtasks = (state, subtaskIds) => {\n  const subtasks = getSubtasksArray(state, subtaskIds);\n  return subtasks.filter(subtask => !subtask.isCompleted);\n};\n\nexport const getCompletedSubtasks = (state, subtaskIds) => {\n  const subtasks = getSubtasksArray(state, subtaskIds);\n  return subtasks.filter(subtask => subtask.isCompleted);\n};\n","import * as types from './types';\n\nconst subtasksById = (state = {}, action) => {\n  switch (action.type) {\n    case types.LOAD_SUBTASKS_BY_ID: {\n      const { subtasksById } = action;\n      return {\n        ...state,\n        ...subtasksById\n      };\n    }\n    case types.ADD_SUBTASK: {\n      const { subtaskId, subtaskData } = action;\n      return {\n        ...state,\n        [subtaskId]: {\n          subtaskId,\n          ...subtaskData\n        }\n      };\n    }\n    case types.DELETE_SUBTASK: {\n      const { subtaskId } = action;\n      const { [subtaskId]: deletedSubtask, ...restOfSubtasks } = state;\n      return restOfSubtasks;\n    }\n    case types.UPDATE_SUBTASK: {\n      const { subtaskId, subtaskData } = action;\n      return {\n        ...state,\n        [subtaskId]: {\n          ...state[subtaskId],\n          ...subtaskData\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default subtasksById;\n","import React, { Component, createRef } from 'react';\nimport './Textarea.scss';\n\nexport default class Textarea extends Component {\n  static defaultProps = {\n    isAutoHeightResizeEnabled: true\n  };\n\n  constructor(props) {\n    super(props);\n    this.textareaEl = createRef();\n  }\n\n  componentDidMount() {\n    const { isAutoHeightResizeEnabled } = this.props;\n    if (!isAutoHeightResizeEnabled) return;\n    this.autoHeightResize();\n  }\n\n  autoHeightResize = () => {\n    const { isAutoHeightResizeEnabled } = this.props;\n    if (!isAutoHeightResizeEnabled) return;\n\n    this.textareaEl.current.style.height = '0px'; // resets scroll height\n    this.textareaEl.current.style.height = `${\n      this.textareaEl.current.scrollHeight\n    }px`;\n  };\n\n  render() {\n    const {\n      className,\n      name,\n      value,\n      onChange,\n      placeholder,\n      isRequired,\n      onBlur,\n      onFocus,\n      onKeyDown,\n      onDragStart,\n      isReadOnly\n    } = this.props;\n    return (\n      <textarea\n        className={`textarea ${className}`}\n        id={name}\n        name={name}\n        value={value}\n        onChange={onChange}\n        placeholder={placeholder}\n        required={isRequired}\n        onBlur={onBlur}\n        onInput={this.autoHeightResize}\n        ref={this.textareaEl}\n        onFocus={onFocus}\n        onKeyDown={onKeyDown}\n        onDragStart={onDragStart}\n        readOnly={isReadOnly}\n      />\n    );\n  }\n}\n","export const BACKSPACE = 'Backspace';\nexport const ENTER = 'Enter';\nexport const TAB = 'Tab';\nexport const ARROW_DOWN = 'ArrowDown';\nexport const ARROW_UP = 'ArrowUp';\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Icon } from '../Icon';\nimport { withFirebase } from '../Firebase';\nimport { boardActions, boardSelectors } from '../../ducks/boards';\nimport { currentActions, currentSelectors } from '../../ducks/current';\nimport { Textarea } from '../Textarea';\nimport { Button } from '../Button';\nimport * as keys from '../../constants/keys';\nimport './CardComposer.scss';\n\nconst INITIAL_STATE = {\n  cardTitle: '',\n  isActive: false\n};\n\nclass CardComposer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n\n  resetForm = () => {\n    this.setState({ cardTitle: '' });\n  };\n\n  onSubmit = e => {\n    if (e.type === 'keydown' && e.key !== keys.ENTER) return;\n    const { cardTitle } = this.state;\n    const { boardId } = this.props.current;\n    const { listId } = this.props;\n    this.props.firebase.addCard({ boardId, listId, cardTitle });\n    this.resetForm();\n    e.preventDefault();\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  onFocus = e => {\n    this.setState({\n      isActive: true\n    });\n  };\n\n  onReset = e => {\n    this.setState({ ...INITIAL_STATE });\n  };\n\n  onBlur = e => {\n    if (e.target.value !== '') return;\n    this.setState({\n      isActive: false\n    });\n  };\n\n  render() {\n    const { cardTitle, isActive } = this.state;\n\n    return (\n      <div\n        className={`card-composer${isActive ? ' is-active' : ''}`}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n      >\n        <form className=\"card-composer__form\" onSubmit={this.onSubmit}>\n          <Textarea\n            onChange={this.onChange}\n            value={cardTitle}\n            placeholder={isActive ? 'Enter card title...' : 'Add a card'}\n            isRequired\n            name=\"cardTitle\"\n            className=\"card-composer__textarea\"\n            isAutoHeightResizeEnabled={false}\n            onKeyDown={this.onSubmit}\n          />\n          {isActive && (\n            <div className=\"card-composer__footer\">\n              <Button\n                className=\"card-composer__btn--add\"\n                type=\"submit\"\n                onClick={this.onSubmit}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Add Card\n              </Button>\n              <Button\n                className=\"card-composer__btn--close\"\n                type=\"reset\"\n                onClick={this.onReset}\n                size=\"sm\"\n                iconOnly\n              >\n                <Icon name=\"x\" />\n              </Button>\n            </div>\n          )}\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    boardsArray: boardSelectors.getBoardsArray(state),\n    current: currentSelectors.getCurrent(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateBoardsById: board => dispatch(boardActions.updateBoardsById(board))\n  };\n};\n\nexport default withFirebase(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(CardComposer)\n);\n","import React from 'react';\nimport './Menu.scss';\n\nconst Menu = ({ children, onClick, className = '', menuRef }) => {\n  return (\n    <ul className={`menu ${className}`} onClick={onClick} ref={menuRef}>\n      {children}\n    </ul>\n  );\n};\n\nexport default Menu;\n","import React from 'react';\nimport './Menu.scss';\n\nconst MenuItem = ({ children, className = '' }) => {\n  return <li className={`menu__item ${className}`}>{children}</li>;\n};\n\nexport default MenuItem;\n","import React, { Component } from 'react';\n\nexport default class Popover extends Component {\n  state = {\n    isTouchEnabled: false\n  };\n\n  componentDidMount() {\n    document.addEventListener('touchstart', this.handleTouch);\n    document.addEventListener('click', this.handleOutsideClick, false);\n  }\n\n  componentWillUnmount() {\n    const { isTouchEnabled } = this.state;\n\n    if (isTouchEnabled) {\n      document.removeEventListener('touchstart', this.handleOutsideClick);\n    } else {\n      document.removeEventListener('click', this.handleOutsideClick);\n      document.removeEventListener('touchstart', this.handleTouch);\n    }\n  }\n\n  handleOutsideClick = e => {\n    const { onOutsideClick } = this.props;\n    onOutsideClick(e.target);\n  };\n\n  handleTouch = () => {\n    this.setState({\n      isTouchEnabled: true\n    });\n    // remove touch handler to prevent unnecessary refires\n    document.removeEventListener('touchstart', this.handleTouch);\n    // remove outside click handler from click events\n    document.removeEventListener('click', this.handleOutsideClick);\n    // reattach outside click handler to touchstart events\n    document.addEventListener('touchstart', this.handleOutsideClick);\n  };\n\n  render() {\n    const { className, onClick, style, children } = this.props;\n    return (\n      <div className={`popover ${className}`} onClick={onClick} style={style}>\n        {children}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button } from '../Button';\nimport Popover from './Popover';\nimport './Popover.scss';\n\nexport default class PopoverWrapper extends Component {\n  state = {\n    isActive: 'isActive' in this.props ? null : false\n  };\n\n  static defaultProps = {\n    classes: {\n      wrapper: '',\n      popover: ''\n    },\n    buttonProps: {},\n    align: 'left',\n    anchorEl: null\n  };\n\n  handleOutsideClick = target => {\n    if (this.componentEl && this.componentEl.contains(target)) return;\n    const { onOutsideClick, onPopoverClose } = this.props;\n\n    if (onOutsideClick) {\n      onOutsideClick();\n    } else {\n      this.setState({\n        isActive: false\n      });\n  \n      if (onPopoverClose) {\n        onPopoverClose();\n      }\n    }\n  };\n\n  toggleOpen = () => {\n    const { onButtonClick } = this.props;\n\n    if (onButtonClick) {\n      onButtonClick();\n    } else {\n      this.setState(prevState => ({\n        isActive: !prevState.isActive\n      }));\n    }\n  };\n\n  handleClose = e => {\n    if ('isActive' in this.props) return;\n    if (e.target.matches('input')) return;\n    this.setState({\n      isActive: false\n    });\n  };\n\n  render() {\n    const {\n      children,\n      alignInner,\n      onWrapperClick,\n      alignOuter,\n      buttonProps,\n      classes,\n      anchorEl\n    } = this.props;\n    const isActive = 'isActive' in this.props ? this.props.isActive : this.state.isActive;\n\n    let popoverWrapperStyle = null;\n\n    if (anchorEl) {\n      const { offsetTop, offsetLeft } = anchorEl;\n      popoverWrapperStyle = {\n        position: 'absolute',\n        top: offsetTop,\n        [alignOuter]: offsetLeft\n      };\n    }\n\n    return (\n      <div\n        className={`popover-wrapper ${isActive ? 'is-active' : ''} ${\n          classes.wrapper\n        }`}\n        ref={el => (this.componentEl = el)}\n        style={popoverWrapperStyle}\n        onClick={onWrapperClick}\n      >\n        <Button\n          type=\"button\"\n          onClick={this.toggleOpen}\n          buttonRef={this.props.buttonRef}\n          {...buttonProps}\n        />\n        {isActive && (\n          <Popover\n            className={`align-${alignInner} ${classes.popover}`}\n            onClick={this.handleClose}\n            onOutsideClick={this.handleOutsideClick}\n          >\n            {children}\n          </Popover>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Button } from '../Button';\nimport { Icon } from '../Icon';\nimport './Tag.scss';\n\nconst Tag = ({ text, color, size, onDelete, className, tagRef, variant }) => (\n  <span\n    className={`tag tag--${size} bg--${color} ${\n      variant !== 'default' ? `tag--${variant}` : ''\n    } ${className}`}\n    ref={tagRef}\n  >\n    {text}\n    {size === 'md' && (\n      <Button\n        type=\"button\"\n        size=\"sm\"\n        className=\"tag__btn--delete\"\n        onClick={onDelete}\n        iconOnly\n      >\n        <Icon name=\"x\" />\n      </Button>\n    )}\n  </span>\n);\n\nTag.defaultProps = {\n  className: '',\n  onDelete: () => null,\n  color: 'default',\n  size: 'md',\n  variant: 'default'\n};\n\nexport default Tag;\n","import React, { Component } from 'react';\nimport './Avatar.scss';\n\nexport default class Avatar extends Component {\n  static defaultProps = {\n    imgSrc: null,\n    classes: {\n      avatar: '',\n      img: '',\n      placeholder: ''\n    },\n    size: 'md',\n    variant: 'circle'\n  };\n\n  getUserInitials = fullName => {\n    return fullName\n      .split(' ')\n      .map(name => name.charAt(0))\n      .join('')\n      .toUpperCase();\n  };\n\n  render() {\n    const {\n      imgSrc,\n      imgProps,\n      classes,\n      fullName,\n      variant,\n      color,\n      size\n    } = this.props;\n    return (\n      <div\n        className={`avatar avatar--${size} avatar--${variant} ${\n          classes.avatar\n        }`}\n      >\n        {imgSrc !== null ? (\n          <img\n            src={imgSrc}\n            alt={fullName}\n            className={`avatar__img ${classes.img}`}\n            {...imgProps}\n          />\n        ) : (\n          <div\n            className={`avatar__placeholder ${classes.placeholder}`}\n            style={{ backgroundColor: color }}\n          >\n            {this.getUserInitials(fullName)}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","// Full names, shortnames, and total days of months,\n// excluding February (depends on leap year)\nexport const MONTHS = [\n  {\n    long: 'January',\n    short: 'Jan',\n    daysTotal: 31\n  },\n  {\n    long: 'February',\n    short: 'Feb',\n    daysTotal: null\n  },\n  {\n    long: 'March',\n    short: 'Mar',\n    daysTotal: 31\n  },\n  {\n    long: 'April',\n    short: 'Apr',\n    daysTotal: 30\n  },\n  {\n    long: 'May',\n    short: 'May',\n    daysTotal: 31\n  },\n  {\n    long: 'June',\n    short: 'Jun',\n    daysTotal: 30\n  },\n  {\n    long: 'July',\n    short: 'Jul',\n    daysTotal: 31\n  },\n  {\n    long: 'August',\n    short: 'Aug',\n    daysTotal: 31\n  },\n  {\n    long: 'September',\n    short: 'Sep',\n    daysTotal: 30\n  },\n  {\n    long: 'October',\n    short: 'Oct',\n    daysTotal: 31\n  },\n  {\n    long: 'November',\n    short: 'Nov',\n    daysTotal: 30\n  },\n  {\n    long: 'December',\n    short: 'Dec',\n    daysTotal: 31\n  }\n];\n\n// Full names and shortnames of days of week\nexport const WEEK_DAYS = [\n  { long: 'Sunday', short: 'Sun', narrow: 'S' },\n  { long: 'Monday', short: 'Mon', narrow: 'M' },\n  { long: 'Tuesday', short: 'Tue', narrow: 'T' },\n  { long: 'Wednesday', short: 'Wed', narrow: 'W' },\n  { long: 'Thursday', short: 'Thu', narrow: 'T' },\n  { long: 'Friday', short: 'Fri', narrow: 'F' },\n  { long: 'Saturday', short: 'Sat', narrow: 'S' }\n];\n","/* eslint-disable default-case */\n/* eslint-disable no-nested-ternary */\nimport { MONTHS, WEEK_DAYS } from './constants';\n\nexport const isLeapYear = year =>\n  (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n\nexport const getMonthFirstDay = (monthIndex, year) =>\n  new Date(year, monthIndex, 1).getDay();\n\nexport const isToday = date =>\n  new Date().setHours(0, 0, 0, 0) === date.setHours(0, 0, 0, 0);\n\nexport const isYesterday = date => {\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  return today.setDate(today.getDate() - 1) === date.setHours(0, 0, 0, 0);\n};\n\nexport const isTomorrow = date => {\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  return today.setDate(today.getDate() + 1) === date.setHours(0, 0, 0, 0);\n};\n\nexport const getMonthDays = (monthIndex, year) => {\n  if (monthIndex === 1) {\n    return isLeapYear(year) ? 29 : 28;\n  }\n  return MONTHS[monthIndex].daysTotal;\n};\n\nexport const getPrevMonth = (monthIndex, year) => {\n  return {\n    month: monthIndex > 0 ? monthIndex - 1 : 11,\n    year: monthIndex > 0 ? year : year - 1\n  };\n};\n\nexport const getNextMonth = (monthIndex, year) => {\n  return {\n    month: monthIndex < 11 ? monthIndex + 1 : 0,\n    year: monthIndex < 11 ? year : year + 1\n  };\n};\n\nexport const getMonthDates = (month, year) => {\n  const monthDays = getMonthDays(month, year);\n  const monthFirstDay = getMonthFirstDay(month, year);\n  const { month: prevMonth, year: prevMonthYear } = getPrevMonth(month, year);\n  const prevMonthDays = getMonthDays(prevMonth, prevMonthYear);\n  const daysFromPrevMonth = monthFirstDay;\n  const daysFromNextMonth = 7 - ((monthFirstDay + monthDays) % 7);\n  const prevMonthDates = [...new Array(daysFromPrevMonth)].map((n, i) => {\n    return {\n      day: prevMonthDays - daysFromPrevMonth + i + 1,\n      month: prevMonth,\n      year: prevMonthYear\n    };\n  });\n\n  const thisMonthDates = [...new Array(monthDays)].map((n, i) => {\n    return {\n      day: i + 1,\n      month,\n      year\n    };\n  });\n\n  const nextMonthDates = [...new Array(daysFromNextMonth)].map((n, i) => {\n    return {\n      day: i + 1,\n      ...getNextMonth(month, year)\n    };\n  });\n\n  return [...prevMonthDates, ...thisMonthDates, ...nextMonthDates];\n};\n\nexport const isDate = date =>\n  Object.prototype.toString.call(date) === '[object Date]';\n\nexport const getSimpleDate = date => {\n  const dateObj =\n    !isDate(date) && typeof date === 'string' ? new Date(date) : date;\n  return {\n    day: dateObj.getDate(),\n    month: dateObj.getMonth(),\n    year: dateObj.getFullYear()\n  };\n};\n\nexport const isSimpleDate = date => {\n  return date && 'day' in date && 'month' in date && 'year' in date;\n};\n\nexport const isSameDate = (date, base = new Date()) => {\n  if (\n    (!isDate(date) && !isSimpleDate(date)) ||\n    (!isDate(base) && !isSimpleDate(base))\n  )\n    return false;\n  const dateDay = date.day || date.getDate();\n  const dateMonth = date.month || date.getMonth();\n  const dateYear = date.year || date.getFullYear();\n  const baseDay = base.day || base.getDate();\n  const baseMonth = base.month || base.getMonth();\n  const baseYear = date.year || base.getFullYear();\n  return (\n    dateDay === baseDay && dateMonth === baseMonth && dateYear === baseYear\n  );\n};\n\nexport const getNextYears = (num, startingYear = new Date().getFullYear()) => {\n  return [...new Array(num)].map((item, i) => {\n    return startingYear + i;\n  });\n};\n\nexport const zeroPad = (value, length) => {\n  return `${value}`.padStart(length, '0');\n};\n\n/**\n * Returns string representation of simple date object with format `mm-dd-yy`\n * @param {Object} date - simple date object\n */\nexport const toSimpleDateString = date => {\n  const simpleDate = isSimpleDate(date)\n    ? date\n    : isDate(date)\n    ? getSimpleDate(date)\n    : undefined;\n  if (!simpleDate) return '';\n  const { day, month, year } = simpleDate;\n  return `${zeroPad(month + 1, 2)}-${zeroPad(day, 2)}-${year - 2000}`;\n};\n\n/**\n * Converts simple date string back to simple date object\n * @param {String} dateString\n */\nexport const toSimpleDateObj = dateString => {\n  const dateArr = dateString.split('-');\n  const month = dateArr[0] - 1;\n  const day = +dateArr[1];\n  const year = +dateArr[2] + 2000;\n  if (day > getMonthDays(month, year)) {\n    return getSimpleDate(new Date(year, month, day));\n  }\n  return {\n    month,\n    day,\n    year\n  };\n};\n\nexport const isSDSFormat = dateString => {\n  return /^\\d{2}-\\d{2}-\\d{2}$/.test(dateString);\n};\n\n/**\n * Checks if date falls within specified time frame\n * @param {Date Object} date - Javascript date object\n * @param {Number} num - The number of days comprising the time frame to check the date against\n * @param {Date Object} startingDate - The first day of the time frame\n */\nexport const isWithinDays = (date, num, startingDate = new Date()) => {\n  const timeStart = startingDate.setHours(0, 0, 0, 0);\n  const endingDate = new Date(startingDate);\n  const timeEnd = endingDate.setDate(endingDate.getDate() + num);\n  console.log({timeStart, timeEnd}, +date);\n  return +date >= timeStart && +date < timeEnd;\n};\n\nexport const toDateString = (\n  date,\n  options = {\n    useRelative: false,\n    format: {\n      weekday: 'short',\n      month: 'short',\n      day: 'numeric',\n      year: '2-digit'\n    }\n  }\n) => {\n  const { useRelative, format } = options;\n  if (useRelative) {\n    if (isToday(date)) {\n      return 'Today';\n    }\n    if (isYesterday(date)) {\n      return 'Yesterday';\n    }\n    if (isTomorrow(date)) {\n      return 'Tomorrow';\n    }\n    if (isWithinDays(date, 7)) {\n      return WEEK_DAYS[date.getDay()].long;\n    }\n  }\n  return Object.keys(format)\n    .map(key => {\n      switch (key) {\n        case 'weekday': {\n          const value = format[key];\n          const weekday = date.getDay();\n          return WEEK_DAYS[weekday][value];\n        }\n        case 'month': {\n          const value = format[key];\n          const month = date.getMonth();\n          if (value === 'numeric') {\n            return month + 1;\n          } else if (value === '2-digit') {\n            return zeroPad(month + 1, 2);\n          } else {\n            return MONTHS[month][value];\n          }\n        }\n        case 'day': {\n          const value = format[key];\n          const day = date.getDate();\n          if (value === '2-digit') {\n            return zeroPad(day, 2);\n          } else {\n            return day;\n          }\n        }\n        case 'year': {\n          const value = format[key];\n          const year = date.getFullYear();\n          if (value === '2-digit') {\n            return +year.slice(2);\n          } else {\n            return year;\n          }\n        }\n      }\n    })\n    .join(' ');\n};\n","import React from 'react';\n\nconst Radio = ({\n  classes = { radio: '', label: '' },\n  name,\n  id,\n  value,\n  onFocus,\n  onChange,\n  onInput,\n  isRequired,\n  onBlur,\n  inputRef,\n  hideLabel,\n  label,\n  onKeyDown,\n  isChecked\n}) => {\n  return (\n    <>\n      <input\n        className={`radio ${classes.radio}`}\n        id={id}\n        name={name}\n        type=\"radio\"\n        value={value}\n        onFocus={onFocus}\n        onChange={onChange}\n        onBlur={onBlur}\n        ref={inputRef}\n        onInput={onInput}\n        onKeyDown={onKeyDown}\n        required={isRequired}\n        checked={isChecked}\n      />\n      {!hideLabel && (\n        <label htmlFor={id} className={`radio__label ${classes.label}`}>\n          {label}\n        </label>\n      )}\n    </>\n  );\n};\n\nexport default Radio;\n","import React, { Component } from 'react';\nimport * as dateUtils from './utils';\nimport { MONTHS, WEEK_DAYS } from './constants';\nimport { Button } from '../Button';\nimport { Icon } from '../Icon';\nimport { PopoverWrapper } from '../Popover';\nimport { Radio } from '../Radio';\nimport './Calendar.scss';\n\nexport default class Calendar extends Component {\n  state = {\n    isMonthsDropdownActive: false,\n    isYearsDropdownActive: false\n  };\n\n  goToNextMonth = () => {\n    const { month, year, onMonthClick } = this.props;\n    onMonthClick(dateUtils.getNextMonth(month, year));\n  };\n\n  goToPrevMonth = () => {\n    const { month, year, onMonthClick } = this.props;\n    onMonthClick(dateUtils.getPrevMonth(month, year));\n  };\n\n  toggleMonthsDropdown = () => {\n    this.setState(prevState => ({\n      isMonthsDropdownActive: !prevState.isMonthsDropdownActive\n    }));\n  };\n\n  toggleYearsDropdown = () => {\n    this.setState(prevState => ({\n      isYearsDropdownActive: !prevState.isYearsDropdownActive\n    }));\n  };\n\n  selectMonth = e => {\n    const month = +e.target.value;\n    const { onMonthClick, year } = this.props;\n    onMonthClick({ month, year });\n    this.toggleMonthsDropdown();\n  };\n\n  selectYear = e => {\n    const year = +e.target.value;\n    const { onYearClick } = this.props;\n    onYearClick(year);\n    this.toggleYearsDropdown();\n  };\n\n  render() {\n    const { month, year, selectedDate, today, onDayClick, classes } = this.props;\n    const { isMonthsDropdownActive, isYearsDropdownActive } = this.state;\n    const dates = dateUtils.getMonthDates(month, year);\n    const years = dateUtils.getNextYears(4);\n\n    return (\n      <div className={`calendar ${classes.calendar}`}>\n        <div className=\"calendar__year\">\n          <PopoverWrapper\n            isActive={isYearsDropdownActive}\n            onButtonClick={this.toggleYearsDropdown}\n            onOutsideClick={this.toggleYearsDropdown}\n            alignInner=\"left\"\n            classes={{\n              wrapper: 'calendar__years-dropdown-wrapper',\n              popover: 'calendar__years-dropdown'\n            }}\n            buttonProps={{\n              className: `calendar__btn--years-dropdown ${\n                isYearsDropdownActive ? 'is-active' : ''\n              }`,\n              children: (\n                <>\n                  {year}\n                  <Icon name=\"chevron-down\" />\n                </>\n              )\n            }}\n          >\n            <ul className=\"calendar__years-list\">\n              {years.map(yearOption => (\n                <li className=\"calendar__years-item\" key={yearOption}>\n                  <Radio\n                    name=\"year\"\n                    id={yearOption}\n                    value={yearOption}\n                    isChecked={yearOption === year}\n                    label={\n                      yearOption === year ? (\n                        <>\n                          <Icon name=\"check\" />\n                          {yearOption}\n                        </>\n                      ) : (\n                        yearOption\n                      )\n                    }\n                    onChange={this.selectYear}\n                    classes={{\n                      radio: 'calendar__radio',\n                      label: 'calendar__radio-label'\n                    }}\n                  />\n                </li>\n              ))}\n            </ul>\n          </PopoverWrapper>\n        </div>\n        <div className=\"calendar__month\">\n          <PopoverWrapper\n            isActive={isMonthsDropdownActive}\n            onButtonClick={this.toggleMonthsDropdown}\n            onOutsideClick={this.toggleMonthsDropdown}\n            alignInner=\"left\"\n            classes={{\n              wrapper: 'calendar__months-dropdown-wrapper',\n              popover: 'calendar__months-dropdown'\n            }}\n            buttonProps={{\n              className: `calendar__btn--months-dropdown ${\n                isMonthsDropdownActive ? 'is-active' : ''\n              }`,\n              children: (\n                <>\n                  {MONTHS[month].long}\n                  <Icon name=\"chevron-down\" />\n                </>\n              )\n            }}\n          >\n            <ul className=\"calendar__months-list\">\n              {MONTHS.map((monthOption, i) => (\n                <li className=\"calendar__months-item\" key={monthOption.long}>\n                  <Radio\n                    name=\"month\"\n                    id={monthOption.long}\n                    value={i}\n                    isChecked={i === month}\n                    label={\n                      i === month ? (\n                        <>\n                          <Icon name=\"check\" />\n                          {monthOption.long}\n                        </>\n                      ) : (\n                        monthOption.long\n                      )\n                    }\n                    onChange={this.selectMonth}\n                    classes={{\n                      radio: 'calendar__radio',\n                      label: 'calendar__radio-label'\n                    }}\n                  />\n                </li>\n              ))}\n            </ul>\n          </PopoverWrapper>\n          <div className=\"calendar__month--prev-next\">\n            <Button\n              type=\"button\"\n              className=\"calendar__btn--month calendar__btn--prev-month\"\n              size=\"sm\"\n              iconOnly\n              onClick={this.goToPrevMonth}\n            >\n              <Icon name=\"chevron-left\" />\n            </Button>\n            <Button\n              type=\"button\"\n              className=\"calendar__btn--month calendar__btn--next-month\"\n              size=\"sm\"\n              iconOnly\n              onClick={this.goToNextMonth}\n            >\n              <Icon name=\"chevron-right\" />\n            </Button>\n          </div>\n        </div>\n        <div className=\"calendar__week-days\">\n          {WEEK_DAYS.map(day => (\n            <div\n              key={day.long}\n              className={`calendar__week-day ${classes.weekDay}`}\n            >\n              {day.narrow}\n            </div>\n          ))}\n        </div>\n        <div className=\"calendar__days\">\n          {dates.map(date => {\n            const isToday =\n              date.day === today.day &&\n              date.month === today.month &&\n              date.year === today.year;\n            const isSelectedDate =\n              selectedDate &&\n              date.day === selectedDate.day &&\n              date.month === selectedDate.month &&\n              date.year === selectedDate.year;\n            return (\n              <div\n                key={`${date.month}--${date.day}`}\n                className={`calendar__day ${\n                  date.month !== month ? 'calendar__day--prev-next' : ''\n                } ${isToday ? 'is-today' : ''} ${\n                  isSelectedDate ? 'is-selected' : ''\n                } ${classes.day}`}\n              >\n                <Button\n                  type=\"button\"\n                  className=\"calendar__btn--day\"\n                  size=\"sm\"\n                  onClick={() => onDayClick(date)}\n                >\n                  {date.day}\n                </Button>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { cardActions, cardSelectors } from '../../ducks/cards';\nimport { userActions, userSelectors } from '../../ducks/users';\nimport { subtaskSelectors } from '../../ducks/subtasks';\nimport './Card.scss';\nimport { Tag } from '../Tag';\nimport { Icon } from '../Icon';\nimport { Avatar } from '../Avatar';\nimport { Button } from '../Button';\nimport { MONTHS, dateUtils } from '../Calendar';\n\nconst CardDetail = ({ icon, children, className = '' }) => (\n  <div className={`card__detail ${className}`}>\n    <Icon name={icon} />\n    {children}\n  </div>\n);\n\nclass Card extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  shouldComponentUpdate(nextProps) {\n    if (nextProps.cardTags.indexOf(undefined) !== -1) {\n      return false;\n    }\n    return true;\n  }\n\n  handleCardClick = e => {\n    if (e.target.matches('button') || e.target.matches('a')) return;\n    const { cardId, onCardClick } = this.props;\n    onCardClick(cardId);\n  };\n\n  render() {\n    const {\n      cardTitle,\n      cardId,\n      cardIndex,\n      cardTags,\n      commentIds,\n      dueDate,\n      subtaskIds,\n      completedSubtasks,\n      cardMembers\n    } = this.props;\n\n    const dueDateStr = dueDate\n      ? dateUtils.toDateString(dueDate.toDate(), {\n          useRelative: true,\n          format: { month: 'short', day: 'numeric' }\n        })\n      : null;\n    const isDueToday = dueDateStr === 'Today';\n    const isDueTmrw = dueDateStr === 'Tomorrow';\n    const wasDueYest = dueDateStr === 'Yesterday';\n    return (\n      <Draggable draggableId={cardId} index={cardIndex}>\n        {provided => (\n          <div\n            className=\"card\"\n            onClick={this.handleCardClick}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            ref={provided.innerRef}\n          >\n            <div className=\"card__header\" ref={el => (this.headerEl = el)}>\n              <div className=\"card__tags\">\n                {cardTags.map(cardTag => (\n                  <Tag\n                    key={cardTag.text}\n                    size=\"sm\"\n                    color={cardTag.color}\n                    variant=\"pill\"\n                    className=\"card__tag\"\n                  />\n                ))}\n              </div>\n              <h3 className=\"card__title\">{cardTitle}</h3>\n            </div>\n            <div className=\"card__body\">\n              {dueDate && (\n                <CardDetail\n                  icon=\"calendar\"\n                  className={`card__due-date ${isDueToday\n                      ? 'due--today'\n                      : isDueTmrw\n                      ? 'due--tmrw'\n                      : wasDueYest\n                      ? 'due--yest'\n                      : ''}\n                  `}\n                >\n                  {dueDateStr}\n                </CardDetail>\n              )}\n              {subtaskIds && subtaskIds.length > 0 && (\n                <CardDetail icon=\"check-square\">\n                  {completedSubtasks.length}/{subtaskIds.length}\n                </CardDetail>\n              )}\n              {commentIds && commentIds.length > 0 && (\n                <CardDetail icon=\"message-circle\">\n                  {commentIds.length}\n                </CardDetail>\n              )}\n            </div>\n            <div className=\"card__footer\">\n              {cardMembers && cardMembers.length > 0 && (\n                <div className=\"card__members-wrapper\">\n                  <div className=\"card__members\">\n                    {cardMembers.map(member => {\n                      const { name, photoURL, userId } = member;\n                      return (\n                        <Avatar\n                          classes={{\n                            avatar: 'card__avatar',\n                            placeholder: 'card__avatar-placeholder'\n                          }}\n                          fullName={name}\n                          size=\"sm\"\n                          variant=\"circle\"\n                          imgSrc={photoURL}\n                          key={userId}\n                        />\n                      );\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </Draggable>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    cardTags: cardSelectors.getCardTags(state, ownProps),\n    completedSubtasks: subtaskSelectors.getCompletedSubtasks(\n      state,\n      ownProps.subtaskIds\n    ),\n    cardMembers: userSelectors.getMembersArray(state, ownProps.assignedTo)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Card);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Droppable } from 'react-beautiful-dnd';\nimport * as droppableTypes from '../../constants/droppableTypes';\nimport { Card } from '../Card';\n\nexport default class Cards extends Component {\n  static propTypes = {\n    listId: PropTypes.string.isRequired\n  };\n\n  /*\n\n  shouldComponentUpdate(nextProps) {\n    if (this.props.cards === nextProps.cards) {\n      return false;\n    }\n    return true;\n  }\n*/\n  componentDidUpdate(prevProps) {\n    if (this.props.cards.length > prevProps.cards.length) {\n      this.scrollToBottom();\n    }\n  }\n\n  scrollToBottom = () => {\n    this.listEnd.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  render() {\n    const { listId, cards, style, onCardClick, onCardDelete } = this.props;\n\n    return (\n      <Droppable droppableId={listId} type={droppableTypes.CARD}>\n        {(provided, snapshot) => (\n          <div\n            className=\"list__content\"\n            ref={provided.innerRef}\n            style={{\n              ...style,\n              minHeight: snapshot.isDraggingOver ? 80 : 16\n            }}\n            {...provided.droppableProps}\n          >\n            {cards.map((card, cardIndex) => {\n              return (\n                <Card\n                  key={card.cardId}\n                  cardIndex={cardIndex}\n                  onCardClick={onCardClick}\n                  onCardDelete={onCardDelete}\n                  {...card}\n                />\n              );\n            })}\n            {provided.placeholder}\n            <div\n              style={{ float: 'left', clear: 'both' }}\n              ref={el => (this.listEnd = el)}\n            />\n          </div>\n        )}\n      </Droppable>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { withAuthorization } from '../Session';\nimport { cardActions, cardSelectors } from '../../ducks/cards';\nimport { CardComposer } from '../CardComposer';\nimport { Icon } from '../Icon';\nimport { Menu, MenuItem } from '../Menu';\nimport { PopoverWrapper } from '../Popover';\nimport { Input } from '../Input';\nimport Cards from './Cards';\nimport './List.scss';\n\nclass List extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listTitle: this.props.listTitle\n    };\n  }\n\n  handleListDelete = e => {\n    e.preventDefault();\n    const { listId, boardId, firebase } = this.props;\n    firebase.deleteList({ listId, boardId });\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  onBlur = e => {\n    const { listTitle, listId, firebase } = this.props;\n    const { listTitle: newListTitle } = this.state;\n\n    // When field loses focus, update list title if change is detected\n\n    if (newListTitle !== listTitle) {\n      firebase.updateList(listId, {\n        listTitle: newListTitle\n      });\n      console.log('updated!');\n    }\n  };\n\n  render() {\n    const {\n      cards,\n      onCardClick,\n      listId,\n      listIndex,\n      isFetchingCards\n    } = this.props;\n    if (isFetchingCards) return null;\n\n    const { listTitle, viewportHeight } = this.state;\n\n    return (\n      <Draggable draggableId={listId} index={listIndex}>\n        {provided => (\n          <>\n            <section\n              className=\"list\"\n              ref={provided.innerRef}\n              {...provided.draggableProps}\n              {...provided.dragHandleProps}\n            >\n              <header\n                className=\"list__header\"\n                ref={el => (this.listHeaderEl = el)}\n              >\n                <Input\n                  className=\"list__input--title\"\n                  name=\"listTitle\"\n                  type=\"text\"\n                  value={listTitle}\n                  onChange={this.onChange}\n                  required\n                  hideLabel\n                  onBlur={this.onBlur}\n                />\n                <PopoverWrapper\n                  classes={{\n                    wrapper: 'list__popover-wrapper',\n                    popover: 'list__popover'\n                  }}\n                  alignInner=\"left\"\n                  buttonProps={{\n                    size: 'medium',\n                    iconOnly: true,\n                    className: 'list__btn--more-actions',\n                    children: <Icon name=\"more-vertical\" />\n                  }}\n                >\n                  <Menu>\n                    <MenuItem>\n                      <a href=\"\" onClick={this.handleListDelete}>\n                        Delete\n                      </a>\n                    </MenuItem>\n                  </Menu>\n                </PopoverWrapper>\n              </header>\n              <Cards\n                cards={cards}\n                listId={listId}\n                onCardClick={onCardClick}\n                onCardDelete={this.handleCardDelete}\n              />\n              {provided.placeholder}\n              <CardComposer listId={listId} />\n            </section>\n            {provided.placeholder}\n          </>\n        )}\n      </Draggable>\n    );\n  }\n}\n\nconst condition = authUser => !!authUser;\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    cards: cardSelectors.getCardsArray(state, ownProps)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default withAuthorization(condition)(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(List)\n);\n","import * as types from './types';\nimport firebase from '../../store/firebase';\n\nexport const loadCommentsById = commentsById => {\n  return {\n    type: types.LOAD_COMMENTS_BY_ID,\n    commentsById\n  };\n};\n\nexport const fetchCommentsById = () => {\n  return async dispatch => {\n    try {\n      const commentsById = await firebase.db\n        .collection('comments')\n        .get()\n        .then(snapshot => {\n          const comments = {};\n          snapshot.forEach(doc => {\n            comments[doc.id] = {\n              commentId: doc.id,\n              ...doc.data()\n            };\n          });\n          return comments;\n        });\n      dispatch(loadCommentsById(commentsById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const updateCommentsById = comment => {\n  return {\n    type: types.UPDATE_COMMENTS_BY_ID,\n    comment\n  };\n};\n\nexport const fetchCardComments = cardId => {\n  return async dispatch => {\n    try {\n      const commentsById = await firebase.db\n        .collection('comments')\n        .where('cardId', '==', cardId)\n        .get()\n        .then(snapshot => {\n          const comments = {};\n          snapshot.forEach(doc => {\n            comments[doc.id] = {\n              commentId: doc.id,\n              ...doc.data()\n            };\n          });\n          return comments;\n        });\n      dispatch(loadCommentsById(commentsById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const fetchUserComments = userId => {\n  return async dispatch => {\n    try {\n      const commentsById = await firebase.db\n        .collection('comments')\n        .where('to', 'array-contains', userId)\n        .get()\n        .then(snapshot => {\n          const comments = {};\n          snapshot.forEach(doc => {\n            comments[doc.id] = {\n              commentId: doc.id,\n              ...doc.data()\n            };\n          });\n          return comments;\n        });\n      dispatch(loadCommentsById(commentsById));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nexport const addComment = ({ commentId, commentData }) => {\n  return {\n    type: types.ADD_COMMENT,\n    commentId,\n    commentData\n  };\n};\n\nexport const deleteComment = commentId => {\n  return {\n    type: types.DELETE_COMMENT,\n    commentId\n  };\n};\n\nexport const updateComment = ({ commentId, commentData }) => {\n  return {\n    type: types.UPDATE_COMMENT,\n    commentId,\n    commentData\n  };\n};\n","export const LOAD_COMMENTS_BY_ID = 'LOAD_COMMENTS_BY_ID';\nexport const FETCH_COMMENTS_BY_ID = 'FETCH_COMMENTS_BY_ID';\nexport const UPDATE_COMMENTS_BY_ID = 'UPDATE_COMMENTS_BY_ID';\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const UPDATE_COMMENT = 'UPDATE_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\n","export const getCommentsById = state => {\n  const { commentsById } = state;\n  return commentsById;\n};\n\nexport const getCommentsArray = (state, commentIds) => {\n  const { commentsById } = state;\n  if (!commentIds) return [];\n\n  return commentIds.map(commentId => {\n    return commentsById[commentId];\n  });\n};\n","import * as types from './types';\n\nconst commentsById = (state = {}, action) => {\n  switch (action.type) {\n    case types.LOAD_COMMENTS_BY_ID: {\n      const { commentsById } = action;\n      return {\n        ...state,\n        ...commentsById\n      };\n    }\n    case types.ADD_COMMENT: {\n      const { commentId, commentData } = action;\n      return {\n        ...state,\n        [commentId]: {\n          commentId,\n          ...commentData\n        }\n      };\n    }\n    case types.DELETE_COMMENT: {\n      const { commentId } = action;\n      const { [commentId]: deletedComment, ...restOfComments } = state;\n      return restOfComments;\n    }\n    case types.UPDATE_COMMENT: {\n      const { commentId, commentData } = action;\n      return {\n        ...state,\n        [commentId]: {\n          ...state[commentId],\n          ...commentData\n        }\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default commentsById;\n","import React from 'react';\nimport './Toolbar.scss';\n\nconst Toolbar = ({ className, children, ...props }) => (\n  <div className={`toolbar ${className}`} {...props}>\n    {children}\n  </div>\n);\n\nToolbar.defaultProps = {\n  className: ''\n};\n\nexport default Toolbar;\n","import React, { Component } from 'react';\nimport { Icon } from '../Icon';\nimport { PopoverWrapper } from '../Popover';\n\nexport default class CardEditorAssignMember extends Component {\n  render() {\n    const { children } = this.props;\n\n    return (\n      <PopoverWrapper\n        classes={{\n          wrapper: \"card-editor__popover-wrapper card-editor__member-search-popover-wrapper\",\n          popover: \"card-editor__popover card-editor__member-search-popover\"\n        }}\n        alignOuter=\"left\"\n        alignInner=\"left\"\n        buttonProps={{\n          size: 'md',\n          iconOnly: true,\n          className: 'card-editor__toolbar-btn',\n          children: <Icon name=\"users\" />,\n          buttonRef: this.props.buttonRef\n        }}\n      >\n        {children}\n      </PopoverWrapper>\n    );\n  }\n}\n","import React from 'react';\n\nconst CardEditorSection = ({ children }) => (\n  <div className=\"card-editor__section\">{children}</div>\n);\n\nexport default CardEditorSection;\n","import React, { Component } from 'react';\n\nimport { Input } from '../Input';\nimport { Avatar } from '../Avatar';\nimport { Icon } from '../Icon';\nimport * as keys from '../../constants/keys';\nimport './MemberSearch.scss';\n\nexport default class MemberSearch extends Component {\n  state = {\n    query: '',\n    isActive: false,\n    isTouchEnabled: false,\n    selectedMember: '',\n    selectedIndex: null,\n    filteredList: this.props.users\n  };\n\n  componentDidMount() {\n    document.addEventListener('touchstart', this.handleTouch);\n    document.addEventListener('click', this.handleOutsideClick, false);\n    this.inputEl.focus();\n  }\n\n  handleOutsideClick = e => {\n    if (this.state.query !== '') return;\n    if (!this.memberSearchEl.contains(e.target)) {\n      this.setState({\n        isActive: false\n      });\n    }\n  };\n\n  handleTouch = () => {\n    this.setState({\n      isTouchEnabled: true\n    });\n    // remove touch handler to prevent unnecessary refires\n    document.removeEventListener('touchstart', this.handleTouch);\n    // remove outside click handler from click events\n    document.removeEventListener('click', this.handleOutsideClick);\n    // reattach outside click handler to touchstart events\n    document.addEventListener('touchstart', this.handleOutsideClick);\n  };\n\n  matchUser = (user, query) => {\n    const { name, email, username } = user;\n    const regExp = new RegExp(query, 'i');\n    return regExp.test(name) || regExp.test(email) || regExp.test(username);\n  };\n\n  onFocus = e => {\n    this.setState({\n      isActive: true\n    });\n  };\n\n  onReset = e => {\n    this.setState({\n      query: '',\n      isActive: false,\n      isTouchEnabled: false,\n      selectedMember: '',\n      selectedIndex: null,\n      filteredList: this.props.users\n    });\n  };\n\n  onChange = e => {\n    const { users } = this.props;\n    const { selectedMember, selectedIndex } = this.state;\n    const query = e.target.value;\n    const filteredList = users.filter(user => this.matchUser(user, query));\n    const newIndex = filteredList.indexOf(selectedMember);\n    const persistSelectedMember = newIndex !== -1;\n\n    this.setState({\n      selectedMember: persistSelectedMember\n        ? selectedMember\n        : filteredList.length > 0\n        ? filteredList[0].userId\n        : '',\n      selectedIndex: persistSelectedMember ? newIndex : 0,\n      query,\n      filteredList\n    });\n  };\n\n  onKeyDown = e => {\n    if (\n      e.key !== keys.TAB &&\n      e.key !== keys.ARROW_DOWN &&\n      e.key !== keys.ARROW_UP &&\n      e.key !== keys.ENTER\n    )\n      return;\n\n    const { filteredList, selectedIndex, selectedMember } = this.state;\n    const { onMemberClick } = this.props;\n    const nextIndex =\n      selectedIndex === filteredList.length - 1 ? 0 : selectedIndex + 1;\n    const prevIndex =\n      selectedIndex === 0 ? filteredList.length - 1 : selectedIndex - 1;\n\n    // eslint-disable-next-line default-case\n    switch (e.key) {\n      case keys.ARROW_DOWN:\n      // eslint-disable-next-line no-fallthrough\n      case keys.TAB: {\n        this.setState({\n          selectedMember: filteredList[nextIndex].userId,\n          selectedIndex: nextIndex\n        });\n        break;\n      }\n      case keys.ARROW_UP: {\n        this.setState({\n          selectedMember: filteredList[prevIndex].userId,\n          selectedIndex: prevIndex\n        });\n        break;\n      }\n      case keys.ENTER: {\n        if (selectedMember === '') return;\n        onMemberClick(selectedMember);\n        break;\n      }\n    }\n\n    e.preventDefault();\n  };\n\n  componentWillUnmount() {\n    const { isTouchEnabled } = this.state;\n\n    if (isTouchEnabled) {\n      document.removeEventListener('touchstart', this.handleOutsideClick);\n    } else {\n      document.removeEventListener('click', this.handleOutsideClick);\n      document.removeEventListener('touchstart', this.handleTouch);\n    }\n  }\n\n  render() {\n    const { users, onMemberClick, assignedMembers } = this.props;\n    const { query, isActive, filteredList, selectedMember } = this.state;\n\n    return (\n      <div\n        className=\"member-search__wrapper\"\n        ref={el => (this.memberSearchEl = el)}\n      >\n        <Input\n          name=\"query\"\n          className=\"member-search\"\n          onChange={this.onChange}\n          value={query}\n          onFocus={this.onFocus}\n          onBlur={this.onBlur}\n          type=\"text\"\n          autoComplete=\"off\"\n          hideLabel\n          placeholder=\"Assign or remove member\"\n          onKeyDown={this.onKeyDown}\n          inputRef={el => (this.inputEl = el)}\n        />\n        {isActive && (\n          <ul className=\"member-search__list\">\n            {filteredList.length > 0 ? (\n              filteredList.map((user, i) => {\n                const { name, photoURL, email, username, userId } = user;\n                const isAssigned =\n                  assignedMembers && assignedMembers.indexOf(userId) !== -1;\n                return (\n                  <li\n                    className={`member-search__item ${\n                      selectedMember === userId ? 'is-selected' : ''\n                    }`}\n                    onClick={() => onMemberClick(userId)}\n                    key={userId}\n                    id={userId}\n                  >\n                    <Icon name={isAssigned ? 'user-minus' : 'user-plus'} />\n                    <Avatar\n                      classes={{\n                        avatar: 'member-search__avatar--sm',\n                        placeholder: 'member-search__avatar-placeholder--sm'\n                      }}\n                      fullName={name}\n                      size=\"sm\"\n                      variant=\"circle\"\n                      imgSrc={photoURL}\n                    />\n                    <span className=\"member-search__info member-search__name\">\n                      {name}\n                    </span>\n                    <span className=\"member-search__info member-search__username\">\n                      {username}\n                    </span>\n                    <span className=\"member-search__info member-search__email\">\n                      {email}\n                    </span>\n                  </li>\n                );\n              })\n            ) : (\n              <li className=\"member-search__item\">\n                <span className=\"member-search__no-match\">\n                  No matches found\n                </span>\n              </li>\n            )}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Icon } from '../Icon';\nimport { Menu, MenuItem } from '../Menu';\nimport { PopoverWrapper } from '../Popover';\n\nconst CardEditorMoreActions = ({ onMenuClick }) => (\n  <PopoverWrapper\n    classes={{\n      wrapper: 'card-editor__popover-wrapper',\n      popover: 'card-editor__popover'\n    }}\n    alignOuter=\"right\"\n    alignInner=\"right\"\n    buttonProps={{\n      size: 'md',\n      iconOnly: true,\n      className: 'card-editor__toolbar-btn',\n      children: <Icon name=\"more-horizontal\" />\n    }}\n  >\n    <Menu onClick={onMenuClick}>\n      <MenuItem>\n        <a href=\"\" data-action=\"delete\">\n          Delete card\n        </a>\n      </MenuItem>\n    </Menu>\n  </PopoverWrapper>\n);\n\nexport default CardEditorMoreActions;\n","import React from 'react';\nimport { Icon } from '../Icon';\nimport './Checkbox.scss';\n\nconst Checkbox = ({\n  value,\n  id,\n  name,\n  isChecked,\n  onClick,\n  onChange,\n  className,\n  labelClass,\n  ...props\n}) => {\n  return (\n    <label\n      htmlFor={id}\n      onClick={onClick}\n      className={`checkbox__label ${labelClass}`}\n    >\n      {isChecked && <Icon name=\"check\" />}\n      <input\n        type=\"checkbox\"\n        id={id}\n        value={value}\n        name={name}\n        checked={isChecked}\n        className={`checkbox ${className}`}\n        onChange={onChange}\n        {...props}\n      />\n    </label>\n  );\n};\n\nCheckbox.defaultProps = {\n  className: '',\n  labelClass: ''\n};\n\nexport default Checkbox;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { Checkbox } from '../Checkbox';\nimport { Textarea } from '../Textarea';\n\nconst appRoot = document.getElementById('root');\n\nexport default class CardEditorSubtask extends Component {\n  constructor(props) {\n    super(props);\n    this.portal = document.createElement('div');\n  }\n\n  componentDidMount() {\n    appRoot.appendChild(this.portal);\n  }\n\n  onDragStart = e => {\n    console.log('dragstart');\n    this.setState({\n      isReadOnly: true\n    });\n  };\n\n  componentWillUnmount() {\n    appRoot.removeChild(this.portal);\n  }\n\n  render() {\n    const {\n      subtaskId,\n      index,\n      text,\n      isCompleted,\n      toggleCompleted,\n      onChange,\n      onBlur,\n      onKeyDown\n    } = this.props;\n\n    return (\n      <Draggable draggableId={subtaskId} index={index}>\n        {(provided, snapshot) => {\n          const inner = (\n            <li\n              className=\"card-editor__subtask\"\n              ref={provided.innerRef}\n              {...provided.draggableProps}\n              {...provided.dragHandleProps}\n            >\n              <Checkbox\n                id={`cb-${subtaskId}`}\n                value={subtaskId}\n                name={subtaskId}\n                isChecked={isCompleted}\n                onChange={toggleCompleted}\n                className=\"card-editor__checkbox\"\n                labelClass=\"card-editor__checkbox-label\"\n              />\n              <Textarea\n                value={text}\n                onChange={onChange}\n                onBlur={onBlur}\n                name={subtaskId}\n                className=\"card-editor__textarea--subtask\"\n                onKeyDown={onKeyDown}\n                onDragStart={this.onDragStart}\n              />\n            </li>\n          );\n          return snapshot.isDragging\n            ? ReactDOM.createPortal(inner, this.portal)\n            : inner;\n        }}\n      </Draggable>\n    );\n  }\n}\n","/* eslint-disable no-nested-ternary */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withAuthorization } from '../Session';\nimport { userActions, userSelectors } from '../../ducks/users';\nimport { currentActions, currentSelectors } from '../../ducks/current';\nimport { listActions, listSelectors } from '../../ducks/lists';\nimport { cardActions, cardSelectors } from '../../ducks/cards';\nimport { commentActions, commentSelectors } from '../../ducks/comments';\nimport { Icon } from '../Icon';\nimport { Button } from '../Button';\nimport { Avatar } from '../Avatar';\nimport './CardEditorComment.scss';\n\nclass CardEditorComment extends Component {\n  state = {\n    secondsElapsed: 0\n  };\n\n  componentDidMount() {\n    const { createdAt } = this.props.comment;\n    const secondsSinceCreation =\n      Math.floor(Date.now() / 1000) -\n      Math.floor(createdAt.toDate().getTime() / 1000);\n\n    this.setState({\n      secondsElapsed: secondsSinceCreation\n    });\n\n    this.interval = setInterval(this.tick, 1000);\n  }\n\n  tick = () => {\n    this.setState(prevState => ({\n      secondsElapsed: prevState.secondsElapsed + 1\n    }));\n  };\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  handleLikeClick = () => {\n    const { handleLike, comment } = this.props;\n    const { commentId } = comment;\n    handleLike(commentId);\n  };\n\n  render() {\n    const { user, comment } = this.props;\n    const { secondsElapsed } = this.state;\n    const { name, photoURL } = user;\n    const {\n      text,\n      createdAt,\n      lastModifiedAt,\n      likes,\n      to,\n      from,\n      isPinned\n    } = comment;\n    if (!createdAt) return null;\n    const date = new Date();\n    const dateCreatedFull = createdAt.toDate();\n    const timeCreated = dateCreatedFull.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    });\n    const dateCreated = dateCreatedFull.toDateString();\n    const isToday = date.toDateString() === dateCreated;\n    const isYesterday =\n      new Date(date.setDate(date.getDate() - 1)).setHours(0, 0, 0, 0) ===\n      new Date(dateCreatedFull.getTime()).setHours(0, 0, 0, 0);\n\n    return (\n      <div\n        className={`card-editor__comment-wrapper ${\n          isPinned ? 'is-pinned' : ''\n        }`}\n      >\n        <Avatar\n          classes={{\n            avatar: 'card-editor__comment-avatar',\n            placeholder: 'card-editor__comment-avatar-placeholder'\n          }}\n          fullName={name}\n          size=\"sm\"\n          variant=\"circle\"\n          imgSrc={photoURL}\n        />\n        <div className=\"card-editor__comment\">\n          <div className=\"card-editor__comment-header\">\n            <div className=\"card-editor__comment-details\">\n              <span className=\"card-editor__name\">{name}</span>\n              <span className=\"card-editor__timestamp\">\n                {secondsElapsed < 60 // less than one minute\n                  ? 'Just now'\n                  : secondsElapsed < 120 // less than 2 minutes\n                  ? '1 minute ago'\n                  : secondsElapsed < 3600 // less than 1 hour\n                  ? `${Math.floor(secondsElapsed / 60)} minutes ago`\n                  : secondsElapsed < 7200 // less than 2 hours\n                  ? '1 hour ago'\n                  : secondsElapsed < 21600 // less than 6 hours\n                  ? `${Math.floor(secondsElapsed / 3600)} hours ago`\n                  : isToday\n                  ? `Today at ${timeCreated}`\n                  : isYesterday\n                  ? `Yesterday at ${timeCreated}`\n                  : `${dateCreated} ${timeCreated}`}\n              </span>\n            </div>\n            <Button\n              className=\"card-editor__likes\"\n              onClick={this.handleLikeClick}\n              size=\"sm\"\n            >\n              <Icon name=\"thumbs-up\" />\n              <span className=\"card-editor__likes-counter\">\n                {likes.length > 0 ? likes.length : ''}\n              </span>\n            </Button>\n          </div>\n          <div className=\"card-editor__comment-body\">{text}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst condition = authUser => !!authUser;\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user: userSelectors.getUserData(state, ownProps.comment.from),\n    current: currentSelectors.getCurrent(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateCardsById: card => dispatch(cardActions.updateCardsById(card)),\n    fetchCardComments: cardId =>\n      dispatch(commentActions.fetchCardComments(cardId)),\n    addComment: ({ commentId, commentData }) =>\n      dispatch(commentActions.addComment({ commentId, commentData })),\n    deleteComment: commentId =>\n      dispatch(commentActions.deleteComment(commentId)),\n    updateComment: ({ commentId, commentData }) =>\n      dispatch(commentActions.updateComment({ commentId, commentData }))\n  };\n};\n\nexport default withAuthorization(condition)(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(CardEditorComment)\n);\n","import React, { Component } from 'react';\nimport { Radio } from '../Radio';\nimport './ColorPicker.scss';\n\nexport default class ColorPicker extends Component {\n  state = {\n    selectedColor: 'default'\n  };\n\n  handleColorChange = e => {\n    const { selectColor } = this.props;\n    this.setState({\n      selectedColor: e.target.value\n    });\n    selectColor(e.target.value);\n  };\n\n  render() {\n    const { style } = this.props;\n    const { selectedColor } = this.state;\n    return (\n      <div className=\"color-picker\" style={style}>\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--default'\n          }}\n          name=\"tagColor\"\n          id=\"colorDefault\"\n          value=\"default\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'default'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--red'\n          }}\n          name=\"tagColor\"\n          id=\"colorRed\"\n          value=\"red\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'red'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--pink'\n          }}\n          name=\"tagColor\"\n          id=\"colorPink\"\n          value=\"pink\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'pink'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--grape'\n          }}\n          name=\"tagColor\"\n          id=\"colorGrape\"\n          value=\"grape\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'grape'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--violet'\n          }}\n          name=\"tagColor\"\n          id=\"colorViolet\"\n          value=\"violet\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'violet'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--indigo'\n          }}\n          name=\"tagColor\"\n          id=\"colorIndigo\"\n          value=\"indigo\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'indigo'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--blue'\n          }}\n          name=\"tagColor\"\n          id=\"colorBlue\"\n          value=\"blue\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'blue'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--cyan'\n          }}\n          name=\"tagColor\"\n          id=\"colorCyan\"\n          value=\"cyan\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'cyan'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--teal'\n          }}\n          name=\"tagColor\"\n          id=\"colorTeal\"\n          value=\"teal\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'teal'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--green'\n          }}\n          name=\"tagColor\"\n          id=\"colorGreen\"\n          value=\"green\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'green'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--yellow'\n          }}\n          name=\"tagColor\"\n          id=\"colorYellow\"\n          value=\"yellow\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'yellow'}\n        />\n        <Radio\n          classes={{\n            radio: 'color-picker__radio',\n            label: 'color-picker__swatch bg--orange'\n          }}\n          name=\"tagColor\"\n          id=\"colorOrange\"\n          value=\"orange\"\n          onChange={this.handleColorChange}\n          isChecked={selectedColor === 'orange'}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Tag } from '../Tag';\nimport { Input } from '../Input';\nimport { ColorPicker } from '../ColorPicker';\nimport * as keys from '../../constants/keys';\nimport './TagsInput.scss';\n\nexport default class TagsInput extends Component {\n  state = {\n    value: '',\n    isActive: false,\n    isTouchEnabled: false,\n    selectedTag: '',\n    focusedTag: '',\n    selectedIndex: null,\n    hasExactMatch: null,\n    filteredList: []\n  };\n\n  componentDidMount() {\n    document.addEventListener('touchstart', this.handleTouch);\n    document.addEventListener('click', this.handleOutsideClick, false);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    if (nextProps.assignedTags.indexOf(undefined) !== -1) {\n      return false;\n    }\n    return true;\n  }\n\n  componentWillUnmount() {\n    const { isTouchEnabled } = this.state;\n\n    if (isTouchEnabled) {\n      document.removeEventListener('touchstart', this.handleOutsideClick);\n    } else {\n      document.removeEventListener('click', this.handleOutsideClick);\n      document.removeEventListener('touchstart', this.handleTouch);\n    }\n  }\n\n  onFocus = () => {\n    this.setState({\n      isActive: true\n    });\n  };\n\n  onBlur = () => {\n    this.setState({\n      selectedTag: '',\n      selectedIndex: null\n    });\n  };\n\n  resetForm = () => {\n    this.setState({\n      value: '',\n      selectedTag: '',\n      selectedIndex: null,\n      hasExactMatch: null,\n      focusedTag: '',\n      filteredList: []\n    });\n  };\n\n  matchTag = (tag, value) => {\n    const { text } = tag;\n    const regExp = new RegExp(value, 'i');\n    return regExp.test(text);\n  };\n\n  onChange = e => {\n    const { tagSuggestions } = this.props;\n    const { selectedTag, selectedIndex } = this.state;\n    const { value } = e.target;\n    const filteredList = tagSuggestions.filter(tag =>\n      this.matchTag(tag, value)\n    );\n    const hasExactMatch =\n      filteredList.findIndex(item => item.text === value) !== -1;\n    const newIndex = filteredList.indexOf(selectedTag);\n    const persistSelectedTag = newIndex !== -1;\n\n    this.setState({\n      selectedTag: persistSelectedTag\n        ? selectedTag\n        : filteredList.length > 0\n        ? filteredList[0].text\n        : '',\n      selectedIndex: persistSelectedTag ? newIndex : 0,\n      value,\n      filteredList: hasExactMatch\n        ? filteredList\n        : [...filteredList, { text: value, color: 'default' }],\n      hasExactMatch\n    });\n  };\n\n  onKeyDown = e => {\n    if (\n      e.key !== keys.TAB &&\n      e.key !== keys.ARROW_DOWN &&\n      e.key !== keys.ARROW_UP &&\n      e.key !== keys.ENTER &&\n      e.key !== keys.BACKSPACE\n    )\n      return;\n\n    const { filteredList, selectedIndex, selectedTag, value, focusedTag } = this.state;\n    const { addTag, removeTag, assignedTags } = this.props;\n    const nextIndex =\n      selectedIndex === filteredList.length - 1 || selectedIndex === null\n        ? 0\n        : selectedIndex + 1;\n    const prevIndex =\n      selectedIndex === 0 ? filteredList.length - 1 : selectedIndex - 1;\n\n    // eslint-disable-next-line default-case\n    switch (e.key) {\n      case keys.ARROW_DOWN:\n      // eslint-disable-next-line no-fallthrough\n      case keys.TAB: {\n        this.setState({\n          selectedTag: filteredList[nextIndex].text,\n          selectedIndex: nextIndex\n        });\n        break;\n      }\n      case keys.ARROW_UP: {\n        this.setState({\n          selectedTag: filteredList[prevIndex].text,\n          selectedIndex: prevIndex\n        });\n        break;\n      }\n      case keys.ENTER: {\n        if (selectedTag === '' && value === '') return;\n        this.resetForm();\n        addTag(selectedTag === '' ? value : selectedTag);\n        break;\n      }\n      case keys.BACKSPACE: {\n        if (value !== '') return;\n        if (focusedTag === '') {\n        this.setState({\n          focusedTag: assignedTags[assignedTags.length - 1].text\n        });\n      } else {\n        this.resetForm();\n        removeTag(focusedTag);\n      }\n      }\n    }\n    e.preventDefault();\n  };\n\n  handleOutsideClick = e => {\n    if (this.el.contains(e.target)) return;\n\n    this.setState({\n      isActive: false\n    });\n  };\n\n  handleTouch = () => {\n    this.setState({\n      isTouchEnabled: true\n    });\n    // remove touch handler to prevent unnecessary refires\n    document.removeEventListener('touchstart', this.handleTouch);\n    // remove outside click handler from click events\n    document.removeEventListener('click', this.handleOutsideClick);\n    // reattach outside click handler to touchstart events\n    document.addEventListener('touchstart', this.handleOutsideClick);\n  };\n\n  handleTagDelete = tag => {\n    const { removeTag } = this.props;\n    this.resetForm();\n    removeTag(tag);\n  };\n\n  render() {\n    const {\n      isColorPickerActive,\n      assignedTags,\n      setTagColor,\n      currentTag,\n      removeTag\n    } = this.props;\n    const {\n      value,\n      isActive,\n      filteredList,\n      selectedTag,\n      hasExactMatch,\n      focusedTag\n    } = this.state;\n\n    const hasTags = assignedTags && assignedTags.length > 0;\n\n    const colorPickerStyle = {};\n    if (this.currentTagEl) {\n      const {\n        offsetLeft,\n        offsetWidth,\n        offsetTop,\n        offsetHeight\n      } = this.currentTagEl;\n      colorPickerStyle.left = offsetLeft + offsetWidth / 2 - 74; // 74 = 1/2 colorPicker width\n      colorPickerStyle.top = offsetTop + offsetHeight + 9; // 9 = colorPicker arrow height\n    }\n\n    return (\n      <div className={`tags__container ${isActive ? 'is-active' : ''} ${!hasTags ? 'no-tags' : ''}`} ref={el => (this.el = el)}>\n        {assignedTags.map(tag => (\n          <Tag\n            key={tag.text}\n            color={tag.color}\n            size=\"md\"\n            text={tag.text}\n            onDelete={() => this.handleTagDelete(tag.text)}\n            className={focusedTag === tag.text ? 'is-focused' : ''}\n            tagRef={\n              currentTag === tag.text ? el => (this.currentTagEl = el) : null\n            }\n          />\n        ))}\n        <div className=\"tags-input__wrapper\">\n          <Input\n            className=\"tags-input\"\n            onChange={this.onChange}\n            onBlur={this.onBlur}\n            value={value}\n            onFocus={this.onFocus}\n            type=\"text\"\n            autoComplete=\"off\"\n            onKeyDown={this.onKeyDown}\n            hideLabel\n          />\n          {isActive && (\n            <ul className=\"tags-input__list\">\n              {filteredList.map((item, i) => {\n                return (\n                  <li\n                    key={item.text}\n                    className={`tags-input__item ${\n                      selectedTag === item.text ? 'is-selected' : ''\n                    } ${\n                      !hasExactMatch && i === filteredList.length - 1\n                        ? 'tags-input__item--new'\n                        : ''\n                    }`}\n                  >\n                    {!hasExactMatch && i === filteredList.length - 1 ? (\n                      <>\n                        <h4 className=\"tags-input__item--heading\">New Tag</h4>\n                        <span className=\"tags-input__item--text\">\n                          {item.text}\n                        </span>\n                      </>\n                    ) : (\n                      <Tag text={item.text} color={item.color} size=\"sm\" />\n                    )}\n                  </li>\n                );\n              })}\n            </ul>\n          )}\n        </div>\n        {isActive && isColorPickerActive && (\n          <ColorPicker\n            isActive={isColorPickerActive}\n            selectColor={setTagColor}\n            style={colorPickerStyle}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Calendar, dateUtils } from '../Calendar';\nimport { Button } from '../Button';\nimport { Input } from '../Input';\nimport './DatePicker.scss';\n\nexport default class DatePicker extends Component {\n  state = {\n    today: {\n      day: new Date().getDate(),\n      month: new Date().getMonth(),\n      year: new Date().getFullYear()\n    },\n    selectedDate: this.props.selectedDate,\n    currentMonth: this.props.currentMonth,\n    currentYear: this.props.currentYear,\n    dateString: dateUtils.toSimpleDateString(this.props.selectedDate) || ''\n  };\n\n  componentDidMount() {}\n\n  selectDate = date => {\n    if (typeof date === 'string') {\n      const newDate = dateUtils.toSimpleDateObj(date);\n      const { month, year } = newDate;\n      const { currentMonth, currentYear } = this.state;\n      this.setState({\n        selectedDate: newDate\n      });\n      if (month !== currentMonth || year !== currentYear) {\n        this.setCurrentMonth({ month, year });\n      }\n    } else {\n      this.setState({\n        selectedDate: date,\n        dateString: dateUtils.toSimpleDateString(date)\n      });\n    }\n  };\n\n  setCurrentMonth = ({ month, year }) => {\n    this.setState({\n      currentMonth: month,\n      currentYear: year\n    });\n  };\n\n  setCurrentYear = year => {\n    this.setState({\n      currentYear: year\n    });\n  };\n\n  updateDateString = e => {\n    const { value } = e.target;\n    this.setState({\n      dateString: value\n    });\n    if (dateUtils.isSDSFormat(value)) {\n      this.selectDate(value);\n    }\n  };\n\n  setDate = () => {\n    const { selectedDate: currentDueDate, selectDate, onClose } = this.props;\n    const { selectedDate } = this.state;\n    if (\n      !(currentDueDate === null && selectedDate === null) &&\n      !dateUtils.isSameDate(currentDueDate, selectedDate)\n    ) {\n      const { day, month, year } = selectedDate;\n      const date = new Date(year, month, day);\n      selectDate(date);\n    }\n    onClose();\n  };\n\n  clearDueDate = () => {\n    const { selectedDate, selectDate } = this.props;\n    this.selectDate(null);\n    if (selectedDate !== null) {\n      selectDate(null);\n    }\n  };\n\n  render() {\n    const { onClose } = this.props;\n    const {\n      today,\n      selectedDate,\n      currentMonth,\n      currentYear,\n      dateString\n    } = this.state;\n    return (\n      <div className=\"date-picker\">\n        <div className=\"date-picker__header\">\n          <div className=\"date-picker__due-date-wrapper\">\n            <Input\n              name=\"dueDate\"\n              type=\"text\"\n              label=\"Due Date\"\n              value={dateString}\n              onChange={this.updateDateString}\n              className=\"date-picker__input--due-date\"\n              labelClass=\"date-picker__label--due-date\"\n              placeholder=\"mm-dd-yy\"\n              maxLength={8}\n            />\n          </div>\n        </div>\n        <Calendar\n          classes={{\n            calendar: 'date-picker__calendar',\n            weekDay: 'date-picker__week-day'\n          }}\n          month={currentMonth}\n          year={currentYear}\n          selectedDate={selectedDate}\n          today={today}\n          onDayClick={this.selectDate}\n          onMonthClick={this.setCurrentMonth}\n          onYearClick={this.setCurrentYear}\n        />\n        <div className=\"date-picker__footer\">\n          <Button\n            size=\"sm\"\n            variant=\"text\"\n            color=\"neutral\"\n            className=\"date-picker__btn--clear\"\n            onClick={this.clearDueDate}\n          >\n            Clear\n          </Button>\n          <Button\n            size=\"sm\"\n            variant=\"contained\"\n            color=\"primary\"\n            className=\"date-picker__btn--set-due-date\"\n            onClick={this.setDate}\n          >\n            Done\n          </Button>\n          <Button\n            size=\"sm\"\n            variant=\"text\"\n            color=\"neutral\"\n            className=\"date-picker__btn--cancel\"\n            onClick={onClose}\n          >\n            Cancel\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/* eslint-disable no-nested-ternary */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport { withFirebase } from '../Firebase';\nimport { currentActions, currentSelectors } from '../../ducks/current';\nimport { cardActions, cardSelectors } from '../../ducks/cards';\nimport { subtaskActions, subtaskSelectors } from '../../ducks/subtasks';\nimport { userSelectors } from '../../ducks/users';\nimport { commentActions, commentSelectors } from '../../ducks/comments';\nimport { Textarea } from '../Textarea';\nimport { Button } from '../Button';\nimport { Icon } from '../Icon';\nimport { Modal } from '../Modal';\nimport { Toolbar } from '../Toolbar';\nimport { Avatar } from '../Avatar';\nimport CardEditorAssignMember from './CardEditorAssignMember';\nimport CardEditorSection from './CardEditorSection';\nimport { MemberSearch } from '../MemberSearch';\nimport CardEditorMoreActions from './CardEditorMoreActions';\nimport * as keys from '../../constants/keys';\nimport * as droppableTypes from '../../constants/droppableTypes';\nimport CardEditorSubtask from './CardEditorSubtask';\nimport CardEditorComment from './CardEditorComment';\nimport { TagsInput } from '../TagsInput';\nimport './CardEditor.scss';\nimport { boardSelectors } from '../../ducks/boards';\nimport { DatePicker } from '../DatePicker';\nimport { MONTHS, dateUtils } from '../Calendar';\n\nclass CardEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFetching:\n        this.props.commentIds !== undefined && this.props.commentIds.length > 0,\n      cardTitle: this.props.cardTitle,\n      cardDescription: this.props.cardDescription || '',\n      newSubtask: '',\n      cardSubtasks: this.props.subtasksArray.reduce((subtasks, subtask) => {\n        const { subtaskId, text, isCompleted } = subtask;\n        subtasks[subtaskId] = {\n          text,\n          isCompleted\n        };\n        return subtasks;\n      }, {}),\n      newComment: '',\n      currentFocus: null,\n      subtaskIds: this.props.subtaskIds || [],\n      isColorPickerActive: false,\n      currentTag: null,\n      isDatePickerActive: false\n    };\n    this.membersListButton = React.createRef();\n  }\n\n  componentDidMount() {\n    const {\n      cardId,\n      commentIds,\n      firebase,\n      fetchCardComments,\n      addComment,\n      deleteComment,\n      updateComment\n    } = this.props;\n\n    if (commentIds && commentIds.length > 0) {\n      fetchCardComments(cardId).then(() => {\n        this.setState({\n          isFetching: false\n        });\n      });\n    }\n\n    this.commentObserver = firebase.db\n      .collection('comments')\n      .where('cardId', '==', cardId)\n      .onSnapshot(querySnapshot => {\n        querySnapshot.docChanges().forEach(change => {\n          const commentId = change.doc.id;\n          const commentData = change.doc.data();\n          if (change.type === 'added') {\n            addComment({ commentId, commentData });\n          }\n          if (change.type === 'modified') {\n            updateComment({ commentId, commentData });\n          }\n          if (change.type === 'removed') {\n            deleteComment(commentId);\n          }\n        });\n      });\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if ('subtaskIds' in props === false) return null;\n    if (props.subtaskIds.length !== state.subtaskIds.length) {\n      return {\n        cardSubtasks: props.subtasksArray.reduce((subtasks, subtask) => {\n          const { subtaskId, text, isCompleted } = subtask;\n          subtasks[subtaskId] = {\n            text,\n            isCompleted\n          };\n          return subtasks;\n        }, {}),\n        subtaskIds: props.subtaskIds\n      };\n    }\n    return null;\n  }\n\n  updateCardSubtasks = () => {\n    const { subtasksArray } = this.props;\n    this.setState({\n      cardSubtasks: subtasksArray.reduce((subtasks, subtask) => {\n        const { subtaskId, text, isCompleted } = subtask;\n        subtasks[subtaskId] = {\n          text,\n          isCompleted\n        };\n        return subtasks;\n      }, {})\n    });\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  deleteCard = () => {\n    const { cardId, listId, firebase, handleCardEditorClose } = this.props;\n    firebase.deleteCard({ cardId, listId });\n    handleCardEditorClose();\n  };\n\n  onBlur = e => {\n    const { [cardKey]: currentValue, cardId, firebase } = this.props;\n    const cardKey = e.target.name;\n    const { [cardKey]: updatedValue } = this.state;\n\n    // When field loses focus, update card if change is detected\n\n    if (updatedValue !== currentValue) {\n      firebase.updateCard(cardId, {\n        [cardKey]: updatedValue\n      });\n      console.log('updated!');\n    }\n\n    this.setState({\n      currentFocus: null\n    });\n  };\n\n  addComment = e => {\n    if (e.type === 'keydown' && e.key !== keys.ENTER) return;\n    const { userId, firebase, cardId, boardId } = this.props;\n    const { newComment: text } = this.state;\n    firebase.addComment({ userId, text, cardId, boardId });\n    this.resetForm('newComment');\n    e.preventDefault();\n  };\n\n  resetForm = key => {\n    this.setState({\n      [key]: ''\n    });\n  };\n\n  addSubtask = e => {\n    if (e.type === 'keydown' && e.key !== keys.ENTER) return;\n    const { userId, firebase, cardId, boardId } = this.props;\n    const { newSubtask: text } = this.state;\n    firebase.addSubtask({ userId, text, cardId, boardId });\n    this.resetForm('newSubtask');\n    e.preventDefault();\n  };\n\n  onFocus = e => {\n    this.setState({\n      currentFocus: e.target.name\n    });\n  };\n\n  handleModalClick = e => {\n    const { currentFocus } = this.state;\n    if (\n      (currentFocus === 'newComment' &&\n        !this.commentFormEl.contains(e.target)) ||\n      (currentFocus === 'newSubtask' &&\n        !this.newSubtaskFormEl.contains(e.target))\n    ) {\n      this.setState({\n        currentFocus: null\n      });\n    }\n  };\n\n  handleMoreActions = e => {\n    if (!e.target.matches('a')) return;\n    const { action } = e.target.dataset;\n    switch (action) {\n      case 'delete':\n        this.deleteCard();\n        break;\n    }\n    e.preventDefault(); // prevents page reload\n  };\n\n  onSubtaskChange = e => {\n    const { cardSubtasks } = this.state;\n    this.setState({\n      cardSubtasks: {\n        ...cardSubtasks,\n        [e.target.name]: {\n          ...cardSubtasks[e.target.name],\n          text: e.target.value\n        }\n      }\n    });\n  };\n\n  handleCheckboxChange = e => {\n    const subtaskId = e.target.name;\n    this.toggleSubtaskCompleted(subtaskId);\n  };\n\n  toggleSubtaskCompleted = subtaskId => {\n    const { isCompleted } = this.state.cardSubtasks[subtaskId];\n    this.setState(prevState => ({\n      cardSubtasks: {\n        ...prevState.cardSubtasks,\n        [subtaskId]: {\n          ...prevState.cardSubtasks[subtaskId],\n          isCompleted: !prevState.cardSubtasks[subtaskId].isCompleted\n        }\n      }\n    }));\n    const { firebase } = this.props;\n    firebase.updateSubtask(subtaskId, { isCompleted: !isCompleted });\n  };\n\n  updateSubtaskText = e => {\n    const subtaskId = e.target.name;\n    const { cardSubtasks } = this.state;\n    const { text } = cardSubtasks[subtaskId];\n    const { firebase } = this.props;\n    firebase.updateSubtask(subtaskId, { text });\n  };\n\n  deleteSubtask = e => {\n    if (e.target.value !== '' || e.key !== keys.BACKSPACE) return;\n    const { cardId, firebase } = this.props;\n    const subtaskId = e.target.name;\n    firebase.deleteSubtask({ subtaskId, cardId });\n  };\n\n  moveSubtask = ({ destination, draggableId, source }) => {\n    if (!destination) return;\n    if (destination.index === source.index) return;\n    const { firebase } = this.props;\n    const { subtaskIds } = this.state;\n    const updatedSubtaskIds = [...subtaskIds];\n    updatedSubtaskIds.splice(source.index, 1);\n    updatedSubtaskIds.splice(destination.index, 0, draggableId);\n    this.setState({\n      subtaskIds: updatedSubtaskIds\n    });\n    firebase.updateCard(source.droppableId, {\n      subtaskIds: updatedSubtaskIds\n    });\n  };\n\n  handleCommentLike = commentId => {\n    const { firebase, userId, commentsById } = this.props;\n    const { likes } = commentsById[commentId];\n\n    if (likes.indexOf(userId) === -1) {\n      firebase.updateComment(commentId, {\n        likes: firebase.addToArray(userId)\n      });\n    } else {\n      firebase.updateComment(commentId, {\n        likes: firebase.removeFromArray(userId)\n      });\n    }\n  };\n\n  assignMember = userId => {\n    const { cardId, boardId, assignedTo, firebase } = this.props;\n\n    if (assignedTo.indexOf(userId) !== -1) {\n      firebase.updateCard(cardId, {\n        assignedTo: firebase.removeFromArray(userId),\n        lastModifiedAt: firebase.getTimestamp()\n      });\n    } else {\n      firebase.assignCard({ cardId, boardId, userId });\n    }\n  };\n\n  toggleColorPicker = value => {\n    this.setState({\n      isColorPickerActive: value\n    });\n  };\n\n  addTag = text => {\n    console.log(text);\n    const {\n      firebase,\n      currentUser,\n      boardTags,\n      cardId,\n      boardId,\n      addTag\n    } = this.props;\n    const { userId, tags: userTags } = currentUser;\n    const isBoardTag = boardTags && text in boardTags;\n    const isUserTag = userTags && text in userTags;\n    const tagData = isBoardTag\n      ? boardTags[text]\n      : isUserTag\n      ? userTags[text]\n      : { boardId, text };\n\n    firebase\n      .addTag({\n        userId,\n        cardId,\n        boardId,\n        ...tagData\n      })\n      .then(() => {\n        if (!isUserTag && !isBoardTag) {\n          this.setState({\n            currentTag: text\n          });\n          this.toggleColorPicker(true);\n        }\n      });\n  };\n\n  setTagColor = color => {\n    const { userId, boardId, firebase } = this.props;\n    const { currentTag: tag } = this.state;\n    firebase.setTagColor({ userId, boardId, tag, color });\n  };\n\n  removeTag = tag => {\n    const { cardId, firebase } = this.props;\n    firebase.removeTag({ cardId, tag });\n    this.toggleColorPicker(false);\n  };\n\n  setDueDate = date => {\n    const { firebase, cardId } = this.props;\n\n    firebase.updateCard(cardId, {\n      dueDate: date\n    });\n  };\n\n  toggleDatePicker = () => {\n    this.setState(prevState => ({\n      isDatePickerActive: !prevState.isDatePickerActive\n    }));\n  };\n\n  componentWillUnmount() {\n    this.commentObserver();\n  }\n\n  render() {\n    const {\n      handleCardEditorClose,\n      cardId,\n      commentIds,\n      assignedTo,\n      commentsArray,\n      usersArray,\n      membersArray,\n      currentUser,\n      cardTags,\n      mergedTags,\n      dueDate\n    } = this.props;\n    const {\n      cardTitle,\n      cardDescription,\n      newComment,\n      currentFocus,\n      newSubtask,\n      cardSubtasks,\n      subtaskIds,\n      isFetching,\n      isColorPickerActive,\n      isDatePickerActive,\n      currentTag\n    } = this.state;\n    const hasSubtasks = subtaskIds !== undefined && subtaskIds.length > 0;\n    const hasComments = commentIds !== undefined && commentIds.length > 0;\n    const isAssigned = !!assignedTo && assignedTo.length > 0;\n    const isNewCommentInvalid = newComment === '';\n    const isNewSubtaskInvalid = newSubtask === '';\n    const commentFormIsFocused = currentFocus === 'newComment';\n    const newSubtaskFormIsFocused = currentFocus === 'newSubtask';\n    const cardDueDate = dueDate\n      ? dateUtils.getSimpleDate(dueDate.toDate())\n      : dateUtils.getSimpleDate(new Date());\n\n    if (isFetching) return null;\n\n    return (\n      <Modal\n        onModalClose={handleCardEditorClose}\n        classes={{content: \"card-editor\"}}\n        onModalClick={this.handleModalClick}\n        size=\"lg\"\n        id=\"cardEditor\"\n      >\n        <Toolbar className=\"card-editor__toolbar\">\n          <CardEditorAssignMember buttonRef={this.membersListButton}>\n            <MemberSearch\n              users={usersArray}\n              assignedMembers={assignedTo}\n              onMemberClick={this.assignMember}\n            />\n          </CardEditorAssignMember>\n          <CardEditorMoreActions onMenuClick={this.handleMoreActions} />\n        </Toolbar>\n        <form\n          name=\"editCardForm\"\n          onFocus={this.onFocus}\n          className=\"card-editor__edit-card-form\"\n        >\n          <Textarea\n            className=\"card-editor__textarea--title\"\n            name=\"cardTitle\"\n            value={cardTitle}\n            onChange={this.onChange}\n            required\n            onBlur={this.onBlur}\n            onFocus={this.onFocus}\n          />\n          <CardEditorSection>\n            <Button\n              onClick={this.toggleDatePicker}\n              type=\"button\"\n              className={`card-editor__btn--due-date ${\n                isDatePickerActive ? 'is-active' : ''\n              }`}\n            >\n              <span className=\"card-editor__due-date-icon\">\n                <Icon name=\"calendar\" />\n              </span>\n              <span className=\"card-editor__due-date-wrapper\">\n                {!dueDate ? (\n                  <span className=\"card-editor__no-due-date\">Set due date</span>\n                ) : (\n                  <>\n                    <span className=\"card-editor__section-title--sm\">\n                      Due Date\n                    </span>\n                    <span className=\"card-editor__due-date\">{`${\n                      MONTHS[cardDueDate.month].short\n                    } ${cardDueDate.day}`}</span>\n                  </>\n                )}\n              </span>\n            </Button>\n            {isDatePickerActive && (\n              <DatePicker\n                onClose={this.toggleDatePicker}\n                selectedDate={dueDate ? cardDueDate : null}\n                currentMonth={cardDueDate.month}\n                currentYear={cardDueDate.year}\n                selectDate={this.setDueDate}\n              />\n            )}\n          </CardEditorSection>\n          <CardEditorSection>\n            <div className=\"card-editor__section-icon\">\n              <Icon name=\"user\" />\n            </div>\n            {isAssigned && (\n              <div className=\"card-editor__members\">\n                {membersArray.map(member => {\n                  const { name, photoURL, userId } = member;\n                  return (\n                    <Avatar\n                      classes={{\n                        avatar: 'card-editor__avatar',\n                        placeholder: 'card-editor__avatar-placeholder'\n                      }}\n                      fullName={name}\n                      size=\"sm\"\n                      variant=\"circle\"\n                      imgSrc={photoURL}\n                      key={userId}\n                    />\n                  );\n                })}\n              </div>\n            )}\n            <Button\n              type=\"button\"\n              className=\"card-editor__btn--add-member\"\n              onClick={() => this.membersListButton.current.click()}\n            >\n              <Icon name=\"plus\" />\n            </Button>\n          </CardEditorSection>\n          <CardEditorSection>\n            <div className=\"card-editor__section-icon\">\n              <Icon name=\"tag\" />\n            </div>\n            <TagsInput\n              addTag={this.addTag}\n              tagSuggestions={mergedTags}\n              assignedTags={cardTags}\n              isColorPickerActive={isColorPickerActive}\n              setTagColor={this.setTagColor}\n              removeTag={this.removeTag}\n              currentTag={currentTag}\n            />\n          </CardEditorSection>\n          <CardEditorSection>\n            <div className=\"card-editor__section-icon\">\n              <Icon name=\"edit-3\" />\n            </div>\n            <Textarea\n              className=\"card-editor__textarea card-editor__textarea--description\"\n              name=\"cardDescription\"\n              value={cardDescription}\n              onChange={this.onChange}\n              placeholder=\"Add a description\"\n              onBlur={this.onBlur}\n              onFocus={this.onFocus}\n            />\n          </CardEditorSection>\n        </form>\n        <CardEditorSection>\n          <div className=\"card-editor__section-header\">\n            <div className=\"card-editor__section-icon\">\n              <Icon name=\"check-square\" />\n            </div>\n            <h3 className=\"card-editor__section-title\">Subtasks</h3>\n            <hr className=\"card-editor__hr\" />\n          </div>\n          {hasSubtasks && (\n            <DragDropContext onDragEnd={this.moveSubtask}>\n              <Droppable droppableId={cardId} type={droppableTypes.TASK}>\n                {provided => (\n                  <ul\n                    className=\"card-editor__subtasks\"\n                    ref={provided.innerRef}\n                    {...provided.droppableProps}\n                  >\n                    {subtaskIds.map((subtaskId, index) => {\n                      return (\n                        <CardEditorSubtask\n                          subtaskId={subtaskId}\n                          index={index}\n                          text={cardSubtasks[subtaskId].text}\n                          isCompleted={cardSubtasks[subtaskId].isCompleted}\n                          toggleCompleted={this.handleCheckboxChange}\n                          onChange={this.onSubtaskChange}\n                          onBlur={this.updateSubtaskText}\n                          onKeyDown={this.deleteSubtask}\n                          key={subtaskId}\n                        />\n                      );\n                    })}\n                    {provided.placeholder}\n                  </ul>\n                )}\n              </Droppable>\n            </DragDropContext>\n          )}\n          <div className=\"card-editor__section-icon\">\n            {newSubtaskFormIsFocused ? (\n              <div className=\"card-editor__checkbox\" />\n            ) : (\n              <Icon name=\"plus-circle\" />\n            )}\n          </div>\n          <form\n            name=\"newSubtaskForm\"\n            className={`card-editor__new-subtask-form ${\n              currentFocus === 'newSubtask' ? 'is-focused' : ''\n            }`}\n            ref={el => (this.newSubtaskFormEl = el)}\n            onSubmit={this.addSubtask}\n          >\n            <Textarea\n              className=\"card-editor__textarea card-editor__textarea--new-subtask\"\n              name=\"newSubtask\"\n              value={newSubtask}\n              onChange={this.onChange}\n              placeholder=\"Add a subtask\"\n              onFocus={this.onFocus}\n              onKeyDown={this.addSubtask}\n            />\n            {currentFocus === 'newSubtask' && (\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                size=\"small\"\n                variant=\"contained\"\n                disabled={isNewSubtaskInvalid}\n                onClick={this.addSubtask}\n                className=\"card-editor__btn--add-subtask\"\n              >\n                Add subtask\n              </Button>\n            )}\n          </form>\n        </CardEditorSection>\n        <CardEditorSection>\n          <div className=\"card-editor__section-header\">\n            <div className=\"card-editor__section-icon\">\n              <Icon name=\"message-circle\" />\n            </div>\n            <h3 className=\"card-editor__section-title\">Comments</h3>\n            <hr className=\"card-editor__hr\" />\n          </div>\n\n          {hasComments && (\n            <div className=\"card-editor__comments\">\n              {commentsArray.map(comment => {\n                const { commentId } = comment;\n                return (\n                  <CardEditorComment\n                    key={commentId}\n                    comment={comment}\n                    handleLike={this.handleCommentLike}\n                  />\n                );\n              })}\n            </div>\n          )}\n          <Avatar\n            classes={{\n              avatar: 'card-editor__avatar',\n              placeholder: 'card-editor__avatar-placeholder'\n            }}\n            fullName={currentUser.name}\n            size=\"sm\"\n            variant=\"circle\"\n            imgSrc={currentUser.photoURL}\n          />\n          <form\n            name=\"commentForm\"\n            className={`card-editor__comment-form ${\n              commentFormIsFocused ? 'is-focused' : ''\n            }`}\n            ref={el => (this.commentFormEl = el)}\n            onSubmit={this.addComment}\n          >\n            <Textarea\n              className=\"card-editor__textarea card-editor__textarea--comment\"\n              name=\"newComment\"\n              value={newComment}\n              onChange={this.onChange}\n              placeholder=\"Write a comment...\"\n              onFocus={this.onFocus}\n              onKeyDown={this.addComment}\n            />\n            {commentFormIsFocused && (\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                size=\"small\"\n                variant=\"contained\"\n                disabled={isNewCommentInvalid}\n                onClick={this.addComment}\n                name=\"newCommentSubmit\"\n                className=\"card-editor__btn--submit-comment\"\n              >\n                Send\n              </Button>\n            )}\n          </form>\n        </CardEditorSection>\n      </Modal>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    currentUser: userSelectors.getCurrentUserData(state),\n    subtasksArray: subtaskSelectors.getSubtasksArray(\n      state,\n      ownProps.subtaskIds\n    ),\n    commentsArray: commentSelectors.getCommentsArray(\n      state,\n      ownProps.commentIds\n    ),\n    commentsById: commentSelectors.getCommentsById(state),\n    usersArray: userSelectors.getUsersArray(state),\n    membersArray: userSelectors.getMembersArray(state, ownProps.assignedTo),\n    cardTags: cardSelectors.getCardTags(state, ownProps),\n    mergedTags: currentSelectors.getMergedTags(state),\n    boardTags: boardSelectors.getBoardTags(state, ownProps.boardId)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchCardComments: cardId =>\n      dispatch(commentActions.fetchCardComments(cardId)),\n    addComment: ({ commentId, commentData }) =>\n      dispatch(commentActions.addComment({ commentId, commentData })),\n    deleteComment: commentId =>\n      dispatch(commentActions.deleteComment(commentId)),\n    updateComment: ({ commentId, commentData }) =>\n      dispatch(commentActions.updateComment({ commentId, commentData })),\n    addTag: (cardId, tag) => dispatch(cardActions.addTag(cardId, tag))\n  };\n};\n\nexport default withFirebase(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(CardEditor)\n);\n","\n/**\n * Checks if two arrays or objects are equal\n * @param {Array|Object} value\n * @param {Array|Object} other\n */\n\n// eslint-disable-next-line import/prefer-default-export\nexport const isEqual = (value, other) => {\n  const type = Object.prototype.toString.call(value);\n\n  // If both objects are not the same type, return false\n  if (type !== Object.prototype.toString.call(other)) return false;\n\n  const typeObj = '[object Object]';\n  const typeArr = '[object Array]';\n  // If items are neither objects nor arrays, return false\n  if (type !== typeObj && type !== typeArr) return false;\n\n  // Compare length of two items\n  const valueLen = type === typeArr ? value.length : Object.keys(value).length;\n  const otherLen = type === typeArr ? other.length : Object.keys(other).length;\n  if (valueLen !== otherLen) return false;\n\n  const compare = (item1, item2) => {\n    const typeFunc = '[object Function]';\n    const itemType = Object.prototype.toString.call(item1);\n    if (itemType !== Object.prototype.toString.call(item2)) return false;\n    if (itemType === typeObj || itemType === typeArr) {\n      return isEqual(item1, item2);\n    }\n    if (itemType === typeFunc) {\n      return item1.toString() === item2.toString();\n    }\n    return item1 === item2;\n  };\n\n  if (type === typeArr) {\n    for (let i = 0; i < valueLen; i++) {\n      if (!compare(value[i], other[i])) return false;\n    }\n  } else {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in value) {\n      if (value.hasOwnProperty(key)) {\n        if (compare(value[key], other[key]) === false) return false;\n      }\n    }\n  }\n  return true;\n};\n\n/**\n * Delays callback execution until next browser repaint\n * Best used for `scroll` and `resize` window events\n * @param {Function} callback - The function to debounce\n */\n\nexport const windowDebouncer = callback => {\n  let request;\n\n  return (...args) => {\n    const context = this;\n\n    if (request) {\n      window.cancelAnimationFrame(request);\n    }\n\n    request = window.requestAnimationFrame(() => {\n      callback.apply(context, args);\n    });\n  };\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { withFirebase } from '../Firebase';\nimport { boardActions, boardSelectors } from '../../ducks/boards';\nimport { currentActions, currentSelectors } from '../../ducks/current';\nimport { listActions, listSelectors } from '../../ducks/lists';\nimport { cardActions, cardSelectors } from '../../ducks/cards';\nimport { subtaskActions, subtaskSelectors } from '../../ducks/subtasks';\nimport * as ROUTES from '../../constants/routes';\nimport Board from './Board';\nimport { Input } from '../Input';\nimport { List } from '../List';\nimport { CardEditor } from '../CardEditor';\nimport * as droppableTypes from '../../constants/droppableTypes';\nimport { utils } from '../../utils';\nimport './Board.scss';\n\nclass BoardContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFetching: true,\n      isDragging: false,\n      isCardEditorOpen: false,\n      boardTitle: this.props.boardTitle\n    };\n  }\n\n  componentDidMount() {\n    const {\n      current,\n      fetchListsById,\n      fetchCardsById,\n      fetchCardSubtasks,\n      firebase,\n      updateBoard,\n      updateListsById,\n      addCard,\n      deleteCard,\n      updateCard,\n      updateBoardTags,\n      boardId,\n      board,\n      updateListIds,\n      addSubtask,\n      updateSubtask,\n      deleteSubtask,\n      selectBoard\n    } = this.props;\n\n    if (current.boardId !== boardId) {\n      selectBoard(boardId);\n    }\n\n    fetchListsById(boardId);\n    fetchCardsById(boardId);\n    fetchCardSubtasks(boardId).then(() => {\n      this.setState({\n        isFetching: false\n      });\n    });\n    this.boardObserver = firebase.getBoardDoc(boardId).onSnapshot(snapshot => {\n      const updatedBoard = snapshot.data();\n      if (!utils.isEqual(updatedBoard.listIds, board.listIds)) {\n        updateListIds(boardId, updatedBoard.listIds);\n      } else if (!utils.isEqual(updatedBoard.tags, board.tags)) {\n        updateBoardTags(boardId, updatedBoard.tags);\n      } else {\n        updateBoard(boardId, updatedBoard);\n      }\n    });\n    this.listObserver = firebase.db\n      .collection('lists')\n      .where('boardId', '==', boardId)\n      .onSnapshot(querySnapshot => {\n        querySnapshot.docChanges().forEach(change => {\n          const list = {\n            [change.doc.id]: change.doc.data()\n          };\n          updateListsById(list);\n        });\n      });\n    this.subtaskObserver = firebase.db\n      .collection('subtasks')\n      .where('boardId', '==', boardId)\n      .onSnapshot(querySnapshot => {\n        querySnapshot.docChanges().forEach(change => {\n          const subtaskId = change.doc.id;\n          const subtaskData = change.doc.data();\n          if (change.type === 'added') {\n            addSubtask({ subtaskId, subtaskData });\n          }\n          if (change.type === 'modified') {\n            updateSubtask({ subtaskId, subtaskData });\n          }\n          if (change.type === 'removed') {\n            deleteSubtask(subtaskId);\n          }\n        });\n      });\n    this.cardObserver = firebase.db\n      .collection('cards')\n      .where('boardId', '==', boardId)\n      .onSnapshot(querySnapshot => {\n        querySnapshot.docChanges().forEach(change => {\n          const cardId = change.doc.id;\n          const cardData = change.doc.data();\n          if (change.type === 'added') {\n            addCard({ cardId, cardData });\n          } else if (change.type === 'removed') {\n            deleteCard(cardId);\n          } else {\n            updateCard({ cardId, cardData });\n          }\n        });\n      });\n    console.log('mounted');\n  }\n\n  componentWillUnmount() {\n    this.boardObserver();\n    this.listObserver();\n    this.cardObserver();\n    this.subtaskObserver();\n  }\n\n  onDragStart = () => {\n    this.setState({\n      isDragging: true\n    });\n  };\n\n  onDragEnd = ({ destination, draggableId, source, type }) => {\n    if (!destination) return;\n\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    )\n      return;\n    const { firebase } = this.props;\n    if (type === droppableTypes.CARD) {\n      const { listsById } = this.props;\n      const isMovedWithinList = source.droppableId === destination.droppableId;\n      const updatedCardIds = [...listsById[destination.droppableId].cardIds];\n      if (isMovedWithinList) {\n        updatedCardIds.splice(source.index, 1);\n        updatedCardIds.splice(destination.index, 0, draggableId);\n        firebase.updateList(source.droppableId, {\n          cardIds: updatedCardIds\n        });\n      } else {\n        updatedCardIds.splice(destination.index, 0, draggableId);\n        firebase.moveCardToList({\n          cardId: draggableId,\n          origListId: source.droppableId,\n          newListId: destination.droppableId,\n          updatedCardIds\n        });\n      }\n    }\n\n    if (type === droppableTypes.LIST) {\n      const { boardsById, current, reorderLists } = this.props;\n      const { boardId } = current;\n      const updatedListIds = [...boardsById[boardId].listIds];\n      updatedListIds.splice(source.index, 1);\n      updatedListIds.splice(destination.index, 0, draggableId);\n      firebase.updateBoard(boardId, {\n        listIds: updatedListIds\n      });\n      reorderLists(boardId, updatedListIds);\n    }\n\n    this.setState({\n      isDragging: false\n    });\n  };\n\n  toggleCardEditor = () => {\n    this.setState(prevState => ({\n      isCardEditorOpen: !prevState.isCardEditorOpen\n    }));\n  };\n\n  handleCardClick = cardId => {\n    this.props.selectCard(cardId);\n    this.toggleCardEditor();\n  };\n\n  onTitleChange = e => {\n    this.setState({\n      boardTitle: e.target.value\n    });\n  };\n\n  onTitleBlur = e => {\n    const { boardTitle, boardId, firebase } = this.props;\n    const { boardTitle: newBoardTitle } = this.state;\n\n    // When field loses focus, update list title if change is detected\n\n    if (newBoardTitle !== boardTitle) {\n      firebase.updateBoard(boardId, {\n        boardTitle: newBoardTitle\n      });\n      console.log('updated!');\n    }\n  };\n\n  render() {\n    const { isFetching, isCardEditorOpen, boardTitle } = this.state;\n    const {\n      current,\n      listsArray,\n      cardsById,\n      boardId,\n      board,\n      userId\n    } = this.props;\n    if (isFetching) return null;\n    const { cardId } = current;\n    const lists = listsArray.map((list, listIndex) => {\n      const { listId, listTitle, cardIds } = list;\n      return (\n        <List\n          listId={listId}\n          key={listId}\n          listIndex={listIndex}\n          listTitle={listTitle}\n          cardIds={cardIds}\n          isFetchingCards={isFetching}\n          isDragging={this.state.isDragging}\n          onCardClick={this.handleCardClick}\n          boardId={boardId}\n        />\n      );\n    });\n\n    return (\n      <main className=\"board-container\">\n        <Input\n          className=\"board__input--title\"\n          name=\"boardTitle\"\n          type=\"text\"\n          value={boardTitle}\n          onChange={this.onTitleChange}\n          required\n          hideLabel\n          onBlur={this.onTitleBlur}\n        />\n        <DragDropContext\n          onDragEnd={this.onDragEnd}\n          onDragStart={this.onDragStart}\n        >\n          <Board boardId={boardId}>{lists}</Board>\n        </DragDropContext>\n        {isCardEditorOpen && (\n          <CardEditor\n            {...cardsById[cardId]}\n            handleCardEditorClose={this.toggleCardEditor}\n            userId={userId}\n          />\n        )}\n      </main>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    boardsById: boardSelectors.getBoardsById(state),\n    current: currentSelectors.getCurrent(state),\n    listsById: listSelectors.getListsById(state),\n    listsArray: listSelectors.getListsArray(state),\n    cardsById: cardSelectors.getCardsById(state),\n    board: boardSelectors.getBoard(state, ownProps.boardId)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateBoard: (boardId, boardData) => dispatch(boardActions.updateBoard(boardId, boardData)),\n    selectBoard: boardId => dispatch(currentActions.selectBoard(boardId)),\n    selectCard: cardId => dispatch(currentActions.selectCard(cardId)),\n    fetchListsById: boardId => dispatch(listActions.fetchListsById(boardId)),\n    updateListsById: list => dispatch(listActions.updateListsById(list)),\n    fetchCardsById: boardId => dispatch(cardActions.fetchCardsById(boardId)),\n    fetchCardSubtasks: boardId =>\n      dispatch(subtaskActions.fetchCardSubtasks(boardId)),\n    reorderLists: (boardId, listIds) =>\n      dispatch(boardActions.reorderLists(boardId, listIds)),\n    updateListIds: (boardId, listIds) =>\n      dispatch(boardActions.updateListIds(boardId, listIds)),\n    updateBoardTags: (boardId, tags) =>\n      dispatch(boardActions.updateBoardTags(boardId, tags)),\n    addCard: ({ cardId, cardData }) =>\n      dispatch(cardActions.addCard({ cardId, cardData })),\n    updateCard: ({ cardId, cardData }) =>\n      dispatch(cardActions.updateCard({ cardId, cardData })),\n    deleteCard: cardId => dispatch(cardActions.deleteCard(cardId)),\n    addSubtask: ({ subtaskId, subtaskData }) =>\n      dispatch(subtaskActions.addSubtask({ subtaskId, subtaskData })),\n    deleteSubtask: subtaskId =>\n      dispatch(subtaskActions.deleteSubtask(subtaskId)),\n    updateSubtask: ({ subtaskId, subtaskData }) =>\n      dispatch(subtaskActions.updateSubtask({ subtaskId, subtaskData }))\n  };\n};\n\nexport default withFirebase(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(BoardContainer)\n);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport { withAuthorization } from '../Session';\nimport * as ROUTES from '../../constants/routes';\nimport { userActions, userSelectors } from '../../ducks/users';\nimport { currentActions, currentSelectors } from '../../ducks/current';\nimport { BoardGridContainer } from '../BoardGrid';\nimport { BoardComposer } from '../BoardComposer';\nimport { BoardContainer } from '../Board';\nimport { boardActions, boardSelectors } from '../../ducks/boards';\nimport './Home.scss';\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isBoardComposerOpen: false,\n      isFetching: true\n    };\n  }\n\n  componentDidMount() {\n    const {\n      firebase,\n      selectUser,\n      fetchUsersById,\n      fetchBoardsById\n    } = this.props;\n    const userId = firebase.auth.currentUser.uid;\n    selectUser(userId);\n    console.log('mounted home');\n    fetchUsersById()\n      .then(() => fetchBoardsById(userId))\n      .then(() =>\n        this.setState({\n          isFetching: false\n        })\n      );\n  }\n\n  toggleBoardComposer = () => {\n    this.setState(prevState => ({\n      isBoardComposerOpen: !prevState.isBoardComposerOpen\n    }));\n  };\n\n  createBoard = boardTitle => {\n    const { userId, firebase } = this.props;\n    firebase.addBoard({ userId, boardTitle });\n  };\n\n  render() {\n    const { isBoardComposerOpen, isFetching } = this.state;\n    if (isFetching) return null;\n    const { userId, boardsById } = this.props;\n    return (\n      <>\n        {isBoardComposerOpen && (\n          <BoardComposer\n            onClose={this.toggleBoardComposer}\n            handleSubmit={this.createBoard}\n          />\n        )}\n        <Switch>\n          <Route\n            exact\n            path={ROUTES.HOME}\n            render={() => (\n              <main className=\"main\">\n                <h1>Home</h1>\n                {userId && (\n                  <BoardGridContainer\n                    userId={userId}\n                    openBoardComposer={this.toggleBoardComposer}\n                  />\n                )}\n              </main>\n            )}\n          />\n          <Route\n            path={ROUTES.BOARD}\n            render={props => (\n              <BoardContainer\n                userId={userId}\n                boardId={props.match.params.id}\n                boardTitle={boardsById[props.match.params.id].boardTitle}\n                {...props}\n              />\n            )}\n          />\n        </Switch>\n      </>\n    );\n  }\n}\n\nconst condition = authUser => !!authUser;\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    currentBoardId: currentSelectors.getCurrentBoardId(state),\n    userId: currentSelectors.getCurrentUserId(state),\n    boardsById: boardSelectors.getBoardsById(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUsersById: () => dispatch(userActions.fetchUsersById()),\n    fetchBoardsById: userId => dispatch(boardActions.fetchBoardsById(userId)),\n    selectUser: userId => dispatch(currentActions.selectUser(userId))\n  };\n};\n\nexport default withAuthorization(condition)(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(HomePage)\n);\n","import React, { Component } from 'react';\nimport { withFirebase } from '../Firebase';\nimport { Input } from '../Input';\nimport { Button } from '../Button';\n\nconst INITIAL_STATE = {\n  passwordOne: '',\n  passwordTwo: '',\n  error: null\n};\n\nclass PasswordChangeForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = e => {\n    const { passwordOne } = this.state;\n\n    this.props.firebase\n      .passwordUpdate(passwordOne)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n    e.preventDefault();\n  };\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  render() {\n    const { passwordOne, passwordTwo, error } = this.state;\n    const isInvalid = passwordOne === '' || passwordOne !== passwordTwo;\n\n    return (\n      <form onSubmit={this.onSubmit} className=\"user-form\">\n        <Input\n          name=\"passwordOne\"\n          label=\"New Password\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          className=\"user-form__input\"\n        />\n        <Input\n          name=\"passwordTwo\"\n          label=\"Confirm New Password\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          className=\"user-form__input\"\n        />\n        <Button\n          disabled={isInvalid}\n          type=\"submit\"\n          size=\"lg\"\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.onSubmit}\n        >\n          Change My Password\n        </Button>\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default withFirebase(PasswordChangeForm);\n","import React from 'react';\nimport { PasswordForgetForm } from '../PasswordForget';\nimport { PasswordChangeForm } from '../PasswordChange';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport './Account.scss';\n\nconst AccountPage = () => (\n  <AuthUserContext.Consumer>\n    {authUser => (\n      <main className=\"account\">\n        <h1>Account: {authUser.email}</h1>\n        <section className=\"account__section\">\n        <h2>Forgot your password?</h2>\n          <PasswordForgetForm />\n        </section>\n        <section className=\"account__section\">\n        <h2>Change your password.</h2>\n          <PasswordChangeForm />\n        </section>\n      </main>\n    )}\n  </AuthUserContext.Consumer>\n);\n\nconst condition = authUser => !!authUser;\nexport default withAuthorization(condition)(AccountPage);\n","import React, { Component } from 'react';\nimport { Navbar } from '../Navbar';\nimport './Header.scss';\n\nexport default class Header extends Component {\n  render() {\n    return (\n      <header className=\"header\">\n        <Navbar />\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './App.scss';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport { Navbar } from '../Navbar';\nimport * as ROUTES from '../../constants/routes';\nimport { LandingPage } from '../Landing';\nimport { SignUpPage } from '../SignUp';\nimport { SignInPage } from '../SignIn';\nimport { PasswordForgetPage } from '../PasswordForget';\nimport { HomePage } from '../Home';\nimport { AccountPage } from '../Account';\nimport { AdminPage } from '../Admin';\nimport { withAuthentication } from '../Session';\nimport { Header } from '../Header';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <Header />\n        <Switch>\n          <Route exact path={ROUTES.LANDING} component={LandingPage} />\n          <Route path={ROUTES.SIGN_UP} component={SignUpPage} />\n          <Route path={ROUTES.SIGN_IN} component={SignInPage} />\n          <Route path={ROUTES.PASSWORD_FORGET} component={PasswordForgetPage} />\n          <Route path={ROUTES.HOME} render={props => <HomePage {...props} />} />\n          <Route path={ROUTES.ACCOUNT} component={AccountPage} />\n          <Route path={ROUTES.ADMIN} component={AdminPage} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withAuthentication(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport { boardsById } from '../ducks/boards';\nimport { cardsById } from '../ducks/cards';\nimport { listsById } from '../ducks/lists';\nimport { usersById } from '../ducks/users';\nimport { current } from '../ducks/current';\nimport { subtasksById } from '../ducks/subtasks';\nimport { commentsById } from '../ducks/comments';\n\nexport default combineReducers({\n  boardsById,\n  cardsById,\n  listsById,\n  usersById,\n  current,\n  subtasksById,\n  commentsById\n});\n","import * as types from './types';\n\nconst current = (state = {}, action) => {\n  switch (action.type) {\n    case types.SELECT_USER: {\n      const { userId } = action;\n      return {\n        ...state,\n        userId\n      };\n    }\n    case types.SELECT_BOARD: {\n      const { boardId } = action;\n      return {\n        ...state,\n        boardId\n      };\n    }\n    case types.SELECT_LIST: {\n      const { listId } = action;\n      return {\n        ...state,\n        listId\n      };\n    }\n    case types.SELECT_CARD: {\n      const { cardId } = action;\n      return {\n        ...state,\n        cardId\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport { current };\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory({ basename: process.env.PUBLIC_URL });\n\nexport default history;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { Router } from 'react-router-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport 'normalize.css';\nimport './index.scss';\nimport { App } from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { FirebaseContext } from './components/Firebase';\nimport reducers from './store/reducers';\nimport firebase from './store/firebase';\nimport history from './store/history';\n\nconst store = createStore(reducers, {}, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <FirebaseContext.Provider value={firebase}>\n      <Router basename={process.env.PUBLIC_URL} history={history}>\n        <App />\n      </Router>\n    </FirebaseContext.Provider>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}