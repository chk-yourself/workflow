(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},156:function(e,t,n){},158:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){},168:function(e,t,n){},170:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"updateUserBoards",function(){return he}),n.d(a,"getUserData",function(){return be}),n.d(a,"loadUserData",function(){return ve});var r={};n.r(r),n.d(r,"getUserData",function(){return ge});var o={};n.r(o),n.d(o,"selectBoard",function(){return ye}),n.d(o,"selectList",function(){return Ee}),n.d(o,"selectCard",function(){return Ie});var c={};n.r(c),n.d(c,"getCurrentBoardId",function(){return Be}),n.d(c,"getCurrentListId",function(){return Oe}),n.d(c,"getCurrentCardId",function(){return je}),n.d(c,"getCurrent",function(){return Ce});var s={};n.r(s),n.d(s,"loadBoardsById",function(){return Se}),n.d(s,"fetchBoardsById",function(){return Ae}),n.d(s,"updateBoardsById",function(){return De});var i={};n.r(i),n.d(i,"getBoardsById",function(){return ke}),n.d(i,"getBoardsArray",function(){return Ue});var u={};n.r(u),n.d(u,"loadListsById",function(){return Pe}),n.d(u,"fetchListsById",function(){return Re}),n.d(u,"updateListsById",function(){return Fe});var l={};n.r(l),n.d(l,"getListsById",function(){return Me}),n.d(l,"getListsArray",function(){return We});var d={};n.r(d),n.d(d,"getCardsById",function(){return Ve}),n.d(d,"getCardsArray",function(){return Xe});var m={};n.r(m),n.d(m,"loadCardsById",function(){return Ge}),n.d(m,"fetchCardsById",function(){return Ke}),n.d(m,"updateCardsById",function(){return Qe});var f=n(0),p=n.n(f),h=n(81),b=n.n(h),v=n(15),g=n(175),y=n(30),E=n(83),I=(n(100),n(5)),B=n(6),O=n(8),j=n(7),C=n(9),w=(n(102),n(176)),_=n(174),S=p.a.createContext(null),A=function(e){return function(t){return p.a.createElement(S.Consumer,null,function(n){return p.a.createElement(e,Object.assign({},t,{firebase:n}))})}},D=S,k=n(36),U=n.n(k),T={apiKey:"AIzaSyCHGCEQpsgam28hCtnXvURNc_EYnLzapfw",authDomain:"origami-77353.firebaseapp.com",databaseURL:"https://origami-77353.firebaseio.com",projectId:"origami-77353",storageBucket:"origami-77353.appspot.com",messagingSenderId:"813532052347"},L=function e(){var t=this;Object(I.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.addUser=function(e){var n=e.userId,a=e.name,r=e.username,o=e.email,c=e.boardIds,s=void 0===c?[]:c;return t.db.collection("users").doc(n).set({userId:n,name:a,username:r,email:o,boardIds:s})},this.updateUser=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.db.collection("users").doc(e).update(n)},this.updateBoard=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.db.collection("boards").doc(e).update(n)},this.updateList=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.db.collection("lists").doc(e).update(n)},this.updateCard=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.db.collection("cards").doc(e).update(n)},this.getUserDoc=function(e){return t.db.collection("users").doc(e)},this.getBoardDoc=function(e){return t.db.collection("boards").doc(e)},this.getTimestamp=function(){return U.a.firestore.FieldValue.serverTimestamp()},this.addToArray=function(e){return U.a.firestore.FieldValue.arrayUnion(e)},this.addBoard=function(e){var n=e.userId,a=e.boardTitle;t.db.collection("boards").add({title:a,createdAt:t.getTimestamp(),lastModifiedAt:t.getTimestamp(),listIds:[],authorId:n,memberIds:[n]}).then(function(e){t.updateUser(n,{boardIds:t.addToArray(e.id)})})},this.addList=function(e){var n=e.boardId,a=e.listTitle;t.db.collection("lists").add({title:a,createdAt:t.getTimestamp(),lastModifiedAt:t.getTimestamp(),cardIds:[],boardId:n}).then(function(e){t.updateBoard(n,{listIds:t.addToArray(e.id),lastModifiedAt:t.getTimestamp()})})},this.addCard=function(e){var n=e.boardId,a=e.listId,r=e.cardTitle;t.db.collection("cards").add({title:r,createdAt:t.getTimestamp(),lastModifiedAt:t.getTimestamp(),listId:a,boardId:n}).then(function(e){t.updateList(a,{cardIds:t.addToArray(e.id),lastModifiedAt:t.getTimestamp()})})},U.a.initializeApp(T),this.auth=U.a.auth(),this.db=U.a.firestore()},N=n(173),x="/home",P=A(function(e){var t=e.firebase;return p.a.createElement("button",{type:"button",onClick:t.doSignOut},"Sign Out")}),R=(n(156),function(){return p.a.createElement("ul",{className:"navbar"},p.a.createElement("li",null,p.a.createElement(N.a,{to:"/"},"Landing")),p.a.createElement("li",null,p.a.createElement(N.a,{to:x},"Home")),p.a.createElement("li",null,p.a.createElement(N.a,{to:"/account"},"Account")),p.a.createElement("li",null,p.a.createElement(N.a,{to:"/admin"},"Admin")),p.a.createElement("li",null,p.a.createElement(P,null)))}),F=function(){return p.a.createElement("ul",{className:"navbar"},p.a.createElement("li",null,p.a.createElement(N.a,{to:"/signin"},"Sign In")),p.a.createElement("li",null,p.a.createElement(N.a,{to:"/"},"Landing")))},M=function(e){var t=e.authUser;return p.a.createElement("nav",null,t?p.a.createElement(R,null):p.a.createElement(F,null))},W=n(84),Y=n(10),q=n(4),z=n(35),H=n(177),J=(n(158),function(e){return p.a.createElement("div",{className:"input__group"},!e.hideLabel&&p.a.createElement("label",{htmlFor:e.name,className:"input__label"},e.title),p.a.createElement("input",{className:"input",id:e.name,name:e.name,type:e.type,value:e.value,onChange:e.onChange,placeholder:e.placeholder,required:e.isRequired}))}),V={username:"",name:"",email:"",passwordOne:"",passwordTwo:"",error:null},X=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){var t=n.state,a=t.username,r=t.email,o=t.name,c=t.passwordOne;n.props.firebase.doCreateUserWithEmailAndPassword(r,c).then(function(e){var t=e.user.uid;return n.props.firebase.addUser({userId:t,name:o,username:a,email:r})}).then(function(e){n.setState(Object(q.a)({},V)),n.props.history.push(x)}).catch(function(e){n.setState({error:e})}),e.preventDefault()},n.onChange=function(e){n.setState(Object(Y.a)({},e.target.name,e.target.value))},n.state=Object(q.a)({},V),n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.name,a=e.email,r=e.passwordOne,o=e.passwordTwo,c=e.error,s=""===r||""===o||""===a||""===t||r!==o;return p.a.createElement("form",{onSubmit:this.onSubmit},p.a.createElement(J,{name:"name",title:"Full Name",value:n,onChange:this.onChange,type:"text"}),p.a.createElement(J,{name:"username",title:"Username",value:t,onChange:this.onChange,type:"text"}),p.a.createElement(J,{name:"email",title:"Email",value:a,onChange:this.onChange,type:"email"}),p.a.createElement(J,{name:"passwordOne",title:"Password",value:r,onChange:this.onChange,type:"password"}),p.a.createElement(J,{name:"passwordTwo",title:"Confirm Password",value:o,onChange:this.onChange,type:"password"}),p.a.createElement("button",{disabled:s,type:"submit"},"Sign Up"),c&&p.a.createElement("p",null,c.message))}}]),t}(f.Component),G=Object(z.a)(H.a,A)(X),K=function(){return p.a.createElement("main",{className:"app__main"},p.a.createElement("h1",null,"Sign Up"),p.a.createElement(G,null))},Q=function(){return p.a.createElement("p",null,"Don't have an account? ",p.a.createElement(N.a,{to:"/signup"},"Sign Up"))},$={email:"",password:"",error:null},Z=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){var t=n.state,a=t.email,r=t.password;n.props.firebase.doSignInWithEmailAndPassword(a,r).then(function(){n.setState(Object(q.a)({},$)),n.props.history.push(x)}).catch(function(e){n.setState({error:e})}),e.preventDefault()},n.onChange=function(e){n.setState(Object(Y.a)({},e.target.name,e.target.value))},n.state=Object(q.a)({},$),n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.error,r=""===n||""===t;return p.a.createElement("form",{onSubmit:this.onSubmit},p.a.createElement(J,{name:"email",title:"Email",value:t,onChange:this.onChange,type:"email"}),p.a.createElement(J,{name:"password",title:"Password",value:n,onChange:this.onChange,type:"password"}),p.a.createElement("button",{disabled:r,type:"submit"},"Sign In"),a&&p.a.createElement("p",null,a.message))}}]),t}(f.Component),ee=Object(z.a)(H.a,A)(Z),te={email:"",error:null},ne=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){var t=n.state.email;n.props.firebase.doPasswordReset(t).then(function(){n.setState(Object(q.a)({},te))}).catch(function(e){n.setState({error:e})}),e.preventDefault()},n.onChange=function(e){n.setState(Object(Y.a)({},e.target.name,e.target.value))},n.state=Object(q.a)({},te),n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.error,a=""===t;return p.a.createElement("form",{onSubmit:this.onSubmit},p.a.createElement(J,{name:"email",title:"Email",value:t,onChange:this.onChange,type:"email"}),p.a.createElement("button",{disabled:a,type:"submit"},"Reset My Password"),n&&p.a.createElement("p",null,n.message))}}]),t}(f.Component),ae=A(ne),re=function(){return p.a.createElement("main",{className:"app__main"},p.a.createElement("h1",null,"Forgot your password?"),p.a.createElement(ae,null))},oe=function(){return p.a.createElement("p",null,p.a.createElement(N.a,{to:"/pw-forget"},"Forgot Password?"))},ce=function(){return p.a.createElement("main",{className:"app__main"},p.a.createElement("h1",null,"Sign In"),p.a.createElement(ee,null),p.a.createElement(oe,null),p.a.createElement(Q,null))},se=p.a.createContext(null),ie=function(e){var t=function(t){function n(e){var t;return Object(I.a)(this,n),(t=Object(O.a)(this,Object(j.a)(n).call(this,e))).state={authUser:null},t}return Object(C.a)(n,t),Object(B.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return p.a.createElement(se.Provider,{value:this.state.authUser},p.a.createElement(e,this.props))}}]),n}(p.a.Component);return A(t)},ue=function(e){return function(t){var n=function(n){function a(e){return Object(I.a)(this,a),Object(O.a)(this,Object(j.a)(a).call(this,e))}return Object(C.a)(a,n),Object(B.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(n){e(n)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var n=this;return p.a.createElement(se.Consumer,null,function(a){return e(a)?p.a.createElement(t,n.props):null})}}]),a}(p.a.Component);return Object(z.a)(H.a,A)(n)}},le=n(90),de=n(17),me=n.n(de),fe=n(23),pe=new L,he=function(e){return{type:"ADD_USER_BOARD",boardIds:e}},be=function(e){return function(){var t=Object(fe.a)(me.a.mark(function t(n){var a;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.getUserDoc(e).get().then(function(e){return e.data()});case 3:a=t.sent,n(ve(a)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return{type:"LOAD_USER_DATA",user:e}},ge=function(e){return e.user},ye=function(e){return{type:"SELECT_BOARD",boardId:e}},Ee=function(e){return{type:"SELECT_LIST",listId:e}},Ie=function(e){return{types:"SELECT_CARD",cardId:e}},Be=function(e){return e.current.boardId},Oe=function(e){return e.current.listId},je=function(e){return e.current.cardId},Ce=function(e){return e.current},we=function(e){function t(){return Object(I.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return p.a.createElement("ul",{className:"board-grid"},this.props.children)}}]),t}(f.Component),_e=function(e){return p.a.createElement("li",{className:"board-tile"},p.a.createElement(N.a,{className:"board-tile__link",to:"/home/board/".concat(e.boardId),onClick:e.onClick},e.title))},Se=function(e){return{type:"LOAD_BOARDS_BY_ID",boardsById:e}},Ae=function(e){return function(){var t=Object(fe.a)(me.a.mark(function t(n){var a;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.db.collection("boards").where("memberIds","array-contains",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=e.data()}),t});case 3:a=t.sent,n(Se(a)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},De=function(e){return{type:"UPDATE_BOARDS_BY_ID",board:e}},ke=function(e){return e.boardsById},Ue=function(e){var t=e.boardsById;return Object.keys(t).map(function(e){return Object(q.a)({boardId:e},t[e])})},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_BOARDS_BY_ID":var n=t.boardsById;return Object(q.a)({},e,n);case"UPDATE_BOARDS_BY_ID":var a=t.board;return Object(q.a)({},e,a);default:return e}},Le=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={},n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.userId;this.props.fetchBoardsById(t),this.listener=this.props.firebase.db.collection("boards").where("memberIds","array-contains",t).onSnapshot(function(t){t.docChanges().forEach(function(t){var n=Object(Y.a)({},t.doc.id,t.doc.data());e.props.updateBoardsById(n)})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var e=this.props.user,t=(e.boardIds,e.userId,this.props),n=t.boardsArray,a=t.selectBoard,r=n.map(function(e){var t=e.title,n=e.boardId;return p.a.createElement(_e,{key:n,title:t,boardId:n,onClick:function(){return a(n)}})});return p.a.createElement("section",null,p.a.createElement(we,null,r,p.a.createElement("button",{type:"button",onClick:this.props.openBoardComposer},"Add Board")))}}]),t}(f.Component),Ne=ue(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),boardsById:i.getBoardsById(e),boardsArray:i.getBoardsArray(e)}},function(e){return{getUserData:function(t){return e(a.getUserData(t))},updateUserBoards:function(t){return e(a.updateUserBoards(t))},fetchBoardsById:function(t){return e(s.fetchBoardsById(t))},updateBoardsById:function(t){return e(s.updateBoardsById(t))},selectBoard:function(t){return e(o.selectBoard(t))}}})(Le)),xe=function(e){return p.a.createElement("div",{className:"board"},e.children)},Pe=function(e){return{type:"LOAD_LISTS_BY_ID",listsById:e}},Re=function(e){return function(){var t=Object(fe.a)(me.a.mark(function t(n){var a;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.db.collection("lists").where("boardId","==",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=e.data()}),t});case 3:a=t.sent,n(Pe(a)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Fe=function(e){return{type:"UPDATE_LISTS_BY_ID",list:e}},Me=function(e){return e.listsById},We=function(e){var t=e.listsById;return Object.keys(t).map(function(e){return Object(q.a)({listId:e},t[e])})},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_LISTS_BY_ID":return Object(q.a)({},e,t.listsById);case"UPDATE_LISTS_BY_ID":return Object(q.a)({},e,t.list);default:return e}},qe=(n(80),n(164),n(88)),ze=n.n(qe);var He=function(e){return p.a.createElement("svg",{className:"feather feather-".concat(e.name," ").concat(e.addClass||"").trim(),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},p.a.createElement("use",{xlinkHref:"".concat(ze.a,"#").concat(e.name)}))},Je=function(e){function t(){return Object(I.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return p.a.createElement("div",{className:"card",onClick:this.props.onClick},p.a.createElement("div",{className:"card__header"},p.a.createElement("button",{className:"card__btn--more-actions",type:"button"},p.a.createElement(He,{name:"more-horizontal"})),p.a.createElement("div",{className:"card__tags"}),p.a.createElement("h3",{className:"card__title"},this.props.title)),p.a.createElement("div",{className:"card__footer"},p.a.createElement("div",{className:"card__labels"})))}}]),t}(f.Component),Ve=function(e){return e.cardsById},Xe=function(e){var t=e.cardsById;return Object.keys(t).map(function(e){return Object(q.a)({cardId:e},t[e])})},Ge=function(e){return{type:"LOAD_CARDS_BY_ID",cardsById:e}},Ke=function(e){return function(){var t=Object(fe.a)(me.a.mark(function t(n){var a;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.db.collection("cards").where("boardId","==",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=e.data()}),t});case 3:a=t.sent,n(Ge(a)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Qe=function(e){return{type:"UPDATE_CARDS_BY_ID",card:e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CARDS_BY_ID":var n=t.cardsById;return Object(q.a)({},e,n);case"UPDATE_CARDS_BY_ID":var a=t.card;return Object(q.a)({},e,a);default:return e}},Ze=(n(166),function(e){return p.a.createElement("textarea",{className:"textarea",id:e.name,name:e.name,value:e.value,onChange:e.onChange,placeholder:e.placeholder,required:e.isRequired})}),et=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).resetForm=function(){n.setState({cardTitle:""})},n.onSubmit=function(e){e.preventDefault();var t=n.state.cardTitle,a=n.props.current.boardId,r=n.props.listId;n.props.firebase.addCard({boardId:a,listId:r,cardTitle:t}),n.resetForm()},n.onChange=function(e){n.setState(Object(Y.a)({},e.target.name,e.target.value))},n.onFocus=function(e){n.setState({isActive:!0})},n.onBlur=function(e){""===e.target.value&&n.setState({isActive:!1})},n.state={cardTitle:"",isActive:!1},n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.state,t=e.cardTitle,n=e.isActive;return p.a.createElement("div",{className:"card-composer".concat(n?" is-active":""),onFocus:this.onFocus,onBlur:this.onBlur},p.a.createElement("form",{className:"card-composer__form",onSubmit:this.onSubmit},p.a.createElement(Ze,{onChange:this.onChange,value:t,placeholder:n?"Enter card title...":"Add a card",isRequired:!0,name:"cardTitle"}),n&&p.a.createElement(p.a.Fragment,null,p.a.createElement("button",{className:"card-composer__btn--add",type:"submit"},"Add Card"),p.a.createElement("button",{className:"card-composer__btn--close",type:"button"},p.a.createElement(He,{name:"x"})))))}}]),t}(f.Component),tt=ue(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),boardsById:i.getBoardsById(e),boardsArray:i.getBoardsArray(e),current:c.getCurrent(e)}},function(e){return{updateBoardsById:function(t){return e(s.updateBoardsById(t))}}})(et)),nt=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={},n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return p.a.createElement("section",{className:"list"},p.a.createElement("header",{className:"list__header"},p.a.createElement("h2",{className:"list__title"},this.props.title)),p.a.createElement("div",{className:"list__content"},this.props.children))}}]),t}(f.Component),at=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).resetForm=function(){n.setState({listTitle:""})},n.onSubmit=function(e){e.preventDefault();var t=n.state.listTitle,a=n.props.current.boardId;n.props.firebase.addList({boardId:a,listTitle:t}),n.resetForm()},n.onChange=function(e){n.setState(Object(Y.a)({},e.target.name,e.target.value))},n.onFocus=function(e){n.setState({isActive:!0})},n.onBlur=function(e){""===e.target.value&&n.setState({isActive:!1})},n.state={listTitle:"",isActive:!1},n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.state,t=e.listTitle,n=e.isActive;return p.a.createElement("div",{className:"list-composer".concat(n?" is-active":""),onFocus:this.onFocus,onBlur:this.onBlur},p.a.createElement("form",{className:"list-composer__form",onSubmit:this.onSubmit},p.a.createElement(J,{onChange:this.onChange,value:t,placeholder:n?"Enter list title...":"Add a list",required:"true",name:"listTitle",hideLabel:"true"}),n&&p.a.createElement(p.a.Fragment,null,p.a.createElement("button",{className:"list-composer__btn--add",type:"submit"},"Add List"),p.a.createElement("button",{className:"list-composer__btn--close",type:"button"},p.a.createElement(He,{name:"x"})))))}}]),t}(f.Component),rt=ue(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),boardsById:i.getBoardsById(e),boardsArray:i.getBoardsArray(e),current:c.getCurrent(e)}},function(e){return{getUserData:function(t){return e(a.getUserData(t))},fetchBoardsById:function(t){return e(s.fetchBoardsById(t))},updateBoardsById:function(t){return e(s.updateBoardsById(t))},selectBoard:function(t){return e(o.selectBoard(t))}}})(at)),ot=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={isFetching:!0},n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.current,n=t.boardId;t.listId,t.cardId;this.props.fetchCardsById(n).then(function(){e.setState({isFetching:!1})}),this.listener=this.props.firebase.db.collection("cards").where("boardId","==",n).onSnapshot(function(t){t.docChanges().forEach(function(t){var n=Object(Y.a)({},t.doc.id,t.doc.data());e.props.updateCardsById(n)})}),console.log("mounted")}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){if(this.state.isFetching)return null;var e=this.props,t=e.cardIds,n=e.cardsById,a=e.listId,r=e.title,o=t.map(function(e){var t=n[e].title;return p.a.createElement(Je,{key:e,title:t})});return p.a.createElement(nt,{title:r},o,p.a.createElement(tt,{listId:a}))}}]),t}(f.Component),ct=ue(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),current:c.getCurrent(e),listsById:l.getListsById(e),listsArray:l.getListsArray(e),cardsById:d.getCardsById(e)}},function(e){return{getUserData:function(t){return e(a.getUserData(t))},fetchBoardsById:function(t){return e(s.fetchBoardsById(t))},updateBoardsById:function(t){return e(s.updateBoardsById(t))},selectBoard:function(t){return e(o.selectBoard(t))},fetchListsById:function(t){return e(u.fetchListsById(t))},updateListsById:function(t){return e(u.updateListsById(t))},fetchCardsById:function(t){return e(m.fetchCardsById(t))},updateCardsById:function(t){return e(m.updateCardsById(t))}}})(ot)),st=(n(168),function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={},n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.current.boardId;this.props.fetchListsById(t),this.listener=this.props.firebase.db.collection("lists").where("boardId","==",t).onSnapshot(function(t){t.docChanges().forEach(function(t){var n=Object(Y.a)({},t.doc.id,t.doc.data());e.props.updateListsById(n)})}),console.log("mounted")}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var e=this.props.current.boardId,t=this.props,n=t.boardsById,a=t.listsArray,r=n[e].title,o=a.map(function(e){var t=e.listId,n=e.title,a=e.cardIds;return p.a.createElement(ct,{listId:t,key:t,title:n,cardIds:a})});return p.a.createElement("main",{className:"board-container"},p.a.createElement("h1",null,r),p.a.createElement(xe,null,o,p.a.createElement(rt,null)))}}]),t}(f.Component)),it=ue(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),boardsById:i.getBoardsById(e),current:c.getCurrent(e),listsById:l.getListsById(e),listsArray:l.getListsArray(e)}},function(e){return{getUserData:function(t){return e(a.getUserData(t))},fetchBoardsById:function(t){return e(s.fetchBoardsById(t))},updateBoardsById:function(t){return e(s.updateBoardsById(t))},selectBoard:function(t){return e(o.selectBoard(t))},fetchListsById:function(t){return e(u.fetchListsById(t))},updateListsById:function(t){return e(u.updateListsById(t))}}})(st)),ut=(n(170),function(e){var t=e.onModalClose,n=e.children;return p.a.createElement("div",{className:"modal"},p.a.createElement("div",{className:"modal__content"},p.a.createElement("button",{type:"button",className:"modal__btn--close",onClick:t},p.a.createElement(He,{name:"x"})),n))}),lt={boardTitle:""},dt=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state.boardTitle,a=n.props;a.handleSubmit,a.onClose;n.props.handleSubmit(t),n.props.onClose(),n.setState(Object(q.a)({},lt))},n.onChange=function(e){n.setState(Object(Y.a)({},e.target.name,e.target.value))},n.state=Object(q.a)({},lt),n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.state.boardTitle;return p.a.createElement(ut,{onModalClose:this.props.onClose},p.a.createElement("form",{onSubmit:this.onSubmit},p.a.createElement(J,{name:"boardTitle",title:"Board Title",value:e,onChange:this.onChange,type:"text"}),p.a.createElement("button",{type:"submit"},"Create Board")))}}]),t}(f.Component),mt=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).toggleBoardComposer=function(){n.setState(function(e){return{showCreateBoardForm:!e.showCreateBoardForm}})},n.createBoard=function(e){var t=n.props.user.userId;n.props.firebase.addBoard({userId:t,boardTitle:e})},n.state={showCreateBoardForm:!1},n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.firebase.auth.currentUser.uid;this.props.getUserData(e)}},{key:"render",value:function(){var e=this,t=this.state.showCreateBoardForm,n=this.props.user.userId;return p.a.createElement(p.a.Fragment,null,t&&p.a.createElement(dt,{onClose:this.toggleBoardComposer,handleSubmit:this.createBoard}),p.a.createElement(w.a,null,p.a.createElement(_.a,{exact:!0,path:x,render:function(){return p.a.createElement("main",null,p.a.createElement("h1",null,"Home"),n&&p.a.createElement(Ne,{openBoardComposer:e.toggleBoardComposer}))}}),p.a.createElement(_.a,{path:"/home/board/:id",render:function(e){return p.a.createElement(it,e)}})))}}]),t}(f.Component),ft=ue(function(e){return!!e})(Object(v.b)(function(e){return{user:r.getUserData(e),currentBoardId:c.getCurrentBoardId(e)}},function(e){return{getUserData:function(t){return e(a.getUserData(t))}}})(mt)),pt={passwordOne:"",passwordTwo:"",error:null},ht=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){var t=n.state.passwordOne;n.props.firebase.doPasswordUpdate(t).then(function(){n.setState(Object(q.a)({},pt))}).catch(function(e){n.setState({error:e})}),e.preventDefault()},n.onChange=function(e){n.setState(Object(Y.a)({},e.target.name,e.target.value))},n.state=Object(q.a)({},pt),n}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,n=e.passwordTwo,a=e.error,r=""===t||t!==n;return p.a.createElement("form",{onSubmit:this.onSubmit},p.a.createElement(J,{name:"passwordOne",title:"New Password",value:t,onChange:this.onChange,type:"password"}),p.a.createElement(J,{name:"passwordTwo",title:"Confirm New Password",value:n,onChange:this.onChange,type:"password"}),p.a.createElement("button",{disabled:r,type:"submit"},"Reset My Password"),a&&p.a.createElement("p",null,a.message))}}]),t}(f.Component),bt=A(ht),vt=ue(function(e){return!!e})(function(){return p.a.createElement(se.Consumer,null,function(e){return p.a.createElement("div",null,p.a.createElement("h1",null,"Account: ",e.email),p.a.createElement(ae,null),p.a.createElement(bt,null))})}),gt=n(89),yt=ie(function(e){function t(){return Object(I.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return p.a.createElement("div",{className:"app"},p.a.createElement("header",{className:"app__header"},p.a.createElement(M,{classes:"navbar"})),p.a.createElement(w.a,null,p.a.createElement(_.a,{exact:!0,path:"/",component:W.LandingPage}),p.a.createElement(_.a,{path:"/signup",component:K}),p.a.createElement(_.a,{path:"/signin",component:ce}),p.a.createElement(_.a,{path:"/pw-forget",component:re}),p.a.createElement(_.a,{path:x,component:ft}),p.a.createElement(_.a,{path:"/account",component:vt}),p.a.createElement(_.a,{path:"/admin",component:gt.AdminPage})))}}]),t}(f.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Et=Object(y.c)({boardsById:Te,cardsById:$e,listsById:Ye,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_BOARD":var n=t.boardIds;return Object(q.a)({},e,{boardIds:Object(le.a)(n)});case"LOAD_USER_DATA":return Object(q.a)({},e,t.user);default:return e}},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_BOARD":var n=t.boardId;return Object(q.a)({},e,{boardId:n});case"SELECT_LIST":var a=t.listId;return Object(q.a)({},e,{listId:a});case"SELECT_CARD":var r=t.cardId;return Object(q.a)({},e,{cardId:r});default:return e}}}),It=n(50),Bt=Object(It.a)({basename:"/workflow"}),Ot=Object(y.d)(Et,{},Object(y.a)(E.a));b.a.render(p.a.createElement(v.a,{store:Ot},p.a.createElement(D.Provider,{value:pe},p.a.createElement(g.a,{basename:"/workflow",history:Bt},p.a.createElement(yt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},80:function(e,t,n){},84:function(e,t){},88:function(e,t,n){e.exports=n.p+"static/media/feather-sprite.0ed672ce.svg"},89:function(e,t){},91:function(e,t,n){e.exports=n(172)}},[[91,2,1]]]);
//# sourceMappingURL=main.9470335e.chunk.js.map