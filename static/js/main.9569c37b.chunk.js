(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){},111:function(e,t){},115:function(e,t,a){e.exports=a.p+"static/media/feather-sprite.0ed672ce.svg"},120:function(e,t,a){e.exports=a(255)},130:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"loadUserData",function(){return je}),a.d(n,"loadUsersById",function(){return _e}),a.d(n,"fetchUsersById",function(){return Ie}),a.d(n,"fetchUserData",function(){return Ce}),a.d(n,"addUser",function(){return Oe}),a.d(n,"deleteUser",function(){return Te}),a.d(n,"updateUser",function(){return De});var r={};a.r(r),a.d(r,"getUsersById",function(){return Se}),a.d(r,"getUserData",function(){return we}),a.d(r,"getUserTaskIds",function(){return Ne}),a.d(r,"getCurrentUserData",function(){return Ae}),a.d(r,"getUsersArray",function(){return Pe}),a.d(r,"getMembersArray",function(){return xe});var s={};a.r(s),a.d(s,"selectUser",function(){return Ue}),a.d(s,"selectProject",function(){return Me}),a.d(s,"selectList",function(){return Fe}),a.d(s,"selectTask",function(){return Re});var o={};a.r(o),a.d(o,"getCurrentUserId",function(){return ze}),a.d(o,"getCurrentProjectId",function(){return Ye}),a.d(o,"getCurrentListId",function(){return Ke}),a.d(o,"getCurrentTaskId",function(){return We}),a.d(o,"getCurrent",function(){return He}),a.d(o,"getMergedTags",function(){return qe});var c={};a.r(c),a.d(c,"loadProjectsById",function(){return Ge}),a.d(c,"fetchProjectsById",function(){return $e}),a.d(c,"fetchProject",function(){return Qe}),a.d(c,"updateProject",function(){return Xe}),a.d(c,"reorderLists",function(){return Ze}),a.d(c,"updateListIds",function(){return et}),a.d(c,"updateProjectTags",function(){return tt});var i={};a.r(i),a.d(i,"getProjectsById",function(){return at}),a.d(i,"getProjectsArray",function(){return nt}),a.d(i,"getProject",function(){return rt}),a.d(i,"getProjectTags",function(){return st});var l={};a.r(l),a.d(l,"loadListsById",function(){return It}),a.d(l,"fetchListsById",function(){return Ct}),a.d(l,"fetchUserLists",function(){return Ot}),a.d(l,"updateListsById",function(){return Tt});var u={};a.r(u),a.d(u,"getListsById",function(){return Dt}),a.d(u,"getUserLists",function(){return St}),a.d(u,"getListsArray",function(){return wt});var d={};a.r(d),a.d(d,"getTasksById",function(){return At}),a.d(d,"getListTasks",function(){return Pt}),a.d(d,"getSimpleTasks",function(){return xt}),a.d(d,"getUserTaskLists",function(){return Lt}),a.d(d,"getTaskTags",function(){return Bt});var m={};a.r(m),a.d(m,"loadTasksById",function(){return Ut}),a.d(m,"loadUserTasks",function(){return Mt}),a.d(m,"fetchProjectTasks",function(){return Ft}),a.d(m,"fetchUserTasks",function(){return Rt}),a.d(m,"addTask",function(){return zt}),a.d(m,"deleteTask",function(){return Yt}),a.d(m,"updateTask",function(){return Kt}),a.d(m,"updateTasksById",function(){return Wt}),a.d(m,"addTag",function(){return Ht});var p={};a.r(p),a.d(p,"loadSubtasksById",function(){return Vt}),a.d(p,"fetchSubtasksById",function(){return Gt}),a.d(p,"updateSubtasksById",function(){return $t}),a.d(p,"fetchTaskSubtasks",function(){return Qt}),a.d(p,"fetchUserSubtasks",function(){return Xt}),a.d(p,"addSubtask",function(){return Zt}),a.d(p,"deleteSubtask",function(){return ea}),a.d(p,"updateSubtask",function(){return ta});var h={};a.r(h),a.d(h,"getSubtasksById",function(){return aa}),a.d(h,"getSubtasksArray",function(){return na}),a.d(h,"getSimpleSubtasks",function(){return ra}),a.d(h,"getActiveSubtasks",function(){return sa}),a.d(h,"getCompletedSubtasks",function(){return oa});var f={};a.r(f),a.d(f,"isLeapYear",function(){return Ta}),a.d(f,"getMonthFirstDay",function(){return Da}),a.d(f,"isToday",function(){return Sa}),a.d(f,"isYesterday",function(){return wa}),a.d(f,"isTomorrow",function(){return Na}),a.d(f,"isThisYear",function(){return Aa}),a.d(f,"getMonthDays",function(){return Pa}),a.d(f,"getPrevMonth",function(){return xa}),a.d(f,"getNextMonth",function(){return La}),a.d(f,"getMonthDates",function(){return Ba}),a.d(f,"isDate",function(){return Ua}),a.d(f,"getSimpleDate",function(){return Ma}),a.d(f,"isSimpleDate",function(){return Fa}),a.d(f,"isSameDate",function(){return Ra}),a.d(f,"getNextYears",function(){return za}),a.d(f,"zeroPad",function(){return Ya}),a.d(f,"toSimpleDateString",function(){return Ka}),a.d(f,"toSimpleDateObj",function(){return Wa}),a.d(f,"isSDSFormat",function(){return Ha}),a.d(f,"isWithinDays",function(){return qa}),a.d(f,"isPriorDate",function(){return Ja}),a.d(f,"toDateString",function(){return Va});var b={};a.r(b),a.d(b,"loadCommentsById",function(){return on}),a.d(b,"fetchCommentsById",function(){return cn}),a.d(b,"updateCommentsById",function(){return ln}),a.d(b,"fetchTaskComments",function(){return un}),a.d(b,"fetchUserComments",function(){return dn}),a.d(b,"addComment",function(){return mn}),a.d(b,"deleteComment",function(){return pn}),a.d(b,"updateComment",function(){return hn});var g={};a.r(g),a.d(g,"getCommentsById",function(){return fn}),a.d(g,"getCommentsArray",function(){return bn});var v={};a.r(v),a.d(v,"isEqual",function(){return xn}),a.d(v,"windowDebouncer",function(){return Ln});var k=a(0),y=a.n(k),E=a(61),j=a.n(E),_=a(12),I=a(257),C=a(21),O=a(110),T=(a(129),a(130),a(3)),D=a(4),S=a(6),w=a(5),N=a(7),A=a(258),P=a(119),x="/0/home/:id",L=a(111),B=a(83),U=a(9),M=a(1),F=a(30),R=a(259),z=y.a.createContext(null),Y=function(e){return function(t){return y.a.createElement(z.Consumer,null,function(a){return y.a.createElement(e,Object.assign({},t,{firebase:a}))})}},K=z,W=a(15),H=a(26),q=a.n(H),J={apiKey:"AIzaSyBEMtI6srASSV24HbRYSLjdV6eVTI248DQ",authDomain:"workflow-74f49.firebaseapp.com",databaseURL:"https://workflow-74f49.firebaseio.com",projectId:"workflow-74f49",storageBucket:"workflow-74f49.appspot.com",messagingSenderId:"417049317953"},V=function e(){var t=this;Object(T.a)(this,e),this.signInWithGoogle=function(){var e=new q.a.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/contacts.readonly"),t.auth.signInWithPopup(e).then(function(e){if(e.credential){var t=e.credential.accessToken;console.log(t),e.user}}).catch(function(e){var t=e.code;e.message,e.email,e.credential,"auth/account-exists-with-different-credential"===t?alert("You have already signed up with a different auth provider for that email."):console.error(e)})},this.signInWithGithub=function(){var e=new q.a.auth.GithubAuthProvider;t.auth.signInWithRedirect(e)},this.createUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.signInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.signOut=function(){return t.auth.signOut()},this.passwordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.passwordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.getTimestamp=function(){return q.a.firestore.FieldValue.serverTimestamp()},this.addToArray=function(e){return q.a.firestore.FieldValue.arrayUnion(e)},this.removeFromArray=function(e){return q.a.firestore.FieldValue.arrayRemove(e)},this.deleteField=function(){return q.a.firestore.FieldValue.delete()},this.getUserDoc=function(e){return t.db.collection("users").doc(e)},this.addUser=function(e){var a=e.userId,n=e.name,r=e.username,s=e.email,o=e.projectIds,c=void 0===o?[]:o,i=e.photoURL,l=void 0===i?null:i;return t.db.collection("users").doc(a).set({userId:a,name:n,username:r,email:s,projectIds:c,photoURL:l,listIds:[],defaultLists:{new:{name:"New Tasks",taskIds:[]},today:{name:"Today",taskIds:[]},upcoming:{name:"Upcoming",taskIds:[]},later:{name:"Later",taskIds:[]}}})},this.updateUser=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.db.collection("users").doc(e).update(a)},this.addTag=function(e){var a=e.taskId,n=e.userId,r=e.projectId,s=e.text,o=e.color,c=void 0===o?"default":o,i=t.db.batch(),l=t.getUserDoc(n),u=t.getTaskDoc(a),d=t.getProjectDoc(r);return i.update(u,{tags:t.addToArray(s),lastUpdatedAt:t.getTimestamp()}),i.set(l,{tags:Object(U.a)({},s,{text:s,color:c,lastUsedAt:t.getTimestamp()}),lastUpdatedAt:t.getTimestamp()},{merge:!0}),i.set(d,{tags:Object(U.a)({},s,{text:s,color:c,lastUsedAt:t.getTimestamp()}),lastUpdatedAt:t.getTimestamp()},{merge:!0}),i.commit().then(function(){console.log("tag added")}).catch(function(e){console.error(e)})},this.removeTag=function(e){var a=e.taskId,n=e.tag;t.updateTask(a,{tags:t.removeFromArray(n)})},this.setTagColor=function(e){var a=e.userId,n=e.projectId,r=e.tag,s=e.color,o=t.db.batch(),c=t.getUserDoc(a),i=t.getProjectDoc(n);return o.set(c,{tags:Object(U.a)({},r,{color:s}),lastUpdatedAt:t.getTimestamp()},{merge:!0}),o.set(i,{tags:Object(U.a)({},r,{color:s}),lastUpdatedAt:t.getTimestamp()},{merge:!0}),o.commit().then(function(){console.log("tag color updated")}).catch(function(e){console.error(e)})},this.getProjectDoc=function(e){return t.db.collection("projects").doc(e)},this.updateProject=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.getProjectDoc(e).update(Object(M.a)({lastUpdatedAt:t.getTimestamp()},a))},this.addProject=function(e){var a=e.userId,n=e.name,r=e.color,s=void 0===r?"default":r,o=e.view,c=void 0===o?"board":o,i=e.isPrivate,l=void 0!==i&&i;t.db.collection("projects").add({createdAt:t.getTimestamp(),lastUpdatedAt:null,listIds:[],createdBy:a,memberIds:[a],notes:"",isFavorited:!1,color:s,view:c,isPrivate:l,name:n}).then(function(e){t.updateUser(a,{projectIds:t.addToArray(e.id)})})},this.getListDoc=function(e){return t.db.collection("lists").doc(e)},this.updateList=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.getListDoc(e).update(Object(M.a)({lastUpdatedAt:t.getTimestamp()},a))},this.addList=function(e){var a=e.name,n=e.projectId,r=void 0===n?null:n,s=e.userId,o=void 0===s?null:s;t.db.collection("lists").add({createdAt:t.getTimestamp(),lastUpdatedAt:null,taskIds:[],projectId:r,name:a}).then(function(e){r&&t.updateProject(r,{listIds:t.addToArray(e.id)}),o&&t.updateUser(o,{listIds:t.addToArray(e.id)})})},this.deleteList=function(e){var a=e.listId,n=e.projectId,r=t.db.batch(),s=t.getListDoc(a),o=t.getProjectDoc(n);r.delete(s),r.update(o,{listIds:t.removeFromArray(a),lastUpdatedAt:t.getTimestamp()}),t.db.collection("tasks").where("listId","==",a).get().then(function(e){return e.docs.forEach(function(e){r.delete(e.ref)}),r.commit().then(function(){console.log("list deleted")}).catch(function(e){console.error(e)})})},this.getTaskDoc=function(e){return t.db.collection("tasks").doc(e)},this.addTask=function(e){var a=e.name,n=e.projectId,r=e.listId,s=e.assignedTo,o=void 0===s?[]:s;t.db.collection("tasks").add({createdAt:t.getTimestamp(),lastUpdatedAt:t.getTimestamp(),commentIds:[],subtaskIds:[],isCompleted:!1,completedAt:null,dueDate:null,notes:"",assignedTo:o,listId:r,projectId:n,name:a}).then(function(e){t.updateList(r,{taskIds:t.addToArray(e.id),lastUpdatedAt:t.getTimestamp()})})},this.updateTask=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.getTaskDoc(e).update(Object(M.a)({lastUpdatedAt:t.getTimestamp()},a))},this.removeAssignee=function(e){var a=e.taskId,n=e.userId,r=t.db.batch(),s=t.getTaskDoc(a),o=t.getUserDoc(n);return r.update(o,{"defaultLists.new.taskIds":t.removeFromArray(a),"defaultLists.today.taskIds":t.removeFromArray(a),"defaultLists.upcoming.taskIds":t.removeFromArray(a),"defaultLists.later.taskIds":t.removeFromArray(a),lastUpdatedAt:t.getTimestamp()}),r.update(s,{assignedTo:t.removeFromArray(n),lastUpdatedAt:t.getTimestamp()}),r.commit().then(function(){console.log("Removed member from task")}).catch(function(e){console.error(e)})},this.assignMember=function(e){var a=e.taskId,n=e.projectId,r=e.userId,s=t.db.batch(),o=t.getTaskDoc(a),c=t.getProjectDoc(n),i=t.getUserDoc(r);return s.update(i,{"defaultLists.new.taskIds":t.addToArray(a),lastUpdatedAt:t.getTimestamp()}),s.update(o,{assignedTo:t.addToArray(r),lastUpdatedAt:t.getTimestamp()}),s.update(c,{memberIds:t.addToArray(r),lastUpdatedAt:t.getTimestamp()}),s.commit().then(function(){console.log("assigned task to member")}).catch(function(e){console.error(e)})},this.deleteTask=function(e){var a=e.taskId,n=e.listId,r=e.userId,s=void 0===r?null:r,o=t.db.batch(),c=t.getTaskDoc(a),i=t.getListDoc(n);if(o.delete(c),o.update(i,{taskIds:t.removeFromArray(a),lastUpdatedAt:t.getTimestamp()}),s){var l=t.getUserDoc(s);o.update(l,{taskIds:t.removeFromArray(a),lastUpdatedAt:t.getTimestamp()})}t.db.collection("subtasks").where("taskId","==",a).get().then(function(e){e.docs.forEach(function(e){o.delete(e.ref)})}).then(function(){t.db.collection("comments").where("taskId","==",a).get().then(function(e){return e.docs.forEach(function(e){o.delete(e.ref)}),o.commit().then(function(){console.log("task deleted")}).catch(function(e){console.error(e)})})})},this.moveTaskToList=function(e){var a=e.taskId,n=e.origListId,r=e.newListId,s=e.updatedTaskIds,o=t.db.batch(),c=t.getTaskDoc(a),i=t.getListDoc(n),l=t.getListDoc(r);return o.update(c,{listId:r,lastUpdatedAt:t.getTimestamp()}),o.update(i,{taskIds:t.removeFromArray(a),lastUpdatedAt:t.getTimestamp()}),o.update(l,{taskIds:s,lastUpdatedAt:t.getTimestamp()}),o.commit().then(function(){console.log("task moved")}).catch(function(e){console.error(e)})},this.getSubtaskDoc=function(e){return t.db.collection("subtasks").doc(e)},this.addSubtask=function(e){var a=e.userId,n=e.name,r=e.memberIds,s=void 0===r?[]:r,o=e.projectId,c=void 0===o?null:o,i=e.taskId,l=void 0===i?null:i,u=e.dueDate,d=void 0===u?null:u;t.db.collection("subtasks").add({createdAt:t.getTimestamp(),lastUpdatedAt:t.getTimestamp(),isCompleted:!1,createdBy:a,assignedTo:[a].concat(Object(W.a)(s)),completedAt:null,dueDate:d,projectId:c,taskId:l,name:n}).then(function(e){null!==l&&t.updateTask(l,{subtaskIds:t.addToArray(e.id)})})},this.updateSubtask=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.getSubtaskDoc(e).update(Object(M.a)({lastUpdatedAt:t.getTimestamp()},a))},this.deleteSubtask=function(e){var a=e.subtaskId,n=e.taskId,r=void 0===n?null:n,s=t.db.batch(),o=t.getSubtaskDoc(a);if(s.delete(o),r){var c=t.getTaskDoc(r);s.update(c,{subtaskIds:t.removeFromArray(a),lastUpdatedAt:t.getTimestamp()})}return s.commit().then(function(){console.log("subtask deleted")}).catch(function(e){console.error(e)})},this.getCommentDoc=function(e){return t.db.collection("comments").doc(e)},this.addComment=function(e){var a=e.userId,n=e.memberIds,r=void 0===n?[]:n,s=e.projectId,o=e.taskId,c=e.content;t.db.collection("comments").add({createdAt:t.getTimestamp(),lastUpdatedAt:t.getTimestamp(),isPinned:!1,from:a,to:r,likes:[],projectId:s,taskId:o,content:c}).then(function(e){t.updateTask(o,{commentIds:t.addToArray(e.id)})})},this.updateComment=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.getCommentDoc(e).update(Object(M.a)({lastUpdatedAt:t.getTimestamp()},a))},q.a.initializeApp(J),this.auth=q.a.auth(),this.db=q.a.firestore()},G=(a(183),function(e){var t=e.className,a=void 0===t?"":t,n=e.name,r=e.type,s=e.value,o=e.onFocus,c=e.onChange,i=e.onInput,l=e.placeholder,u=e.isRequired,d=e.onBlur,m=e.autoComplete,p=e.inputRef,h=e.hideLabel,f=e.label,b=e.labelClass,g=e.onKeyDown,v=e.maxLength,k=e.minLength;return y.a.createElement(y.a.Fragment,null,!h&&y.a.createElement("label",{htmlFor:n,className:"input__label ".concat(b)},f),y.a.createElement("input",{className:"input ".concat(a),id:n,name:n,type:r,value:s,onFocus:o,onChange:c,placeholder:l,required:u,onBlur:d,autoComplete:m,ref:p,onInput:i,onKeyDown:g,maxLength:v,minLength:k}))});G.defaultProps={className:""};var $=G,Q=a(22),X=(a(184),function(e){var t=e.children,a=e.type,n=void 0===a?"button":a,r=e.onClick,s=e.className,o=void 0===s?"":s,c=e.color,i=void 0===c?"neutral":c,l=e.size,u=void 0===l?"md":l,d=e.variant,m=void 0===d?"text":d,p=e.disabled,h=e.name,f=e.iconOnly,b=void 0!==f&&f,g=e.buttonRef,v=Object(Q.a)(e,["children","type","onClick","className","color","size","variant","disabled","name","iconOnly","buttonRef"]);return y.a.createElement("button",Object.assign({className:"".concat(o," ").concat(i," ").concat(m," ").concat(b?"":u," ").concat(b?"icon-only icon-only--".concat(u):""),type:n,onClick:r,disabled:p,name:h,ref:g},v),t)});X.defaultProps={type:"button",className:"",color:"neutral",size:"md",variant:"text",iconOnly:!1};var Z=X,ee={username:"",name:"",email:"",passwordOne:"",passwordTwo:"",error:null},te=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.username,r=t.email,s=t.name,o=t.passwordOne;a.props.firebase.createUserWithEmailAndPassword(r,o).then(function(e){var t=e.user.uid,o=e.user.photoURL||null;return a.props.firebase.addUser({userId:t,name:s,username:n,email:r,photoURL:o})}).then(function(e){a.setState(Object(M.a)({},ee)),a.props.history.push(x)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.state=Object(M.a)({},ee),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.name,n=e.email,r=e.passwordOne,s=e.passwordTwo,o=e.error,c=""===r||""===s||""===n||""===t||r!==s;return y.a.createElement("form",{onSubmit:this.onSubmit,className:"user-form"},y.a.createElement($,{name:"name",label:"Full Name",value:a,onChange:this.onChange,type:"text",className:"user-form__input"}),y.a.createElement($,{name:"username",label:"Username",value:t,onChange:this.onChange,type:"text",className:"user-form__input"}),y.a.createElement($,{name:"email",label:"Email",value:n,onChange:this.onChange,type:"email",className:"user-form__input"}),y.a.createElement($,{name:"passwordOne",label:"Password",value:r,onChange:this.onChange,type:"password",className:"user-form__input"}),y.a.createElement($,{name:"passwordTwo",label:"Confirm Password",value:s,onChange:this.onChange,type:"password",className:"user-form__input"}),y.a.createElement(Z,{disabled:c,type:"submit",size:"lg",variant:"contained",color:"primary",onClick:this.onSubmit},"Create Account"),o&&y.a.createElement("p",null,o.message))}}]),t}(k.Component),ae=Object(F.a)(R.a,Y)(te),ne=(a(186),function(e){var t=e.title,a=e.children;return y.a.createElement("main",{className:"user-form__container"},y.a.createElement("h1",{className:"user-form__title"},t),a)}),re=function(){return y.a.createElement(ne,{title:"Create an account"},y.a.createElement(ae,null))},se=function(){return y.a.createElement("p",null,"Don't have an account? ",y.a.createElement(B.a,{to:"/signup"},"Sign Up"))},oe={email:"",password:"",error:null},ce=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.signInWithEmailAndPassword(n,r).then(function(){a.setState(Object(M.a)({},oe)),a.props.history.push(x)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.enableGoogleLogin=function(e){(0,a.props.firebase.signInWithGoogle)(),e.preventDefault()},a.state=Object(M.a)({},oe),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,r=""===a||""===t;return y.a.createElement("form",{className:"user-form"},y.a.createElement($,{name:"email",label:"Email",value:t,onChange:this.onChange,type:"email",className:"user-form__input"}),y.a.createElement($,{name:"password",label:"Password",value:a,onChange:this.onChange,type:"password",className:"user-form__input"}),y.a.createElement(Z,{disabled:r,type:"submit",size:"lg",variant:"contained",color:"primary",onClick:this.onSubmit},"Log In"),n&&y.a.createElement("p",null,n.message))}}]),t}(k.Component),ie=Object(F.a)(R.a,Y)(ce),le={email:"",error:null},ue=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.passwordReset(t).then(function(){a.setState(Object(M.a)({},le))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.state=Object(M.a)({},le),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return y.a.createElement("form",{onSubmit:this.onSubmit,className:"user-form"},y.a.createElement($,{name:"email",label:"Email",value:t,onChange:this.onChange,type:"email",className:"user-form__input"}),y.a.createElement(Z,{disabled:n,type:"submit",size:"lg",variant:"contained",color:"primary",onClick:this.onSubmit},"Reset My Password"),a&&y.a.createElement("p",null,a.message))}}]),t}(k.Component),de=Y(ue),me=function(){return y.a.createElement(ne,{title:"Forgot your password?"},y.a.createElement(de,null))},pe=function(){return y.a.createElement("p",null,y.a.createElement(B.a,{to:"/pw-forget"},"Forgot Password?"))},he=function(){return y.a.createElement(ne,{title:"Log In"},y.a.createElement(ie,null),y.a.createElement(pe,null),y.a.createElement(se,null))},fe=y.a.createContext(null),be=function(e){var t=function(t){function a(e){var t;return Object(T.a)(this,a),(t=Object(S.a)(this,Object(w.a)(a).call(this,e))).state={authUser:null},t}return Object(N.a)(a,t),Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.firebase,n=t.history;this.listener=a.auth.onAuthStateChanged(function(t){t?(e.setState({authUser:t}),n.push("/0/home/".concat(t.uid))):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return y.a.createElement(fe.Provider,{value:this.state.authUser},y.a.createElement(e,this.props))}}]),a}(y.a.Component);return Object(F.a)(R.a,Y)(t)},ge=function(e){return function(t){var a=function(a){function n(e){return Object(T.a)(this,n),Object(S.a)(this,Object(w.a)(n).call(this,e))}return Object(N.a)(n,a),Object(D.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,a=t.firebase,n=t.history;this.listener=a.auth.onAuthStateChanged(function(t){e(t)||n.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return y.a.createElement(fe.Consumer,null,function(n){return e(n)?y.a.createElement(t,Object.assign({userId:n.uid},a.props)):null})}}]),n}(y.a.Component);return Object(F.a)(R.a,Y)(a)}},ve=a(11),ke=a.n(ve),ye=a(18),Ee=new V,je=function(e){return{type:"LOAD_USER_DATA",user:e}},_e=function(e){return{type:"LOAD_USERS_BY_ID",usersById:e}},Ie=function(){return function(){var e=Object(ye.a)(ke.a.mark(function e(t){var a;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.db.collection("users").get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({userId:e.id},e.data())}),t});case 3:a=e.sent,t(_e(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getUserDoc(e).get().then(function(e){return e.data()});case 3:n=t.sent,a(je(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Oe=function(e){return{type:"ADD_USER",userId:e.userId,userData:e.userData}},Te=function(e){return{type:"DELETE_USER",userId:e}},De=function(e){return{type:"UPDATE_USER",userId:e.userId,userData:e.userData}},Se=function(e){return e.usersById},we=function(e,t){return e.usersById[t]},Ne=function(e,t){var a=e.usersById[t].taskIds;return a||[]},Ae=function(e){var t=e.current.userId;return e.usersById[t]},Pe=function(e){var t=e.usersById;return Object.keys(t).map(function(e){return Object(M.a)({userId:e},t[e])})},xe=function(e,t){var a=e.usersById;return t?t.map(function(e){return a[e]}):[]};function Le(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_USERS_BY_ID":var a=t.usersById;return Object(M.a)({},e,a);case"LOAD_USER_DATA":var n=t.user;return Object(M.a)({},e,n);case"LOAD_USER_TASKS":var r=t.userId,s=t.tasksById;return Object(M.a)({},e,Object(U.a)({},r,Object(M.a)({},e[r],{tasksById:s})));case"ADD_USER":var o=t.userId,c=t.userData;return Object(M.a)({},e,Object(U.a)({},o,Object(M.a)({userId:o},c)));case"DELETE_USER":var i=t.userId;return e[i],Object(Q.a)(e,[i].map(Le));case"UPDATE_USER":var l=t.userId,u=t.userData;return Object(M.a)({},e,Object(U.a)({},l,Object(M.a)({},e[l],u)));default:return e}},Ue=function(e){return{type:"SELECT_USER",userId:e}},Me=function(e){return{type:"SELECT_PROJECT",projectId:e}},Fe=function(e){return{type:"SELECT_LIST",listId:e}},Re=function(e){return{type:"SELECT_TASK",taskId:e}},ze=function(e){return e.current.userId},Ye=function(e){return e.current.projectId},Ke=function(e){return e.current.listId},We=function(e){return e.current.taskId},He=function(e){return e.current},qe=function(e){var t=e.current,a=t.projectId,n=t.userId,r=e.projectsById,s=e.usersById,o=r[a].tags,c=s[n].tags,i=Object(M.a)({},c,o);return Object.keys(i).map(function(e){return i[e]})},Je=function(e){var t=e.projectId,a=e.projectName,n=e.onClick;return y.a.createElement("li",{className:"project-grid__tile"},y.a.createElement(B.a,{className:"project-grid__link",to:"/0/project/".concat(t),onClick:n},y.a.createElement("span",{className:"project-grid__title"},a)))},Ve=function(e){var t=e.children;return y.a.createElement("ul",{className:"project-grid"},t)},Ge=(a(189),function(e){return{type:"LOAD_PROJECTS_BY_ID",projectsById:e}}),$e=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.collection("projects").where("memberIds","array-contains",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({projectId:e.id},e.data())}),t});case 3:n=t.sent,a(Ge(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Qe=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.getProjectDoc(e).get().then(function(e){var t={};return t[e.id]=Object(M.a)({projectId:e.id},e.data()),t});case 3:n=t.sent,a(Ge(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Xe=function(e,t){return{type:"UPDATE_PROJECT",projectId:e,projectData:t}},Ze=function(e,t){return{type:"REORDER_LISTS",projectId:e,listIds:t}},et=function(e,t){return{type:"UPDATE_LIST_IDS",projectId:e,listIds:t}},tt=function(e,t){return{type:"UPDATE_PROJECT_TAGS",projectId:e,tags:t}},at=function(e){return e.projectsById},nt=function(e){var t=e.projectsById;return Object.keys(t).map(function(e){return Object(M.a)({projectId:e},t[e])})},rt=function(e,t){return e.projectsById[t]},st=function(e,t){return e.projectsById[t].tags},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_PROJECTS_BY_ID":var a=t.projectsById;return Object(M.a)({},e,a);case"UPDATE_PROJECT":var n=t.projectId,r=t.projectData;return Object(M.a)({},e,Object(U.a)({},n,Object(M.a)({},e[n],r)));case"UPDATE_LIST_IDS":case"REORDER_LISTS":var s=t.projectId,o=t.listIds;return Object(M.a)({},e,Object(U.a)({},s,Object(M.a)({},e[s],{listIds:o})));case"UPDATE_PROJECT_TAGS":var c=t.projectId,i=t.tags;return Object(M.a)({},e,Object(U.a)({},c,Object(M.a)({},e[c],{tags:Object(M.a)({},i)})));default:return e}},ct=a(115),it=a.n(ct),lt=function(e){var t=e.name,a=e.className;return y.a.createElement("svg",{className:"feather feather-".concat(t," ").concat(a),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},y.a.createElement("use",{xlinkHref:"".concat(it.a,"#").concat(t)}))};lt.defaultProps={className:""};var ut=lt,dt=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.userId,a=e.firebase,n=e.updateProject;this.projectObserver=a.db.collection("projects").where("memberIds","array-contains",t).onSnapshot(function(e){e.docChanges().forEach(function(e){var t=e.doc.id,a=e.doc.data();n(t,a)})})}},{key:"componentWillUnmount",value:function(){this.projectObserver()}},{key:"render",value:function(){var e=this.props,t=e.projectsArray,a=e.selectProject,n=t.map(function(e){var t=e.name,n=e.projectId;return y.a.createElement(Je,{key:n,projectName:t,projectId:n,onClick:function(){return a(n)}})});return y.a.createElement(Ve,null,n,y.a.createElement("button",{type:"button",className:"project-grid__tile project-grid__btn--add",onClick:this.props.openProjectComposer},y.a.createElement(ut,{name:"plus-circle"}),"Create project"))}}]),t}(k.Component),mt=ge(function(e){return!!e})(Object(_.b)(function(e,t){return{user:r.getUserData(e,t.userId),projectsById:i.getProjectsById(e),projectsArray:i.getProjectsArray(e)}},function(e){return{fetchProjectsById:function(t){return e(c.fetchProjectsById(t))},updateProject:function(t,a){return e(c.updateProject(t,a))},selectProject:function(t){return e(s.selectProject(t))}}})(dt)),pt=(a(190),function(e){var t=e.onModalClose,a=e.children,n=e.onModalClick,r=e.size,s=void 0===r?"md":r,o=e.classes,c=e.id;return y.a.createElement("div",{className:"modal ".concat(o.modal),onClick:n},y.a.createElement("div",{id:c,className:"modal__content ".concat(o.content," modal__content--").concat(s)},y.a.createElement(Z,{type:"button",className:"modal__btn--close",onClick:t,iconOnly:!0},y.a.createElement(ut,{name:"x"})),a))});pt.defaultProps={classes:{modal:"",content:""}};var ht=pt,ft=(a(191),{projectTitle:""}),bt=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state.projectTitle,n=a.props;n.handleSubmit,n.onClose;a.props.handleSubmit(t),a.props.onClose(),a.setState(Object(M.a)({},ft))},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.state=Object(M.a)({},ft),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.state.projectTitle;return y.a.createElement(ht,{onModalClose:this.props.onClose,size:"sm"},y.a.createElement("h3",{className:"project-composer__title"},"Create new project"),y.a.createElement("form",{onSubmit:this.onSubmit},y.a.createElement($,{name:"projectTitle",title:"Project Title",value:e,onChange:this.onChange,type:"text"}),y.a.createElement(Z,{className:"project-composer__btn--add",type:"submit",onClick:this.onSubmit,color:"primary",variant:"contained"},"Create Project")))}}]),t}(k.Component),gt=a(17),vt="LIST",kt="TASK",yt=(a(192),{name:"",isActive:!1}),Et=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).resetForm=function(){a.setState({name:""})},a.onReset=function(e){a.setState(Object(M.a)({},yt))},a.onSubmit=function(e){e.preventDefault();var t=a.state.name,n=a.props.projectId;a.props.firebase.addList({projectId:n,name:t}),a.resetForm()},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.onFocus=function(e){a.setState({isActive:!0})},a.onBlur=function(e){""===e.target.value&&a.setState({isActive:!1})},a.state=Object(M.a)({},yt),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.isActive;return y.a.createElement("div",{className:"list-composer".concat(a?" is-active":""),onFocus:this.onFocus,onBlur:this.onBlur},y.a.createElement("form",{className:"list-composer__form",onSubmit:this.onSubmit},y.a.createElement($,{onChange:this.onChange,value:t,placeholder:a?"Enter list title...":"Add a list",required:!0,name:"name",hideLabel:!0,className:"list-composer__input"}),a&&y.a.createElement("div",{className:"list-composer__footer"},y.a.createElement(Z,{className:"list-composer__btn--add",type:"submit",onClick:this.onSubmit,color:"primary",variant:"contained"},"Add List"),y.a.createElement(Z,{className:"list-composer__btn--close",type:"reset",onClick:this.onReset,size:"sm",iconOnly:!0},y.a.createElement(ut,{name:"x"})))))}}]),t}(k.Component),jt=ge(function(e){return!!e})(Object(_.b)(function(e){return{projectsById:i.getProjectsById(e),projectsArray:i.getProjectsArray(e),current:o.getCurrent(e)}},function(e){return{updateProjectsById:function(t){return e(c.updateProjectsById(t))},selectProject:function(t){return e(s.selectProject(t))}}})(Et)),_t=function(e){var t=e.projectId,a=e.children;return y.a.createElement(gt.c,{droppableId:t,type:vt,direction:"horizontal"},function(e){return y.a.createElement("div",Object.assign({className:"board",ref:e.innerRef},e.droppableProps),a,e.placeholder,y.a.createElement(jt,{projectId:t}))})},It=function(e){return{type:"LOAD_LISTS_BY_ID",listsById:e}},Ct=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.collection("lists").where("projectId","==",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=e.data()}),t});case 3:n=t.sent,a(It(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Ot=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.collection("lists").where("userId","==",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=e.data()}),t});case 3:n=t.sent,a(It(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Tt=function(e){return{type:"UPDATE_LISTS_BY_ID",list:e}},Dt=function(e){return e.listsById},St=function(e,t){e.usersById,e.listsById},wt=function(e){var t=e.listsById,a=e.projectsById[e.current.projectId];return a?a.listIds.map(function(e){return Object(M.a)({listId:e},t[e])}):null},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_LISTS_BY_ID":var a=t.listsById;return Object(M.a)({},e,a);case"UPDATE_LISTS_BY_ID":var n=t.list;return Object(M.a)({},e,n);default:return e}},At=function(e){return e.tasksById},Pt=function(e,t){var a=e.tasksById;return t.map(function(e){return a[e]})},xt=function(e,t){var a=e.tasksById;return t?t.reduce(function(e,t){var n=a[t],r=n.name,s=n.isCompleted;return e[t]={name:r,isCompleted:s},e},{}):{}},Lt=function(e,t){var a=e.usersById;if(!a)return[];var n=e.tasksById;if(!n)return[];var r=a[t],s=r.tasksNew,o=r.tasksToday,c=r.tasksUpcoming,i=r.tasksLater;return[s.map(function(e){return n[e]}),o.map(function(e){return n[e]}),c.map(function(e){return n[e]}),i.map(function(e){return n[e]})]},Bt=function(e,t){var a=e.projectsById,n=t.projectId,r=t.tags,s=a[n].tags;return r&&s?r.map(function(e){return s[e]}):[]},Ut=function(e){return{type:"LOAD_TASKS_BY_ID",tasksById:e}},Mt=function(e,t){return{type:"LOAD_USER_TASKS",userId:e,tasksById:t}},Ft=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.collection("tasks").where("projectId","==",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({taskId:e.id},e.data())}),t});case 3:n=t.sent,a(Ut(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Rt=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.collection("tasks").where("assignedTo","array-contains",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({taskId:e.id},e.data())}),t});case 3:n=t.sent,a(Ut(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},zt=function(e){return{type:"ADD_TASK",taskId:e.taskId,taskData:e.taskData}},Yt=function(e){return{type:"DELETE_TASK",taskId:e}},Kt=function(e){return{type:"UPDATE_TASK",taskId:e.taskId,taskData:e.taskData}},Wt=function(e){return{type:"UPDATE_TASKS_BY_ID",task:e}},Ht=function(e,t){return{type:"ADD_TAG",taskId:e,tag:t}};function qt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TASKS_BY_ID":var a=t.tasksById;return Object(M.a)({},e,a);case"UPDATE_TASKS_BY_ID":var n=t.task;return console.log("tasks updated"),Object(M.a)({},e,n);case"ADD_TASK":var r=t.taskId,s=t.taskData;return Object(M.a)({},e,Object(U.a)({},r,Object(M.a)({taskId:r},s)));case"DELETE_TASK":var o=t.taskId;return e[o],Object(Q.a)(e,[o].map(qt));case"UPDATE_TASK":var c=t.taskId,i=t.taskData;return Object(M.a)({},e,Object(U.a)({},c,Object(M.a)({},e[c],i)));case"ADD_TAG":var l=t.taskId,u=t.tag;return Object(M.a)({},e,Object(U.a)({},l,Object(M.a)({},e[l],{tags:[].concat(Object(W.a)(e[l].tags),[u])})));default:return e}},Vt=function(e){return{type:"LOAD_SUBTASKS_BY_ID",subtasksById:e}},Gt=function(){return function(){var e=Object(ye.a)(ke.a.mark(function e(t){var a;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.db.collection("subtasks").get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({subtaskId:e.id},e.data())}),t});case 3:a=e.sent,t(Vt(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},$t=function(e){return{type:"UPDATE_SUBTASKS_BY_ID",subtask:e}},Qt=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.collection("subtasks").where("projectId","==",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({subtaskId:e.id},e.data())}),t});case 3:n=t.sent,a(Vt(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Xt=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.collection("subtasks").where("assignedTo","array-contains",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({subtaskId:e.id},e.data())}),t});case 3:n=t.sent,a(Vt(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},Zt=function(e){return{type:"ADD_SUBTASK",subtaskId:e.subtaskId,subtaskData:e.subtaskData}},ea=function(e){return{type:"DELETE_SUBTASK",subtaskId:e}},ta=function(e){return{type:"UPDATE_SUBTASK",subtaskId:e.subtaskId,subtaskData:e.subtaskData}},aa=function(e){return e.subtasksById},na=function(e,t){var a=e.subtasksById;return t?t.map(function(e){return a[e]}):[]},ra=function(e,t){var a=e.subtasksById;return t?t.reduce(function(e,t){var n=a[t],r=n.name,s=n.isCompleted;return e[t]={name:r,isCompleted:s},e},{}):{}},sa=function(e,t){return na(e,t).filter(function(e){return!e.isCompleted})},oa=function(e,t){return na(e,t).filter(function(e){return e.isCompleted})};function ca(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_SUBTASKS_BY_ID":var a=t.subtasksById;return Object(M.a)({},e,a);case"ADD_SUBTASK":var n=t.subtaskId,r=t.subtaskData;return Object(M.a)({},e,Object(U.a)({},n,Object(M.a)({subtaskId:n},r)));case"DELETE_SUBTASK":var s=t.subtaskId;return e[s],Object(Q.a)(e,[s].map(ca));case"UPDATE_SUBTASK":var o=t.subtaskId,c=t.subtaskData;return Object(M.a)({},e,Object(U.a)({},o,Object(M.a)({},e[o],c)));default:return e}},la=(a(227),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).autoHeightResize=function(){a.props.isAutoHeightResizeEnabled&&(a.textareaEl.current.style.height="0px",a.textareaEl.current.style.height="".concat(a.textareaEl.current.scrollHeight,"px"))},a.textareaEl=Object(k.createRef)(),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.isAutoHeightResizeEnabled&&this.autoHeightResize()}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.name,n=e.value,r=e.onChange,s=e.placeholder,o=e.isRequired,c=e.onBlur,i=e.onFocus,l=e.onKeyDown,u=e.onDragStart,d=e.isReadOnly;return y.a.createElement("textarea",{className:"textarea ".concat(t),id:a,name:a,value:n,onChange:r,placeholder:s,required:o,onBlur:c,onInput:this.autoHeightResize,ref:this.textareaEl,onFocus:i,onKeyDown:l,onDragStart:u,readOnly:d})}}]),t}(k.Component));la.defaultProps={isAutoHeightResizeEnabled:!0};var ua="Backspace",da="Enter",ma="Tab",pa="ArrowDown",ha="ArrowUp",fa=(a(228),{name:"",isActive:!1}),ba=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).resetForm=function(){a.setState({name:""})},a.onSubmit=function(e){if("keydown"!==e.type||e.key===da){var t=a.state.name,n=a.props.current.projectId,r=a.props,s=r.listId;r.firebase.addTask({projectId:n,listId:s,name:t}),a.resetForm(),e.preventDefault()}},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.onFocus=function(e){a.setState({isActive:!0})},a.onReset=function(e){a.setState(Object(M.a)({},fa))},a.onBlur=function(e){""===e.target.value&&a.setState({isActive:!1})},a.state=Object(M.a)({},fa),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.isActive;return y.a.createElement("div",{className:"card-composer".concat(a?" is-active":""),onFocus:this.onFocus,onBlur:this.onBlur},y.a.createElement("form",{className:"card-composer__form",onSubmit:this.onSubmit},y.a.createElement(la,{onChange:this.onChange,value:t,placeholder:a?"Enter card title...":"Add a card",isRequired:!0,name:"name",className:"card-composer__textarea",isAutoHeightResizeEnabled:!1,onKeyDown:this.onSubmit}),a&&y.a.createElement("div",{className:"card-composer__footer"},y.a.createElement(Z,{className:"card-composer__btn--add",type:"submit",onClick:this.onSubmit,color:"primary",variant:"contained"},"Add Card"),y.a.createElement(Z,{className:"card-composer__btn--close",type:"reset",onClick:this.onReset,size:"sm",iconOnly:!0},y.a.createElement(ut,{name:"x"})))))}}]),t}(k.Component),ga=Y(Object(_.b)(function(e){return{projectsArray:i.getProjectsArray(e),current:o.getCurrent(e)}},function(e){return{updateProjectsById:function(t){return e(c.updateProjectsById(t))}}})(ba)),va=(a(108),function(e){var t=e.children,a=e.onClick,n=e.className,r=void 0===n?"":n,s=e.menuRef;return y.a.createElement("ul",{className:"menu ".concat(r),onClick:a,ref:s},t)}),ka=function(e){var t=e.children,a=e.className,n=void 0===a?"":a;return y.a.createElement("li",{className:"menu__item ".concat(n)},t)},ya=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={isTouchEnabled:!1},a.handleOutsideClick=function(e){(0,a.props.onOutsideClick)(e.target)},a.handleTouch=function(){a.setState({isTouchEnabled:!0}),document.removeEventListener("touchstart",a.handleTouch),document.removeEventListener("click",a.handleOutsideClick),document.addEventListener("touchstart",a.handleOutsideClick)},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("touchstart",this.handleTouch),document.addEventListener("click",this.handleOutsideClick,!1)}},{key:"componentWillUnmount",value:function(){this.state.isTouchEnabled?document.removeEventListener("touchstart",this.handleOutsideClick):(document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("touchstart",this.handleTouch))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.onClick,n=e.style,r=e.children;return y.a.createElement("div",{className:"popover ".concat(t),onClick:a,style:n},r)}}]),t}(k.Component),Ea=(a(229),function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={isActive:"isActive"in a.props&&null},a.handleOutsideClick=function(e){if(!a.componentEl||!a.componentEl.contains(e)){var t=a.props,n=t.onOutsideClick,r=t.onPopoverClose;n?n():(a.setState({isActive:!1}),r&&r())}},a.toggleOpen=function(){var e=a.props.onButtonClick;e?e():a.setState(function(e){return{isActive:!e.isActive}})},a.handleClose=function(e){"isActive"in a.props||e.target.matches("input")||a.setState({isActive:!1})},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.alignInner,r=t.onWrapperClick,s=t.alignOuter,o=t.buttonProps,c=t.classes,i=t.anchorEl,l="isActive"in this.props?this.props.isActive:this.state.isActive,u=null;if(i){var d=i.offsetTop,m=i.offsetLeft;u=Object(U.a)({position:"absolute",top:d},s,m)}return y.a.createElement("div",{className:"popover-wrapper ".concat(l?"is-active":""," ").concat(c.wrapper),ref:function(t){return e.componentEl=t},style:u,onClick:r},y.a.createElement(Z,Object.assign({type:"button",onClick:this.toggleOpen,buttonRef:this.props.buttonRef},o)),l&&y.a.createElement(ya,{className:"align-".concat(n," ").concat(c.popover),onClick:this.handleClose,onOutsideClick:this.handleOutsideClick},a))}}]),t}(k.Component));Ea.defaultProps={classes:{wrapper:"",popover:""},buttonProps:{},align:"left",anchorEl:null};a(230),a(231);var ja=function(e){var t=e.text,a=e.color,n=e.size,r=e.onDelete,s=e.className,o=e.tagRef,c=e.variant;return y.a.createElement("span",{className:"tag tag--".concat(n," bg--").concat(a," ").concat("default"!==c?"tag--".concat(c):""," ").concat(s),ref:o},t,"md"===n&&y.a.createElement(Z,{type:"button",size:"sm",className:"tag__btn--delete",onClick:r,iconOnly:!0},y.a.createElement(ut,{name:"x"})))};ja.defaultProps={className:"",onDelete:function(){return null},color:"default",size:"md",variant:"default"};var _a=ja,Ia=(a(232),function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).getUserInitials=function(e){return e.split(" ").map(function(e){return e.charAt(0)}).join("").toUpperCase()},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.imgSrc,a=e.imgProps,n=e.classes,r=e.fullName,s=e.variant,o=e.color,c=e.size;return y.a.createElement("div",{className:"avatar avatar--".concat(c," avatar--").concat(s," ").concat(n.avatar)},null!==t?y.a.createElement("img",Object.assign({src:t,alt:r,className:"avatar__img ".concat(n.img)},a)):y.a.createElement("div",{className:"avatar__placeholder ".concat(n.placeholder),style:{backgroundColor:o}},this.getUserInitials(r)))}}]),t}(k.Component));Ia.defaultProps={imgSrc:null,classes:{avatar:"",img:"",placeholder:""},size:"md",variant:"circle"};var Ca=[{long:"January",short:"Jan",daysTotal:31},{long:"February",short:"Feb",daysTotal:null},{long:"March",short:"Mar",daysTotal:31},{long:"April",short:"Apr",daysTotal:30},{long:"May",short:"May",daysTotal:31},{long:"June",short:"Jun",daysTotal:30},{long:"July",short:"Jul",daysTotal:31},{long:"August",short:"Aug",daysTotal:31},{long:"September",short:"Sep",daysTotal:30},{long:"October",short:"Oct",daysTotal:31},{long:"November",short:"Nov",daysTotal:30},{long:"December",short:"Dec",daysTotal:31}],Oa=[{long:"Sunday",short:"Sun",narrow:"S"},{long:"Monday",short:"Mon",narrow:"M"},{long:"Tuesday",short:"Tue",narrow:"T"},{long:"Wednesday",short:"Wed",narrow:"W"},{long:"Thursday",short:"Thu",narrow:"T"},{long:"Friday",short:"Fri",narrow:"F"},{long:"Saturday",short:"Sat",narrow:"S"}],Ta=function(e){return e%4===0&&e%100!==0||e%400===0},Da=function(e,t){return new Date(t,e,1).getDay()},Sa=function(e){return(new Date).setHours(0,0,0,0)===e.setHours(0,0,0,0)},wa=function(e){var t=new Date;return t.setHours(0,0,0,0),t.setDate(t.getDate()-1)===e.setHours(0,0,0,0)},Na=function(e){var t=new Date;return t.setHours(0,0,0,0),t.setDate(t.getDate()+1)===e.setHours(0,0,0,0)},Aa=function(e){return e.getFullYear()===(new Date).getFullYear()},Pa=function(e,t){return 1===e?Ta(t)?29:28:Ca[e].daysTotal},xa=function(e,t){return{month:e>0?e-1:11,year:e>0?t:t-1}},La=function(e,t){return{month:e<11?e+1:0,year:e<11?t:t+1}},Ba=function(e,t){var a=Pa(e,t),n=Da(e,t),r=xa(e,t),s=r.month,o=r.year,c=Pa(s,o),i=n,l=7-(n+a)%7,u=Object(W.a)(new Array(i)).map(function(e,t){return{day:c-i+t+1,month:s,year:o}}),d=Object(W.a)(new Array(a)).map(function(a,n){return{day:n+1,month:e,year:t}}),m=Object(W.a)(new Array(l)).map(function(a,n){return Object(M.a)({day:n+1},La(e,t))});return[].concat(Object(W.a)(u),Object(W.a)(d),Object(W.a)(m))},Ua=function(e){return"[object Date]"===Object.prototype.toString.call(e)},Ma=function(e){var t=Ua(e)||"string"!==typeof e?e:new Date(e);return{day:t.getDate(),month:t.getMonth(),year:t.getFullYear()}},Fa=function(e){return e&&"day"in e&&"month"in e&&"year"in e},Ra=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;if(!Ua(e)&&!Fa(e)||!Ua(t)&&!Fa(t))return!1;var a=e.day||e.getDate(),n=e.month||e.getMonth(),r=e.year||e.getFullYear(),s=t.day||t.getDate(),o=t.month||t.getMonth(),c=e.year||t.getFullYear();return a===s&&n===o&&r===c},za=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getFullYear();return Object(W.a)(new Array(e)).map(function(e,a){return t+a})},Ya=function(e,t){return"".concat(e).padStart(t,"0")},Ka=function(e){var t=Fa(e)?e:Ua(e)?Ma(e):void 0;if(!t)return"";var a=t.day,n=t.month,r=t.year;return"".concat(Ya(n+1,2),"-").concat(Ya(a,2),"-").concat(r-2e3)},Wa=function(e){var t=e.split("-"),a=t[0]-1,n=+t[1],r=+t[2]+2e3;return n>Pa(a,r)?Ma(new Date(r,a,n)):{month:a,day:n,year:r}},Ha=function(e){return/^\d{2}-\d{2}-\d{2}$/.test(e)},qa=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,n=a.setHours(0,0,0,0),r=new Date(a),s=r.setDate(r.getDate()+t);return+e>=n&&+e<s},Ja=function(e){return+e<(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date).setHours(0,0,0,0)},Va=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useRelative:!1,format:{weekday:"short",month:"short",day:"numeric",year:"2-digit"}},a=t.useRelative,n=t.format;if(a){if(Sa(e))return"Today";if(wa(e))return"Yesterday";if(Na(e))return"Tomorrow";if(qa(e,7))return Oa[e.getDay()].long}return Object.keys(n).map(function(t){switch(t){case"weekday":var r=n[t],s=e.getDay();return Oa[s][r];case"month":var o=n[t],c=e.getMonth();return"numeric"===o?c+1:"2-digit"===o?Ya(c+1,2):Ca[c][o];case"day":var i=n[t],l=e.getDate();return"2-digit"===i?Ya(l,2):l;case"year":var u=n[t],d=e.getFullYear();return a&&Aa(e)?null:"2-digit"===u?"'".concat(+d.slice(2)):d}}).join(" ").trim()},Ga=function(e){var t=e.classes,a=void 0===t?{radio:"",label:""}:t,n=e.name,r=e.id,s=e.value,o=e.onFocus,c=e.onChange,i=e.onInput,l=e.isRequired,u=e.onBlur,d=e.inputRef,m=e.hideLabel,p=e.label,h=e.onKeyDown,f=e.isChecked;return y.a.createElement(y.a.Fragment,null,y.a.createElement("input",{className:"radio ".concat(a.radio),id:r,name:n,type:"radio",value:s,onFocus:o,onChange:c,onBlur:u,ref:d,onInput:i,onKeyDown:h,required:l,checked:f}),!m&&y.a.createElement("label",{htmlFor:r,className:"radio__label ".concat(a.label)},p))},$a=(a(233),function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={isMonthsDropdownActive:!1,isYearsDropdownActive:!1},a.goToNextMonth=function(){var e=a.props,t=e.month,n=e.year;(0,e.onMonthClick)(La(t,n))},a.goToPrevMonth=function(){var e=a.props,t=e.month,n=e.year;(0,e.onMonthClick)(xa(t,n))},a.toggleMonthsDropdown=function(){a.setState(function(e){return{isMonthsDropdownActive:!e.isMonthsDropdownActive}})},a.toggleYearsDropdown=function(){a.setState(function(e){return{isYearsDropdownActive:!e.isYearsDropdownActive}})},a.selectMonth=function(e){var t=+e.target.value,n=a.props;(0,n.onMonthClick)({month:t,year:n.year}),a.toggleMonthsDropdown()},a.selectYear=function(e){var t=+e.target.value;(0,a.props.onYearClick)(t),a.toggleYearsDropdown()},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.month,n=t.year,r=t.selectedDate,s=t.today,o=t.onDayClick,c=t.classes,i=this.state,l=i.isMonthsDropdownActive,u=i.isYearsDropdownActive,d=Ba(a,n),m=za(4);return y.a.createElement("div",{className:"calendar ".concat(c.calendar)},y.a.createElement("div",{className:"calendar__year"},y.a.createElement(Ea,{isActive:u,onButtonClick:this.toggleYearsDropdown,onOutsideClick:this.toggleYearsDropdown,alignInner:"left",classes:{wrapper:"calendar__years-dropdown-wrapper",popover:"calendar__years-dropdown"},buttonProps:{className:"calendar__btn--years-dropdown ".concat(u?"is-active":""),children:y.a.createElement(y.a.Fragment,null,n,y.a.createElement(ut,{name:"chevron-down"}))}},y.a.createElement("ul",{className:"calendar__years-list"},m.map(function(t){return y.a.createElement("li",{className:"calendar__years-item",key:t},y.a.createElement(Ga,{name:"year",id:t,value:t,isChecked:t===n,label:t===n?y.a.createElement(y.a.Fragment,null,y.a.createElement(ut,{name:"check"}),t):t,onChange:e.selectYear,classes:{radio:"calendar__radio",label:"calendar__radio-label"}}))})))),y.a.createElement("div",{className:"calendar__month"},y.a.createElement(Ea,{isActive:l,onButtonClick:this.toggleMonthsDropdown,onOutsideClick:this.toggleMonthsDropdown,alignInner:"left",classes:{wrapper:"calendar__months-dropdown-wrapper",popover:"calendar__months-dropdown"},buttonProps:{className:"calendar__btn--months-dropdown ".concat(l?"is-active":""),children:y.a.createElement(y.a.Fragment,null,Ca[a].long,y.a.createElement(ut,{name:"chevron-down"}))}},y.a.createElement("ul",{className:"calendar__months-list"},Ca.map(function(t,n){return y.a.createElement("li",{className:"calendar__months-item",key:t.long},y.a.createElement(Ga,{name:"month",id:t.long,value:n,isChecked:n===a,label:n===a?y.a.createElement(y.a.Fragment,null,y.a.createElement(ut,{name:"check"}),t.long):t.long,onChange:e.selectMonth,classes:{radio:"calendar__radio",label:"calendar__radio-label"}}))}))),y.a.createElement("div",{className:"calendar__month--prev-next"},y.a.createElement(Z,{type:"button",className:"calendar__btn--month calendar__btn--prev-month",size:"sm",iconOnly:!0,onClick:this.goToPrevMonth},y.a.createElement(ut,{name:"chevron-left"})),y.a.createElement(Z,{type:"button",className:"calendar__btn--month calendar__btn--next-month",size:"sm",iconOnly:!0,onClick:this.goToNextMonth},y.a.createElement(ut,{name:"chevron-right"})))),y.a.createElement("div",{className:"calendar__week-days"},Oa.map(function(e){return y.a.createElement("div",{key:e.long,className:"calendar__week-day ".concat(c.weekDay)},e.narrow)})),y.a.createElement("div",{className:"calendar__days"},d.map(function(e){var t=e.day===s.day&&e.month===s.month&&e.year===s.year,n=r&&e.day===r.day&&e.month===r.month&&e.year===r.year;return y.a.createElement("div",{key:"".concat(e.month,"--").concat(e.day),className:"calendar__day ".concat(e.month!==a?"calendar__day--prev-next":""," ").concat(t?"is-today":""," ").concat(n?"is-selected":""," ").concat(c.day)},y.a.createElement(Z,{type:"button",className:"calendar__btn--day",size:"sm",onClick:function(){return o(e)}},e.day))})))}}]),t}(k.Component)),Qa=function(e){var t=e.icon,a=e.children,n=e.className,r=void 0===n?"":n;return y.a.createElement("div",{className:"card__detail ".concat(r)},y.a.createElement(ut,{name:t}),a)},Xa=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).handleCardClick=function(e){if(!e.target.matches("button")&&!e.target.matches("a")){var t=a.props,n=t.taskId;(0,t.onCardClick)(n)}},a.state={},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"shouldComponentUpdate",value:function(e){return-1===e.taskTags.indexOf(void 0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.taskId,r=t.taskIndex,s=t.taskTags,o=t.commentIds,c=t.dueDate,i=t.subtaskIds,l=t.completedSubtasks,u=t.taskMembers,d=c?f.toDateString(c.toDate(),{useRelative:!0,format:{month:"short",day:"numeric"}}):null,m="Today"===d,p="Tomorrow"===d,h=c&&f.isPriorDate(c.toDate());return y.a.createElement(gt.b,{draggableId:n,index:r},function(t){return y.a.createElement("div",Object.assign({className:"card",onClick:e.handleCardClick},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,style:Object(M.a)({},t.draggableProps.style,{backgroundColor:"#fff"})}),y.a.createElement("div",{className:"card__header",ref:function(t){return e.headerEl=t}},y.a.createElement("div",{className:"card__tags"},s.map(function(e){return y.a.createElement(_a,{key:e.text,size:"sm",color:e.color,variant:"pill",className:"card__tag"})})),y.a.createElement("h3",{className:"card__title"},a)),y.a.createElement("div",{className:"card__body"},c&&y.a.createElement(Qa,{icon:"calendar",className:"card__due-date ".concat(m?"is-due-today":p?"is-due-tmrw":h?"is-past-due":"","\n                  ")},d),i&&i.length>0&&y.a.createElement(Qa,{icon:"check-square"},l.length,"/",i.length),o&&o.length>0&&y.a.createElement(Qa,{icon:"message-circle"},o.length)),y.a.createElement("div",{className:"card__footer"},u&&u.length>0&&y.a.createElement("div",{className:"card__members-wrapper"},y.a.createElement("div",{className:"card__members"},u.map(function(e){var t=e.name,a=e.photoURL,n=e.userId;return y.a.createElement(Ia,{classes:{avatar:"card__avatar",placeholder:"card__avatar-placeholder"},fullName:t,size:"sm",variant:"circle",imgSrc:a,key:n})})))))})}}]),t}(k.Component),Za=Object(_.b)(function(e,t){return{taskTags:d.getTaskTags(e,t),completedSubtasks:h.getCompletedSubtasks(e,t.subtaskIds),taskMembers:r.getMembersArray(e,t.assignedTo)}},function(e){return{}})(Xa),en=(a(234),function(e){var t=e.value,a=e.id,n=e.name,r=e.isChecked,s=e.onClick,o=e.onChange,c=e.className,i=e.labelClass,l=Object(Q.a)(e,["value","id","name","isChecked","onClick","onChange","className","labelClass"]);return y.a.createElement("label",{htmlFor:a,onClick:s,className:"checkbox__label ".concat(i)},r&&y.a.createElement(ut,{name:"check"}),y.a.createElement("input",Object.assign({type:"checkbox",id:a,value:t,name:n,checked:r,className:"checkbox ".concat(c),onChange:o},l)))});en.defaultProps={className:"",labelClass:""};var tn=en,an=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).onDragStart=function(e){console.log("dragstart")},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.taskId,n=t.index,r=t.name,s=t.isCompleted,o=t.toggleCompleted,c=t.onChange,i=t.onBlur,l=t.onKeyDown;return y.a.createElement(gt.b,{draggableId:a,index:n},function(t,n){return y.a.createElement("li",Object.assign({className:"task",ref:t.innerRef},t.draggableProps,t.dragHandleProps),y.a.createElement(tn,{id:"cb-".concat(a),value:a,name:a,isChecked:s,onChange:o,className:"task__checkbox",labelClass:"task__checkbox-label"}),y.a.createElement(la,{value:r,onChange:c,onBlur:i,name:a,className:"task__textarea",onKeyDown:l,onDragStart:e.onDragStart}))})}}]),t}(k.Component),nn=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).scrollToBottom=function(){a.listEnd.scrollIntoView({behavior:"smooth"})},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.tasks.length>e.tasks.length&&this.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.props,a=t.listId,n=t.tasks,r=t.onTaskClick,s=t.onTaskDelete,o=(t.onToggleCompleted,t.onTaskChange,"board"===t.view),c=n.map(function(e,t){return o?y.a.createElement(Za,Object.assign({key:e.taskId,taskIndex:t,onCardClick:r,onCardDelete:s},e)):y.a.createElement(an,Object.assign({key:e.taskId,index:t,onTaskClick:r,onDelete:s},e))});return y.a.createElement(gt.c,{droppableId:a,type:kt},function(t,a){return o?y.a.createElement("div",Object.assign({className:"list__cards",ref:t.innerRef,style:{minHeight:a.isDraggingOver?80:16}},t.droppableProps),c,t.placeholder,y.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){return e.listEnd=t}})):y.a.createElement("ul",Object.assign({className:"list__tasks",ref:t.innerRef},t.droppableProps),c,t.placeholder)})}}]),t}(k.Component),rn=(a(235),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).handleListDelete=function(e){e.preventDefault();var t=a.props,n=t.listId,r=t.projectId;t.firebase.deleteList({listId:n,projectId:r})},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.onBlur=function(e){var t=a.props,n=t.name,r=t.listId,s=t.firebase,o=a.state.name;o!==n&&(s.updateList(r,{name:o}),console.log("updated list name!"))},a.state={name:a.props.name},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.tasks,n=t.onTaskClick,r=t.listId,s=t.listIndex,o=t.isFetchingTasks,c=t.view;if(o)return null;var i=this.state,l=i.name;i.viewportHeight;return y.a.createElement(gt.b,{draggableId:r,index:s},function(t){return y.a.createElement(y.a.Fragment,null,y.a.createElement("section",Object.assign({className:"list",ref:t.innerRef},t.draggableProps,t.dragHandleProps),y.a.createElement("header",{className:"list__header",ref:function(t){return e.listHeaderEl=t}},y.a.createElement($,{className:"list__input--title",name:"name",type:"text",value:l,onChange:e.onChange,required:!0,hideLabel:!0,onBlur:e.onBlur}),y.a.createElement(Ea,{classes:{wrapper:"list__popover-wrapper",popover:"list__popover"},alignInner:"left",buttonProps:{size:"medium",iconOnly:!0,className:"list__btn--more-actions",children:y.a.createElement(ut,{name:"more-vertical"})}},y.a.createElement(va,null,y.a.createElement(ka,null,y.a.createElement("a",{href:"",onClick:e.handleListDelete},"Delete"))))),y.a.createElement("div",{className:"list__content"},y.a.createElement(nn,{tasks:a,listId:r,onTaskClick:n,view:c})),t.placeholder,y.a.createElement(ga,{listId:r})),t.placeholder)})}}]),t}(k.Component)),sn=ge(function(e){return!!e})(Object(_.b)(function(e,t){return{tasks:d.getListTasks(e,t.taskIds)}},function(e){return{}})(rn)),on=function(e){return{type:"LOAD_COMMENTS_BY_ID",commentsById:e}},cn=function(){return function(){var e=Object(ye.a)(ke.a.mark(function e(t){var a;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.db.collection("comments").get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({commentId:e.id},e.data())}),t});case 3:a=e.sent,t(on(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},ln=function(e){return{type:"UPDATE_COMMENTS_BY_ID",comment:e}},un=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.collection("comments").where("taskId","==",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({commentId:e.id},e.data())}),t});case 3:n=t.sent,a(on(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},dn=function(e){return function(){var t=Object(ye.a)(ke.a.mark(function t(a){var n;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.db.collection("comments").where("to","array-contains",e).get().then(function(e){var t={};return e.forEach(function(e){t[e.id]=Object(M.a)({commentId:e.id},e.data())}),t});case 3:n=t.sent,a(on(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},mn=function(e){return{type:"ADD_COMMENT",commentId:e.commentId,commentData:e.commentData}},pn=function(e){return{type:"DELETE_COMMENT",commentId:e}},hn=function(e){return{type:"UPDATE_COMMENT",commentId:e.commentId,commentData:e.commentData}},fn=function(e){return e.commentsById},bn=function(e,t){var a=e.commentsById;return t?t.map(function(e){return a[e]}):[]};function gn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_COMMENTS_BY_ID":var a=t.commentsById;return Object(M.a)({},e,a);case"ADD_COMMENT":var n=t.commentId,r=t.commentData;return Object(M.a)({},e,Object(U.a)({},n,Object(M.a)({commentId:n},r)));case"DELETE_COMMENT":var s=t.commentId;return e[s],Object(Q.a)(e,[s].map(gn));case"UPDATE_COMMENT":var o=t.commentId,c=t.commentData;return Object(M.a)({},e,Object(U.a)({},o,Object(M.a)({},e[o],c)));default:return e}},kn=(a(236),function(e){var t=e.className,a=e.children,n=Object(Q.a)(e,["className","children"]);return y.a.createElement("div",Object.assign({className:"toolbar ".concat(t)},n),a)});kn.defaultProps={className:""};var yn=kn,En=function(e){function t(){return Object(T.a)(this,t),Object(S.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props.children;return y.a.createElement(Ea,{classes:{wrapper:"task-editor__popover-wrapper task-editor__member-search-popover-wrapper",popover:"task-editor__popover task-editor__member-search-popover"},alignOuter:"left",alignInner:"left",buttonProps:{size:"md",iconOnly:!0,className:"task-editor__toolbar-btn",children:y.a.createElement(ut,{name:"users"}),buttonRef:this.props.buttonRef}},e)}}]),t}(k.Component),jn=function(e){var t=e.children;return y.a.createElement("div",{className:"task-editor__section"},t)},_n=(a(237),function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",isActive:!1,isTouchEnabled:!1,selectedMember:"",selectedIndex:null,filteredList:a.props.users},a.handleOutsideClick=function(e){""===a.state.query&&(a.memberSearchEl.contains(e.target)||a.setState({isActive:!1}))},a.handleTouch=function(){a.setState({isTouchEnabled:!0}),document.removeEventListener("touchstart",a.handleTouch),document.removeEventListener("click",a.handleOutsideClick),document.addEventListener("touchstart",a.handleOutsideClick)},a.matchUser=function(e,t){var a=e.name,n=e.email,r=e.username,s=new RegExp(t,"i");return s.test(a)||s.test(n)||s.test(r)},a.onFocus=function(e){a.setState({isActive:!0})},a.onReset=function(e){a.setState({query:"",isActive:!1,isTouchEnabled:!1,selectedMember:"",selectedIndex:null,filteredList:a.props.users})},a.onChange=function(e){var t=a.props.users,n=a.state,r=n.selectedMember,s=(n.selectedIndex,e.target.value),o=t.filter(function(e){return a.matchUser(e,s)}),c=o.indexOf(r),i=-1!==c;a.setState({selectedMember:i?r:o.length>0?o[0].userId:"",selectedIndex:i?c:0,query:s,filteredList:o})},a.onKeyDown=function(e){if(e.key===ma||e.key===pa||e.key===ha||e.key===da){var t=a.state,n=t.filteredList,r=t.selectedIndex,s=t.selectedMember,o=a.props.onMemberClick,c=r===n.length-1?0:r+1,i=0===r?n.length-1:r-1;switch(e.key){case pa:case ma:a.setState({selectedMember:n[c].userId,selectedIndex:c});break;case ha:a.setState({selectedMember:n[i].userId,selectedIndex:i});break;case da:if(""===s)return;o(s)}e.preventDefault()}},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("touchstart",this.handleTouch),document.addEventListener("click",this.handleOutsideClick,!1),this.inputEl.focus()}},{key:"componentWillUnmount",value:function(){this.state.isTouchEnabled?document.removeEventListener("touchstart",this.handleOutsideClick):(document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("touchstart",this.handleTouch))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.users,t.onMemberClick),n=t.assignedMembers,r=this.state,s=r.query,o=r.isActive,c=r.filteredList,i=r.selectedMember;return y.a.createElement("div",{className:"member-search__wrapper",ref:function(t){return e.memberSearchEl=t}},y.a.createElement($,{name:"query",className:"member-search",onChange:this.onChange,value:s,onFocus:this.onFocus,onBlur:this.onBlur,type:"text",autoComplete:"off",hideLabel:!0,placeholder:"Assign or remove member",onKeyDown:this.onKeyDown,inputRef:function(t){return e.inputEl=t}}),o&&y.a.createElement("ul",{className:"member-search__list"},c.length>0?c.map(function(e,t){var r=e.name,s=e.photoURL,o=e.email,c=e.username,l=e.userId,u=n&&-1!==n.indexOf(l);return y.a.createElement("li",{className:"member-search__item ".concat(i===l?"is-selected":""),onClick:function(){return a(l)},key:l,id:l},y.a.createElement(ut,{name:u?"user-minus":"user-plus"}),y.a.createElement(Ia,{classes:{avatar:"member-search__avatar--sm",placeholder:"member-search__avatar-placeholder--sm"},fullName:r,size:"sm",variant:"circle",imgSrc:s}),y.a.createElement("span",{className:"member-search__info member-search__name"},r),y.a.createElement("span",{className:"member-search__info member-search__username"},c),y.a.createElement("span",{className:"member-search__info member-search__email"},o))}):y.a.createElement("li",{className:"member-search__item"},y.a.createElement("span",{className:"member-search__no-match"},"No matches found"))))}}]),t}(k.Component)),In=function(e){var t=e.onMenuClick;return y.a.createElement(Ea,{classes:{wrapper:"task-editor__popover-wrapper",popover:"task-editor__popover"},alignOuter:"right",alignInner:"right",buttonProps:{size:"md",iconOnly:!0,className:"task-editor__toolbar-btn",children:y.a.createElement(ut,{name:"more-horizontal"})}},y.a.createElement(va,{onClick:t},y.a.createElement(ka,null,y.a.createElement("a",{href:"","data-action":"delete"},"Delete task"))))},Cn=document.getElementById("root"),On=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).onDragStart=function(e){console.log("dragstart"),a.setState({isReadOnly:!0})},a.portal=document.createElement("div"),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){Cn.appendChild(this.portal)}},{key:"componentWillUnmount",value:function(){Cn.removeChild(this.portal)}},{key:"render",value:function(){var e=this,t=this.props,a=t.subtaskId,n=t.index,r=t.name,s=t.isCompleted,o=t.toggleCompleted,c=t.onChange,i=t.onBlur,l=t.onKeyDown;return y.a.createElement(gt.b,{draggableId:a,index:n},function(t,n){var u=y.a.createElement("li",Object.assign({className:"task-editor__subtask",ref:t.innerRef},t.draggableProps,t.dragHandleProps),y.a.createElement(tn,{id:"cb-".concat(a),value:a,name:a,isChecked:s,onChange:o,className:"task-editor__checkbox",labelClass:"task-editor__checkbox-label"}),y.a.createElement(la,{value:r,onChange:c,onBlur:i,name:a,className:"task-editor__textarea--subtask",onKeyDown:l,onDragStart:e.onDragStart}));return n.isDragging?j.a.createPortal(u,e.portal):u})}}]),t}(k.Component),Tn=(a(238),function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={secondsElapsed:0},a.tick=function(){a.setState(function(e){return{secondsElapsed:e.secondsElapsed+1}})},a.handleLikeClick=function(){var e=a.props;(0,e.handleLike)(e.comment.commentId)},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.comment.createdAt,t=Math.floor(Date.now()/1e3)-Math.floor(e.toDate().getTime()/1e3);this.setState({secondsElapsed:t}),this.interval=setInterval(this.tick,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.comment,n=this.state.secondsElapsed,r=t.name,s=t.photoURL,o=a.content,c=a.createdAt,i=(a.lastUpdatedAt,a.likes),l=(a.to,a.from,a.isPinned);if(!c)return null;var u=c.toDate(),d=u.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),m=f.toDateString(u,{useRelative:!0,format:{weekday:"short",month:"short",day:"numeric",year:"2-digit"}});return y.a.createElement("div",{className:"task-editor__comment-wrapper ".concat(l?"is-pinned":"")},y.a.createElement(Ia,{classes:{avatar:"task-editor__comment-avatar",placeholder:"task-editor__comment-avatar-placeholder"},fullName:r,size:"sm",variant:"circle",imgSrc:s}),y.a.createElement("div",{className:"task-editor__comment"},y.a.createElement("div",{className:"task-editor__comment-header"},y.a.createElement("div",{className:"task-editor__comment-details"},y.a.createElement("span",{className:"task-editor__name"},r),y.a.createElement("span",{className:"task-editor__timestamp"},n<60?"Just now":n<120?"1 minute ago":n<3600?"".concat(Math.floor(n/60)," minutes ago"):n<7200?"1 hour ago":n<21600?"".concat(Math.floor(n/3600)," hours ago"):"".concat(m," at ").concat(d))),y.a.createElement(Z,{className:"task-editor__likes",onClick:this.handleLikeClick,size:"sm"},y.a.createElement(ut,{name:"thumbs-up"}),y.a.createElement("span",{className:"task-editor__likes-counter"},i.length>0?i.length:""))),y.a.createElement("div",{className:"task-editor__comment-body"},o)))}}]),t}(k.Component)),Dn=ge(function(e){return!!e})(Object(_.b)(function(e,t){return{user:r.getUserData(e,t.comment.from),current:o.getCurrent(e)}},function(e){return{updateTasksById:function(t){return e(m.updateTasksById(t))},fetchTaskComments:function(t){return e(b.fetchTaskComments(t))},addComment:function(t){var a=t.commentId,n=t.commentData;return e(b.addComment({commentId:a,commentData:n}))},deleteComment:function(t){return e(b.deleteComment(t))},updateComment:function(t){var a=t.commentId,n=t.commentData;return e(b.updateComment({commentId:a,commentData:n}))}}})(Tn)),Sn=(a(239),function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={selectedColor:"default"},a.handleColorChange=function(e){var t=a.props.selectColor;a.setState({selectedColor:e.target.value}),t(e.target.value)},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props.style,t=this.state.selectedColor;return y.a.createElement("div",{className:"color-picker",style:e},y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--default"},name:"tagColor",id:"colorDefault",value:"default",onChange:this.handleColorChange,isChecked:"default"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--red"},name:"tagColor",id:"colorRed",value:"red",onChange:this.handleColorChange,isChecked:"red"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--pink"},name:"tagColor",id:"colorPink",value:"pink",onChange:this.handleColorChange,isChecked:"pink"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--grape"},name:"tagColor",id:"colorGrape",value:"grape",onChange:this.handleColorChange,isChecked:"grape"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--violet"},name:"tagColor",id:"colorViolet",value:"violet",onChange:this.handleColorChange,isChecked:"violet"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--indigo"},name:"tagColor",id:"colorIndigo",value:"indigo",onChange:this.handleColorChange,isChecked:"indigo"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--blue"},name:"tagColor",id:"colorBlue",value:"blue",onChange:this.handleColorChange,isChecked:"blue"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--cyan"},name:"tagColor",id:"colorCyan",value:"cyan",onChange:this.handleColorChange,isChecked:"cyan"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--teal"},name:"tagColor",id:"colorTeal",value:"teal",onChange:this.handleColorChange,isChecked:"teal"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--green"},name:"tagColor",id:"colorGreen",value:"green",onChange:this.handleColorChange,isChecked:"green"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--yellow"},name:"tagColor",id:"colorYellow",value:"yellow",onChange:this.handleColorChange,isChecked:"yellow"===t}),y.a.createElement(Ga,{classes:{radio:"color-picker__radio",label:"color-picker__swatch bg--orange"},name:"tagColor",id:"colorOrange",value:"orange",onChange:this.handleColorChange,isChecked:"orange"===t}))}}]),t}(k.Component)),wn=(a(240),function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={value:"",isActive:!1,isTouchEnabled:!1,selectedTag:"",focusedTag:"",selectedIndex:null,hasExactMatch:null,filteredList:[]},a.onFocus=function(){a.setState({isActive:!0})},a.onBlur=function(){a.setState({selectedTag:"",selectedIndex:null})},a.resetForm=function(){a.setState({value:"",selectedTag:"",selectedIndex:null,hasExactMatch:null,focusedTag:"",filteredList:[]})},a.matchTag=function(e,t){var a=e.text;return new RegExp(t,"i").test(a)},a.onChange=function(e){var t=a.props.tagSuggestions,n=a.state,r=n.selectedTag,s=(n.selectedIndex,e.target.value),o=t.filter(function(e){return a.matchTag(e,s)}),c=-1!==o.findIndex(function(e){return e.text===s}),i=o.indexOf(r),l=-1!==i;a.setState({selectedTag:l?r:o.length>0?o[0].text:"",selectedIndex:l?i:0,value:s,filteredList:c?o:[].concat(Object(W.a)(o),[{text:s,color:"default"}]),hasExactMatch:c})},a.onKeyDown=function(e){if(e.key===ma||e.key===pa||e.key===ha||e.key===da||e.key===ua){var t=a.state,n=t.filteredList,r=t.selectedIndex,s=t.selectedTag,o=t.value,c=t.focusedTag,i=a.props,l=i.addTag,u=i.removeTag,d=i.assignedTags,m=r===n.length-1||null===r?0:r+1,p=0===r?n.length-1:r-1;switch(e.key){case pa:case ma:a.setState({selectedTag:n[m].text,selectedIndex:m});break;case ha:a.setState({selectedTag:n[p].text,selectedIndex:p});break;case da:if(""===s&&""===o)return;a.resetForm(),l(""===s?o:s);break;case ua:if(""!==o)return;""===c?a.setState({focusedTag:d[d.length-1].text}):(a.resetForm(),u(c))}e.preventDefault()}},a.handleOutsideClick=function(e){a.el.contains(e.target)||a.setState({isActive:!1})},a.handleTouch=function(){a.setState({isTouchEnabled:!0}),document.removeEventListener("touchstart",a.handleTouch),document.removeEventListener("click",a.handleOutsideClick),document.addEventListener("touchstart",a.handleOutsideClick)},a.handleTagDelete=function(e){var t=a.props.removeTag;a.resetForm(),t(e)},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("touchstart",this.handleTouch),document.addEventListener("click",this.handleOutsideClick,!1)}},{key:"shouldComponentUpdate",value:function(e){return-1===e.assignedTags.indexOf(void 0)}},{key:"componentWillUnmount",value:function(){this.state.isTouchEnabled?document.removeEventListener("touchstart",this.handleOutsideClick):(document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("touchstart",this.handleTouch))}},{key:"render",value:function(){var e=this,t=this.props,a=t.isColorPickerActive,n=t.assignedTags,r=t.setTagColor,s=t.currentTag,o=(t.removeTag,this.state),c=o.value,i=o.isActive,l=o.filteredList,u=o.selectedTag,d=o.hasExactMatch,m=o.focusedTag,p=n&&n.length>0,h={};if(this.currentTagEl){var f=this.currentTagEl,b=f.offsetLeft,g=f.offsetWidth,v=f.offsetTop,k=f.offsetHeight;h.left=b+g/2-74,h.top=v+k+9}return y.a.createElement("div",{className:"tags__container ".concat(i?"is-active":""," ").concat(p?"":"no-tags"),ref:function(t){return e.el=t}},n.map(function(t){return y.a.createElement(_a,{key:t.text,color:t.color,size:"md",text:t.text,onDelete:function(){return e.handleTagDelete(t.text)},className:m===t.text?"is-focused":"",tagRef:s===t.text?function(t){return e.currentTagEl=t}:null})}),y.a.createElement("div",{className:"tags-input__wrapper"},y.a.createElement($,{className:"tags-input",onChange:this.onChange,onBlur:this.onBlur,value:c,onFocus:this.onFocus,type:"text",autoComplete:"off",onKeyDown:this.onKeyDown,hideLabel:!0}),i&&y.a.createElement("ul",{className:"tags-input__list"},l.map(function(e,t){return y.a.createElement("li",{key:e.text,className:"tags-input__item ".concat(u===e.text?"is-selected":""," ").concat(d||t!==l.length-1?"":"tags-input__item--new")},d||t!==l.length-1?y.a.createElement(_a,{text:e.text,color:e.color,size:"sm"}):y.a.createElement(y.a.Fragment,null,y.a.createElement("h4",{className:"tags-input__item--heading"},"New Tag"),y.a.createElement("span",{className:"tags-input__item--text"},e.text)))}))),i&&a&&y.a.createElement(Sn,{isActive:a,selectColor:r,style:h}))}}]),t}(k.Component)),Nn=(a(241),a(242),function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={today:{day:(new Date).getDate(),month:(new Date).getMonth(),year:(new Date).getFullYear()},selectedDate:a.props.selectedDate,currentMonth:a.props.currentMonth,currentYear:a.props.currentYear,dateString:f.toSimpleDateString(a.props.selectedDate)||""},a.selectDate=function(e){if("string"===typeof e){var t=f.toSimpleDateObj(e),n=t.month,r=t.year,s=a.state,o=s.currentMonth,c=s.currentYear;a.setState({selectedDate:t}),n===o&&r===c||a.setCurrentMonth({month:n,year:r})}else a.setState({selectedDate:e,dateString:f.toSimpleDateString(e)})},a.setCurrentMonth=function(e){var t=e.month,n=e.year;a.setState({currentMonth:t,currentYear:n})},a.setCurrentYear=function(e){a.setState({currentYear:e})},a.updateDateString=function(e){var t=e.target.value;a.setState({dateString:t}),f.isSDSFormat(t)&&a.selectDate(t)},a.setDate=function(){var e=a.props,t=e.selectedDate,n=e.selectDate,r=e.onClose,s=a.state.selectedDate;if((null!==t||null!==s)&&!f.isSameDate(t,s)){var o=s.day,c=s.month,i=s.year;n(new Date(i,c,o))}r()},a.clearDueDate=function(){var e=a.props,t=e.selectedDate,n=e.selectDate;a.selectDate(null),null!==t&&n(null)},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.onClose,t=this.state,a=t.today,n=t.selectedDate,r=t.currentMonth,s=t.currentYear,o=t.dateString;return y.a.createElement("div",{className:"date-picker"},y.a.createElement("div",{className:"date-picker__header"},y.a.createElement("div",{className:"date-picker__due-date-wrapper"},y.a.createElement($,{name:"dueDate",type:"text",label:"Due Date",value:o,onChange:this.updateDateString,className:"date-picker__input--due-date",labelClass:"date-picker__label--due-date",placeholder:"mm-dd-yy",maxLength:8}))),y.a.createElement($a,{classes:{calendar:"date-picker__calendar",weekDay:"date-picker__week-day"},month:r,year:s,selectedDate:n,today:a,onDayClick:this.selectDate,onMonthClick:this.setCurrentMonth,onYearClick:this.setCurrentYear}),y.a.createElement("div",{className:"date-picker__footer"},y.a.createElement(Z,{size:"sm",variant:"text",color:"neutral",className:"date-picker__btn--clear",onClick:this.clearDueDate},"Clear"),y.a.createElement(Z,{size:"sm",variant:"contained",color:"primary",className:"date-picker__btn--set-due-date",onClick:this.setDate},"Done"),y.a.createElement(Z,{size:"sm",variant:"text",color:"neutral",className:"date-picker__btn--cancel",onClick:e},"Cancel")))}}]),t}(k.Component)),An=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).updateTaskSubtasks=function(){var e=a.props.subtasksArray;a.setState({subtasks:e.reduce(function(e,t){var a=t.subtaskId,n=t.name,r=t.isCompleted;return e[a]={name:n,isCompleted:r},e},{})})},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.deleteTask=function(){var e=a.props,t=e.taskId,n=e.listId,r=e.firebase,s=e.handleTaskEditorClose;r.deleteTask({taskId:t,listId:n}),s()},a.onBlur=function(e){var t=a.props,n=t[o],r=t.taskId,s=t.firebase,o=e.target.name,c=a.state[o];c!==n&&(s.updateTask(r,Object(U.a)({},o,c)),console.log("updated task!")),a.setState({currentFocus:null})},a.addComment=function(e){if("keydown"!==e.type||e.key===da){var t=a.props,n=t.userId,r=t.firebase,s=t.taskId,o=t.projectId,c=a.state.newComment;r.addComment({userId:n,content:c,taskId:s,projectId:o}),a.resetForm("newComment"),e.preventDefault()}},a.resetForm=function(e){a.setState(Object(U.a)({},e,""))},a.addSubtask=function(e){if("keydown"!==e.type||e.key===da){var t=a.props,n=t.userId,r=t.firebase,s=t.taskId,o=t.projectId,c=a.state.newSubtask;r.addSubtask({userId:n,name:c,taskId:s,projectId:o}),a.resetForm("newSubtask"),e.preventDefault()}},a.onFocus=function(e){a.setState({currentFocus:e.target.name})},a.handleModalClick=function(e){var t=a.state.currentFocus;("newComment"===t&&!a.commentFormEl.contains(e.target)||"newSubtask"===t&&!a.newSubtaskFormEl.contains(e.target))&&a.setState({currentFocus:null})},a.handleMoreActions=function(e){if(e.target.matches("a")){switch(e.target.dataset.action){case"delete":a.deleteTask()}e.preventDefault()}},a.onSubtaskChange=function(e){var t=a.state.subtasks;a.setState({subtasks:Object(M.a)({},t,Object(U.a)({},e.target.name,Object(M.a)({},t[e.target.name],{name:e.target.value})))})},a.handleCheckboxChange=function(e){var t=e.target.name;a.toggleSubtaskCompleted(t)},a.toggleSubtaskCompleted=function(e){var t=a.state.subtasks[e].isCompleted;a.setState(function(t){return{subtasks:Object(M.a)({},t.subtasks,Object(U.a)({},e,Object(M.a)({},t.subtasks[e],{isCompleted:!t.subtasks[e].isCompleted})))}});var n=a.props.firebase;n.updateSubtask(e,{isCompleted:!t,completedAt:t?null:n.getTimestamp()})},a.updateSubtaskName=function(e){var t=e.target.name,n=a.state.subtasks[t].name;a.props.firebase.updateSubtask(t,{name:n})},a.deleteSubtask=function(e){if(""===e.target.value&&e.key===ua){var t=a.props,n=t.taskId,r=t.firebase,s=e.target.name;r.deleteSubtask({subtaskId:s,taskId:n})}},a.moveSubtask=function(e){var t=e.destination,n=e.draggableId,r=e.source;if(t&&t.index!==r.index){var s=a.props.firebase,o=a.state.subtaskIds,c=Object(W.a)(o);c.splice(r.index,1),c.splice(t.index,0,n),a.setState({subtaskIds:c}),s.updateTask(r.droppableId,{subtaskIds:c})}},a.handleCommentLike=function(e){var t=a.props,n=t.firebase,r=t.userId;-1===t.commentsById[e].likes.indexOf(r)?n.updateComment(e,{likes:n.addToArray(r)}):n.updateComment(e,{likes:n.removeFromArray(r)})},a.assignMember=function(e){var t=a.props,n=t.taskId,r=t.projectId,s=t.assignedTo,o=t.firebase;-1!==s.indexOf(e)?o.removeAssignee({taskId:n,userId:e}):o.assignMember({taskId:n,projectId:r,userId:e})},a.toggleColorPicker=function(e){a.setState({isColorPickerActive:e})},a.addTag=function(e){console.log(e);var t=a.props,n=t.firebase,r=t.currentUser,s=t.projectTags,o=t.taskId,c=t.projectId,i=(t.addTag,r.userId),l=r.tags,u=s&&e in s,d=l&&e in l,m=u?s[e]:d?l[e]:{projectId:c,text:e};n.addTag(Object(M.a)({userId:i,taskId:o,projectId:c},m)).then(function(){d||u||(a.setState({currentTag:e}),a.toggleColorPicker(!0))})},a.setTagColor=function(e){var t=a.props,n=t.userId,r=t.projectId,s=t.firebase,o=a.state.currentTag;s.setTagColor({userId:n,projectId:r,tag:o,color:e})},a.removeTag=function(e){var t=a.props,n=t.taskId;t.firebase.removeTag({taskId:n,tag:e}),a.toggleColorPicker(!1)},a.setDueDate=function(e){var t=a.props,n=t.firebase,r=t.taskId;n.updateTask(r,{dueDate:e})},a.toggleDatePicker=function(){a.setState(function(e){return{isDatePickerActive:!e.isDatePickerActive}})},a.state={isFetching:a.props.commentIds&&a.props.commentIds.length>0,name:a.props.name,notes:a.props.notes,newSubtask:"",subtasks:a.props.subtasks,newComment:"",currentFocus:null,subtaskIds:a.props.subtaskIds,isColorPickerActive:!1,currentTag:null,isDatePickerActive:!1,prevProps:{name:a.props.name,notes:a.props.notes,subtasks:a.props.subtasks}},a.membersListButton=y.a.createRef(),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.taskId,n=t.commentIds,r=t.firebase,s=t.fetchTaskComments,o=t.addComment,c=t.deleteComment,i=t.updateComment;n&&n.length>0&&s(a).then(function(){e.setState({isFetching:!1})}),this.commentObserver=r.db.collection("comments").where("taskId","==",a).onSnapshot(function(e){e.docChanges().forEach(function(e){var t=e.doc.id,a=e.doc.data();"added"===e.type&&o({commentId:t,commentData:a}),"modified"===e.type&&i({commentId:t,commentData:a}),"removed"===e.type&&c(t)})})}},{key:"componentWillUnmount",value:function(){this.commentObserver()}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleTaskEditorClose,n=t.taskId,r=t.commentIds,s=t.assignedTo,o=t.commentsArray,c=t.usersArray,i=t.membersArray,l=t.currentUser,u=t.taskTags,d=t.mergedTags,m=t.dueDate,p=this.state,h=p.name,b=p.notes,g=p.newComment,v=p.currentFocus,k=p.newSubtask,E=p.subtasks,j=p.subtaskIds,_=p.isFetching,I=p.isColorPickerActive,C=p.isDatePickerActive,O=p.currentTag,T=j&&j.length>0,D=r&&r.length>0,S=!!s&&s.length>0,w=""===g,N=""===k,A="newComment"===v,P="newSubtask"===v,x=m?f.getSimpleDate(m.toDate()):f.getSimpleDate(new Date);return _?null:y.a.createElement(ht,{onModalClose:a,classes:{content:"task-editor"},onModalClick:this.handleModalClick,size:"lg",id:"taskEditor"},y.a.createElement(yn,{className:"task-editor__toolbar"},y.a.createElement(En,{buttonRef:this.membersListButton},y.a.createElement(_n,{users:c,assignedMembers:s,onMemberClick:this.assignMember})),y.a.createElement(In,{onMenuClick:this.handleMoreActions})),y.a.createElement("form",{name:"editTaskForm",onFocus:this.onFocus,className:"task-editor__edit-task-form"},y.a.createElement(la,{className:"task-editor__textarea--title",name:"name",value:h,onChange:this.onChange,required:!0,onBlur:this.onBlur,onFocus:this.onFocus}),y.a.createElement(jn,null,y.a.createElement(Z,{onClick:this.toggleDatePicker,type:"button",className:"task-editor__btn--due-date ".concat(C?"is-active":"")},y.a.createElement("span",{className:"task-editor__due-date-icon"},y.a.createElement(ut,{name:"calendar"})),y.a.createElement("span",{className:"task-editor__due-date-wrapper"},m?y.a.createElement(y.a.Fragment,null,y.a.createElement("span",{className:"task-editor__section-title--sm"},"Due Date"),y.a.createElement("span",{className:"task-editor__due-date"},"".concat(Ca[x.month].short," ").concat(x.day))):y.a.createElement("span",{className:"task-editor__no-due-date"},"Set due date"))),C&&y.a.createElement(Nn,{onClose:this.toggleDatePicker,selectedDate:m?x:null,currentMonth:x.month,currentYear:x.year,selectDate:this.setDueDate})),y.a.createElement(jn,null,y.a.createElement("div",{className:"task-editor__section-icon"},y.a.createElement(ut,{name:"user"})),S&&y.a.createElement("div",{className:"task-editor__members"},i.map(function(e){var t=e.name,a=e.photoURL,n=e.userId;return y.a.createElement(Ia,{classes:{avatar:"task-editor__avatar",placeholder:"task-editor__avatar-placeholder"},fullName:t,size:"sm",variant:"circle",imgSrc:a,key:n})})),y.a.createElement(Z,{type:"button",className:"task-editor__btn--add-member",onClick:function(){return e.membersListButton.current.click()}},y.a.createElement(ut,{name:"plus"}))),y.a.createElement(jn,null,y.a.createElement("div",{className:"task-editor__section-icon"},y.a.createElement(ut,{name:"tag"})),y.a.createElement(wn,{addTag:this.addTag,tagSuggestions:d,assignedTags:u,isColorPickerActive:I,setTagColor:this.setTagColor,removeTag:this.removeTag,currentTag:O})),y.a.createElement(jn,null,y.a.createElement("div",{className:"task-editor__section-icon"},y.a.createElement(ut,{name:"edit-3"})),y.a.createElement(la,{className:"task-editor__textarea task-editor__textarea--description",name:"notes",value:b,onChange:this.onChange,placeholder:"Add a description",onBlur:this.onBlur,onFocus:this.onFocus}))),y.a.createElement(jn,null,y.a.createElement("div",{className:"task-editor__section-header"},y.a.createElement("div",{className:"task-editor__section-icon"},y.a.createElement(ut,{name:"check-square"})),y.a.createElement("h3",{className:"task-editor__section-title"},"Subtasks"),y.a.createElement("hr",{className:"task-editor__hr"})),T&&y.a.createElement(gt.a,{onDragEnd:this.moveSubtask},y.a.createElement(gt.c,{droppableId:n,type:"SUBTASK"},function(t){return y.a.createElement("ul",Object.assign({className:"task-editor__subtasks",ref:t.innerRef},t.droppableProps),j.map(function(t,a){return y.a.createElement(On,{subtaskId:t,index:a,name:E[t].name,isCompleted:E[t].isCompleted,toggleCompleted:e.handleCheckboxChange,onChange:e.onSubtaskChange,onBlur:e.updateSubtaskName,onKeyDown:e.deleteSubtask,key:t})}),t.placeholder)})),y.a.createElement("div",{className:"task-editor__section-icon"},P?y.a.createElement("div",{className:"task-editor__checkbox"}):y.a.createElement(ut,{name:"plus-circle"})),y.a.createElement("form",{name:"newSubtaskForm",className:"task-editor__new-subtask-form ".concat("newSubtask"===v?"is-focused":""),ref:function(t){return e.newSubtaskFormEl=t},onSubmit:this.addSubtask},y.a.createElement(la,{className:"task-editor__textarea task-editor__textarea--new-subtask",name:"newSubtask",value:k,onChange:this.onChange,placeholder:"Add a subtask",onFocus:this.onFocus,onKeyDown:this.addSubtask}),"newSubtask"===v&&y.a.createElement(Z,{type:"submit",color:"primary",size:"small",variant:"contained",disabled:N,onClick:this.addSubtask,className:"task-editor__btn--add-subtask"},"Add subtask"))),y.a.createElement(jn,null,y.a.createElement("div",{className:"task-editor__section-header"},y.a.createElement("div",{className:"task-editor__section-icon"},y.a.createElement(ut,{name:"message-circle"})),y.a.createElement("h3",{className:"task-editor__section-title"},"Comments"),y.a.createElement("hr",{className:"task-editor__hr"})),D&&y.a.createElement("div",{className:"task-editor__comments"},o.map(function(t){var a=t.commentId;return y.a.createElement(Dn,{key:a,comment:t,handleLike:e.handleCommentLike})})),y.a.createElement(Ia,{classes:{avatar:"task-editor__avatar",placeholder:"task-editor__avatar-placeholder"},fullName:l.name,size:"sm",variant:"circle",imgSrc:l.photoURL}),y.a.createElement("form",{name:"commentForm",className:"task-editor__comment-form ".concat(A?"is-focused":""),ref:function(t){return e.commentFormEl=t},onSubmit:this.addComment},y.a.createElement(la,{className:"task-editor__textarea task-editor__textarea--comment",name:"newComment",value:g,onChange:this.onChange,placeholder:"Write a comment...",onFocus:this.onFocus,onKeyDown:this.addComment}),A&&y.a.createElement(Z,{type:"submit",color:"primary",size:"small",variant:"contained",disabled:w,onClick:this.addComment,name:"newCommentSubmit",className:"task-editor__btn--submit-comment"},"Send"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.name!==t.prevProps.name?{name:e.name,prevProps:Object(M.a)({},t.prevProps,{name:e.name})}:e.notes!==t.prevProps.notes?{notes:e.notes,prevProps:Object(M.a)({},t.prevProps,{notes:e.notes})}:e.subtasks!==t.prevProps.subtasks?{subtasks:e.subtasks,subtaskIds:e.subtaskIds,prevProps:Object(M.a)({},t.prevProps,{subtasks:e.subtasks})}:null}}]),t}(k.Component),Pn=Y(Object(_.b)(function(e,t){return{currentUser:r.getCurrentUserData(e),subtasksArray:h.getSubtasksArray(e,t.subtaskIds),subtasks:h.getSimpleSubtasks(e,t.subtaskIds),commentsArray:g.getCommentsArray(e,t.commentIds),commentsById:g.getCommentsById(e),usersArray:r.getUsersArray(e),membersArray:r.getMembersArray(e,t.assignedTo),taskTags:d.getTaskTags(e,t),mergedTags:o.getMergedTags(e),projectTags:i.getProjectTags(e,t.projectId)}},function(e){return{fetchTaskComments:function(t){return e(b.fetchTaskComments(t))},addComment:function(t){var a=t.commentId,n=t.commentData;return e(b.addComment({commentId:a,commentData:n}))},deleteComment:function(t){return e(b.deleteComment(t))},updateComment:function(t){var a=t.commentId,n=t.commentData;return e(b.updateComment({commentId:a,commentData:n}))},addTag:function(t,a){return e(m.addTag(t,a))}}})(An)),xn=function e(t,a){var n=Object.prototype.toString.call(t);if(n!==Object.prototype.toString.call(a))return!1;var r="[object Array]";if("[object Object]"!==n&&n!==r)return!1;var s=n===r?t.length:Object.keys(t).length;if(s!==(n===r?a.length:Object.keys(a).length))return!1;var o=function(t,a){var n=Object.prototype.toString.call(t);return n===Object.prototype.toString.call(a)&&("[object Object]"===n||n===r?e(t,a):"[object Function]"===n?t.toString()===a.toString():t===a)};if(n===r){for(var c=0;c<s;c++)if(!o(t[c],a[c]))return!1}else for(var i in t)if(t.hasOwnProperty(i)&&!1===o(t[i],a[i]))return!1;return!0},Ln=function(e){var t;return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame(function(){e.apply(void 0,n)})}},Bn=(a(243),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).onDragStart=function(){a.setState({isDragging:!0})},a.onDragEnd=function(e){var t=e.destination,n=e.draggableId,r=e.source,s=e.type;if(t&&(t.droppableId!==r.droppableId||t.index!==r.index)){var o=a.props.firebase;if(s===kt){var c=a.props.listsById,i=r.droppableId===t.droppableId,l=Object(W.a)(c[t.droppableId].taskIds);i?(l.splice(r.index,1),l.splice(t.index,0,n),o.updateList(r.droppableId,{taskIds:l})):(l.splice(t.index,0,n),o.moveTaskToList({taskId:n,origListId:r.droppableId,newListId:t.droppableId,updatedTaskIds:l}))}if(s===vt){var u=a.props,d=u.projectsById,m=u.projectId,p=u.reorderLists,h=Object(W.a)(d[m].listIds);h.splice(r.index,1),h.splice(t.index,0,n),o.updateProject(m,{listIds:h}),p(m,h)}a.setState({isDragging:!1})}},a.toggleTaskEditor=function(){a.setState(function(e){return{isTaskEditorOpen:!e.isTaskEditorOpen}})},a.handleTaskClick=function(e){(0,a.props.selectTask)(e),a.toggleTaskEditor()},a.onNameChange=function(e){a.setState({projectName:e.target.value})},a.onNameBlur=function(e){var t=a.props,n=t.projectName,r=t.projectId,s=t.firebase,o=a.state.projectName;o!==n&&(s.updateProject(r,{name:o}),console.log("updated project name!"))},a.state={isFetching:!0,isDragging:!1,isTaskEditorOpen:!1,projectName:a.props.projectName},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.current,n=t.fetchListsById,r=t.fetchProjectTasks,s=t.fetchTaskSubtasks,o=t.firebase,c=t.updateProject,i=t.updateListsById,l=t.addTask,u=t.deleteTask,d=t.updateTask,m=t.updateProjectTags,p=t.projectId,h=t.project,f=t.updateListIds,b=t.addSubtask,g=t.updateSubtask,k=t.deleteSubtask,y=t.selectProject;a.projectId!==p&&y(p),n(p),r(p),s(p).then(function(){e.setState({isFetching:!1})}),this.projectObserver=o.getProjectDoc(p).onSnapshot(function(e){var t=e.data();v.isEqual(t.listIds,h.listIds)?v.isEqual(t.tags,h.tags)?c(p,t):m(p,t.tags):f(p,t.listIds)}),this.listObserver=o.db.collection("lists").where("projectId","==",p).onSnapshot(function(e){e.docChanges().forEach(function(e){var t=Object(U.a)({},e.doc.id,e.doc.data());i(t)})}),this.subtaskObserver=o.db.collection("subtasks").where("projectId","==",p).onSnapshot(function(e){e.docChanges().forEach(function(e){var t=e.doc.id,a=e.doc.data();"added"===e.type&&b({subtaskId:t,subtaskData:a}),"modified"===e.type&&g({subtaskId:t,subtaskData:a}),"removed"===e.type&&k(t)})}),this.taskObserver=o.db.collection("tasks").where("projectId","==",p).onSnapshot(function(e){e.docChanges().forEach(function(e){var t=e.doc.id,a=e.doc.data();"added"===e.type?l({taskId:t,taskData:a}):"removed"===e.type?u(t):d({taskId:t,taskData:a})})}),console.log("mounted")}},{key:"componentWillUnmount",value:function(){this.projectObserver(),this.listObserver(),this.taskObserver(),this.subtaskObserver()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isFetching,n=t.isTaskEditorOpen,r=t.projectName,s=this.props,o=s.current,c=s.listsArray,i=s.tasksById,l=s.projectId,u=s.userId;if(a)return null;var d=o.taskId;return y.a.createElement("main",{className:"board-container"},y.a.createElement($,{className:"board__input--title",name:"projectName",type:"text",value:r,onChange:this.onNameChange,required:!0,hideLabel:!0,onBlur:this.onNameBlur}),y.a.createElement(gt.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},y.a.createElement(_t,{projectId:l},c.map(function(t,n){var r=t.listId,s=t.name,o=t.taskIds;return y.a.createElement(sn,{listId:r,key:r,listIndex:n,name:s,taskIds:o,isFetchingTasks:a,onTaskClick:e.handleTaskClick,projectId:l,view:"board",isRestricted:!1})}))),n&&y.a.createElement(Pn,Object.assign({},i[d],{handleTaskEditorClose:this.toggleTaskEditor,userId:u})))}}]),t}(k.Component)),Un=Y(Object(_.b)(function(e,t){return{projectsById:i.getProjectsById(e),current:o.getCurrent(e),listsById:u.getListsById(e),listsArray:u.getListsArray(e),tasksById:d.getTasksById(e),project:i.getProject(e,t.projectId)}},function(e){return{updateProject:function(t,a){return e(c.updateProject(t,a))},selectProject:function(t){return e(s.selectProject(t))},selectTask:function(t){return e(s.selectTask(t))},fetchListsById:function(t){return e(l.fetchListsById(t))},updateListsById:function(t){return e(l.updateListsById(t))},fetchProjectTasks:function(t){return e(m.fetchProjectTasks(t))},fetchTaskSubtasks:function(t){return e(p.fetchTaskSubtasks(t))},reorderLists:function(t,a){return e(c.reorderLists(t,a))},updateListIds:function(t,a){return e(c.updateListIds(t,a))},updateProjectTags:function(t,a){return e(c.updateProjectTags(t,a))},addTask:function(t){var a=t.taskId,n=t.taskData;return e(m.addTask({taskId:a,taskData:n}))},updateTask:function(t){var a=t.taskId,n=t.taskData;return e(m.updateTask({taskId:a,taskData:n}))},deleteTask:function(t){return e(m.deleteTask(t))},addSubtask:function(t){var a=t.subtaskId,n=t.subtaskData;return e(p.addSubtask({subtaskId:a,subtaskData:n}))},deleteSubtask:function(t){return e(p.deleteSubtask(t))},updateSubtask:function(t){var a=t.subtaskId,n=t.subtaskData;return e(p.updateSubtask({subtaskId:a,subtaskData:n}))}}})(Bn)),Mn=function(e){var t=e.title,a=e.icon,n=e.children;return y.a.createElement("section",{className:"dashboard__section"},y.a.createElement("h2",{className:"dashboard__section-header"},y.a.createElement(ut,{name:a,className:"dashboard__section-icon"}),t),n)},Fn=(a(244),function(e){function t(){return Object(T.a)(this,t),Object(S.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props.toggleProjectComposer;return y.a.createElement("main",{className:"dashboard"},y.a.createElement("h1",{className:"dashboard__header"},"Home"),y.a.createElement(Mn,{title:"Projects",icon:"grid"},y.a.createElement(mt,{openProjectComposer:e})),y.a.createElement(Mn,{title:"Tasks",icon:"check-square"}))}}]),t}(k.Component)),Rn=Y(Object(_.b)(function(e,t){return{currentProjectId:o.getCurrentProjectId(e),projectsById:i.getProjectsById(e)}},function(e){return{}})(Fn)),zn=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={isFetching:!0},a.moveTask=function(e){var t=e.destination,n=e.draggableId,r=e.source;if(t&&t.index!==r.index){var s=a.props.firebase,o=a.state.taskIds,c=Object(W.a)(o);c.splice(r.index,1),c.splice(t.index,0,n),a.setState({taskIds:c}),s.updateTask(r.droppableId,{taskIds:c})}},a.updateTaskName=function(e){var t=e.target.name,n=a.state.tasks[t].name;a.props.firebase.updateTask(t,{name:n})},a.deleteTask=function(e){},a.onTaskChange=function(e){var t=a.state.tasks;a.setState({tasks:Object(M.a)({},t,Object(U.a)({},e.target.name,Object(M.a)({},t[e.target.name],{name:e.target.value})))})},a.toggleTaskCompleted=function(e){var t=a.state.tasks[e].isCompleted;a.setState(function(t){return{tasks:Object(M.a)({},t.tasks,Object(U.a)({},e,Object(M.a)({},t.tasks[e],{isCompleted:!t.tasks[e].isCompleted})))}}),a.props.firebase.updateTask(e,{isCompleted:!t})},a.handleCheckboxChange=function(e){var t=e.target.name;a.toggleTaskCompleted(t)},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.userId,n=t.fetchUserTasks,r=t.addTask,s=t.updateTask,o=t.deleteTask,c=t.firebase;n(a).then(function(){e.setState({isFetching:!1})}),this.taskObserver=c.db.collection("tasks").where("assignedTo","array-contains",a).onSnapshot(function(e){e.docChanges().forEach(function(e){var t=e.doc.id,a=e.doc.data();"added"===e.type?r({taskId:t,taskData:a}):"removed"===e.type?o(t):s({taskId:t,taskData:a})})})}},{key:"componentWillUnmount",value:function(){this.taskObserver()}},{key:"render",value:function(){var e=this,t=this.props,a=(t.filters,t.view,t.userId),n=(t.taskIds,t.taskLists,t.user),r=this.state,s=(r.tasks,r.isFetching),o=n.tasksNew,c=n.tasksToday,i=n.tasksUpcoming,l=n.tasksLater;return s?null:y.a.createElement(gt.a,{onDragEnd:this.moveTask},y.a.createElement(gt.c,{droppableId:a,type:kt},function(t){return y.a.createElement("div",Object.assign({className:"user-tasks",ref:t.innerRef},t.droppableProps),y.a.createElement(y.a.Fragment,null,y.a.createElement(sn,{listId:"tasksNew",listIndex:0,name:"New Tasks",taskIds:o,onTaskClick:e.handleTaskClick,projectId:null,view:"list",isRestricted:!0}),y.a.createElement(sn,{listId:"tasksToday",listIndex:1,name:"Today",taskIds:c,onTaskClick:e.handleTaskClick,projectId:null,view:"list",isRestricted:!0}),y.a.createElement(sn,{listId:"tasksUpcoming",listIndex:2,name:"Upcoming",taskIds:i,onTaskClick:e.handleTaskClick,projectId:null,view:"list",isRestricted:!0}),y.a.createElement(sn,{listId:"tasksLater",listIndex:3,name:"Later",taskIds:l,onTaskClick:e.handleTaskClick,projectId:null,view:"list",isRestricted:!0})),t.placeholder)}))}}]),t}(k.Component),Yn=ge(function(e){return!!e})(Object(_.b)(function(e,t){return{user:r.getUserData(e,t.userId)}},function(e){return{selectUser:function(t){return e(s.selectUser(t))},fetchUserTasks:function(t){return e(m.fetchUserTasks(t))},fetchUserLists:function(t){return e(l.fetchUserLists(t))},addTask:function(t){var a=t.taskId,n=t.taskData;return e(m.addTask({taskId:a,taskData:n}))},updateTask:function(t){var a=t.taskId,n=t.taskData;return e(m.updateTask({taskId:a,taskData:n}))},deleteTask:function(t){return e(m.deleteTask(t))}}})(zn)),Kn=(a(245),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).toggleProjectComposer=function(){a.setState(function(e){return{isProjectComposerOpen:!e.isProjectComposerOpen}})},a.createProject=function(e){var t=a.props,n=t.userId;t.firebase.addProject({userId:n,name:e})},a.state={isProjectComposerOpen:!1,isFetching:!0},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.selectUser,n=t.fetchUsersById,r=t.fetchProjectsById,s=t.userId;a(s),console.log("mounted home"),n().then(function(){return r(s)}).then(function(){return e.setState({isFetching:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isProjectComposerOpen;if(t.isFetching)return null;var n=this.props,r=n.userId,s=n.projectsById;return y.a.createElement(y.a.Fragment,null,a&&y.a.createElement(bt,{onClose:this.toggleProjectComposer,handleSubmit:this.createProject}),y.a.createElement(A.a,null,y.a.createElement(P.a,{exact:!0,path:x,render:function(t){return y.a.createElement(Rn,Object.assign({toggleProjectComposer:e.toggleProjectComposer},t))}}),y.a.createElement(P.a,{path:"/0/project/:id",render:function(e){return y.a.createElement(Un,Object.assign({userId:r,projectId:e.match.params.id,projectName:s[e.match.params.id].name},e))}}),y.a.createElement(P.a,{path:"/0/:id/projects",render:function(t){return y.a.createElement("main",{className:"main"},y.a.createElement("h1",{className:"main__header"},"Projects"),y.a.createElement(mt,Object.assign({userId:r,openProjectComposer:e.toggleProjectComposer},t)))}}),y.a.createElement(P.a,{path:"/0/:id/tasks",render:function(){return y.a.createElement("main",{className:"main"},y.a.createElement("h1",{className:"main__header"},"Tasks"),y.a.createElement(Yn,{userId:r}))}})))}}]),t}(k.Component)),Wn=ge(function(e){return!!e})(Object(_.b)(function(e,t){return{currentProjectId:o.getCurrentProjectId(e),projectsById:i.getProjectsById(e)}},function(e){return{fetchUsersById:function(){return e(n.fetchUsersById())},fetchProjectsById:function(t){return e(c.fetchProjectsById(t))},selectUser:function(t){return e(s.selectUser(t))}}})(Kn)),Hn={passwordOne:"",passwordTwo:"",error:null},qn=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.passwordUpdate(t).then(function(){a.setState(Object(M.a)({},Hn))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.state=Object(M.a)({},Hn),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,r=""===t||t!==a;return y.a.createElement("form",{onSubmit:this.onSubmit,className:"user-form"},y.a.createElement($,{name:"passwordOne",label:"New Password",value:t,onChange:this.onChange,type:"password",className:"user-form__input"}),y.a.createElement($,{name:"passwordTwo",label:"Confirm New Password",value:a,onChange:this.onChange,type:"password",className:"user-form__input"}),y.a.createElement(Z,{disabled:r,type:"submit",size:"lg",variant:"contained",color:"primary",onClick:this.onSubmit},"Change My Password"),n&&y.a.createElement("p",null,n.message))}}]),t}(k.Component),Jn=Y(qn),Vn=(a(246),ge(function(e){return!!e})(function(){return y.a.createElement(fe.Consumer,null,function(e){return y.a.createElement("main",{className:"account"},y.a.createElement("h1",null,"Account: ",e.email),y.a.createElement("section",{className:"account__section"},y.a.createElement("h2",null,"Forgot your password?"),y.a.createElement(de,null)),y.a.createElement("section",{className:"account__section"},y.a.createElement("h2",null,"Change your password."),y.a.createElement(Jn,null)))})})),Gn=(a(247),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).state={loading:!1,users:{}},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return y.a.createElement("main",{className:"admin"},y.a.createElement("h1",null,"Admin"))}}]),t}(k.Component)),$n=ge(function(e){return!!e})(Object(_.b)(function(e,t){return{currentUser:r.getCurrentUserData(e)}},function(e){return{fetchUsersById:function(){return e(n.fetchUsersById())}}})(Gn)),Qn=(a(248),a(249),function(e){var t=e.size,a=e.className,n=e.onClick;return y.a.createElement("div",{className:"logo logo--".concat(t," ").concat(a)},y.a.createElement(B.a,{className:"logo__link",to:"/",onClick:n},y.a.createElement("span",{className:"logo__text"},"workflow")))}),Xn=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={viewportWidth:window.innerWidth,isMobileNavVisible:!1,isTouchEnabled:!1},a.handleResize=function(){a.setState({viewportWidth:window.innerWidth})},a.toggleMobileNavVisibility=function(){a.setState(function(e){return{isMobileNavVisible:!e.isMobileNavVisible}})},a.handleClick=function(e){a.state.viewportWidth<a.props.minWidth&&(e.target.matches("button")||e.target.matches("a"))&&a.toggleMobileNavVisibility()},a.handleOutsideClick=function(e){!(a.state.viewportWidth<a.props.minWidth)||a.navLinksEl.contains(e.target)||e.target.matches("button")||e.target.matches("a")||a.setState({isMobileNavVisible:!1})},a.handleTouch=function(){!0!==a.state.isTouchEnabled&&(a.setState({isTouchEnabled:!0}),document.removeEventListener("touchstart",a.handleTouch),document.removeEventListener("click",a.handleOutsideClick),document.addEventListener("touchstart",a.handleOutsideClick))},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),document.addEventListener("touchstart",this.handleTouch),document.addEventListener("click",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){var e=this.state.isTouchEnabled;window.removeEventListener("resize",this.handleResize),e?document.removeEventListener("touchstart",this.handleOutsideClick):(document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("touchstart",this.handleTouch))}},{key:"render",value:function(){var e=this,t=this.state,a=t.viewportWidth,n=t.isMobileNavVisible,r=this.props,s=r.minWidth,o=r.classes,c=r.children,i=a<s;return y.a.createElement("nav",{className:"navbar ".concat(i?"is-collapsed":""," ").concat(i&&n?"show-links":""," ").concat(o.navbar),ref:function(t){return e.navEl=t}},y.a.createElement(Qn,{className:"navbar__logo",onClick:this.handleClick}),i&&y.a.createElement(Z,{type:"button",color:"primary",onClick:this.toggleMobileNavVisibility,iconOnly:!0},y.a.createElement(ut,{name:"menu"})),y.a.createElement("ul",{className:"navbar__links ".concat(o.links),onClick:this.handleClick,ref:function(t){return e.navLinksEl=t}},c))}}]),t}(k.Component);Xn.defaultProps={minWidth:768,classes:{navbar:"",links:""}};a(250);var Zn=function(e){var t=e.name;return y.a.createElement(ut,{name:t,className:"sidebar__icon"})},er=function(e){function t(e){return Object(T.a)(this,t),Object(S.a)(this,Object(w.a)(t).call(this,e))}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onToggle,a=e.children;return y.a.createElement("div",{className:"sidebar__canvas"},y.a.createElement(Z,{type:"button",onClick:t,className:"sidebar__btn--toggle",size:"sm",iconOnly:!0},y.a.createElement(ut,{name:"bar-chart-2"})),y.a.createElement("div",{className:"sidebar"},y.a.createElement("nav",{className:"sidebar__nav"},y.a.createElement("div",{className:"sidebar__logo"},y.a.createElement(Qn,{size:"sm"})),y.a.createElement("ul",{className:"sidebar__list"},a))))}}]),t}(k.Component),tr=a(256),ar=function(){return y.a.createElement(y.a.Fragment,null,y.a.createElement("li",null,y.a.createElement(tr.a,{to:"/signin"},"Log In")),y.a.createElement("li",null,y.a.createElement(tr.a,{to:"/signup"},"Get Started")))},nr=function(e){var t=e.userId;return y.a.createElement(y.a.Fragment,null,y.a.createElement("li",{className:"sidebar__item"},y.a.createElement(tr.a,{className:"sidebar__link",to:"/0/home/".concat(t)},y.a.createElement(Zn,{name:"home"}),y.a.createElement("span",{className:"sidebar__section-name"},"Home"))),y.a.createElement("li",{className:"sidebar__item"},y.a.createElement(tr.a,{className:"sidebar__link",to:"/0/".concat(t,"/projects")},y.a.createElement(Zn,{name:"grid"}),y.a.createElement("span",{className:"sidebar__section-name"},"Projects"))),y.a.createElement("li",{className:"sidebar__item"},y.a.createElement(tr.a,{className:"sidebar__link",to:"/0/".concat(t,"/tasks")},y.a.createElement(Zn,{name:"check-square"}),y.a.createElement("span",{className:"sidebar__section-name"},"Tasks"))),y.a.createElement("li",{className:"sidebar__item"},y.a.createElement(tr.a,{className:"sidebar__link",to:"/admin"},y.a.createElement(Zn,{name:"settings"}),y.a.createElement("span",{className:"sidebar__section-name"},"Admin"))))},rr=Y(function(e){var t=e.firebase,a=e.className;return y.a.createElement(Z,{type:"button",onClick:t.signOut,className:a,color:"primary"},"Log Out")}),sr=(a(251),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(S.a)(this,Object(w.a)(t).call(this,e))).handleClick=function(e){var t=a.state.query,n=e.target.name;e.stopPropagation(),"search"!==n&&""===t&&("toggle"===n&&a.inputEl.current.focus(),a.setState(function(e){return{isExpanded:!e.isExpanded}}))},a.handleSubmit=function(e){e.preventDefault()},a.state={isExpanded:!1,query:""},a.inputEl=Object(k.createRef)(),a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return y.a.createElement("div",{onClick:this.handleClick,className:"search-bar".concat(this.state.isExpanded?" is-expanded":"")},y.a.createElement("form",{className:"search-form",onSubmit:this.handleSubmit},y.a.createElement($,{name:"search",className:"search-form__input",type:"text",inputRef:this.inputEl,hideLabel:!0}),y.a.createElement($,{name:"submit",className:"search-form__submit",type:"submit",hideLabel:!0}),y.a.createElement(Z,{type:"button",onClick:this.handleClick,className:"search-form__btn",name:"toggle",iconOnly:!0},y.a.createElement(ut,{name:"search"}))))}}]),t}(k.Component)),or=(a(252),function(e){function t(){return Object(T.a)(this,t),Object(S.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props.currentUser;return y.a.createElement("div",{className:"topbar"},y.a.createElement(sr,null),e&&y.a.createElement(Ea,{classes:{wrapper:"topbar__user-actions-wrapper",popover:"topbar__user-actions"},alignOuter:"right",alignInner:"right",buttonProps:{size:"sm",iconOnly:!0,className:"topbar__btn--user-actions",children:y.a.createElement(Ia,{classes:{avatar:"topbar__avatar",placeholder:"topbar__avatar-placeholder"},fullName:e.name,size:"sm",variant:"circle",imgSrc:e.photoURL})}},y.a.createElement(va,null,y.a.createElement(ka,null,y.a.createElement(tr.a,{className:"topbar__link",to:"/account"},"My Account")),y.a.createElement(ka,null,y.a.createElement(rr,{className:"topbar__link"})))))}}]),t}(k.Component)),cr=Object(_.b)(function(e,t){return{currentUser:r.getCurrentUserData(e)}},function(e){return{}})(or),ir=(a(253),function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={isNavExpanded:!1},a.toggleNav=function(){a.setState(function(e){return{isNavExpanded:!e.isNavExpanded}})},a.handleClick=function(e){a.setState(function(e){return{isNavExpanded:!1}})},a}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.state.isNavExpanded;return y.a.createElement("header",{className:"header ".concat(t?"expand-nav":"")},y.a.createElement(fe.Consumer,null,function(t){return t?y.a.createElement(y.a.Fragment,null,y.a.createElement(er,{onToggle:e.toggleNav},y.a.createElement(nr,{userId:t.uid})),y.a.createElement(cr,null)):y.a.createElement(Xn,null,y.a.createElement(ar,null))}))}}]),t}(k.Component)),lr=(a(254),be(function(e){function t(){return Object(T.a)(this,t),Object(S.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return y.a.createElement("div",{className:"app"},y.a.createElement(ir,null),y.a.createElement(A.a,null,y.a.createElement(P.a,{exact:!0,path:"/",component:L.LandingPage}),y.a.createElement(P.a,{path:"/signup",component:re}),y.a.createElement(P.a,{path:"/signin",component:he}),y.a.createElement(P.a,{path:"/pw-forget",component:me}),y.a.createElement(P.a,{path:"/0/",render:function(e){return y.a.createElement(Wn,e)}}),y.a.createElement(P.a,{path:"/account",component:Vn}),y.a.createElement(P.a,{path:"/admin",component:$n})))}}]),t}(k.Component)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ur=Object(C.c)({projectsById:ot,tasksById:Jt,listsById:Nt,usersById:Be,current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_USER":var a=t.userId;return Object(M.a)({},e,{userId:a});case"SELECT_PROJECT":var n=t.projectId;return Object(M.a)({},e,{projectId:n});case"SELECT_LIST":var r=t.listId;return Object(M.a)({},e,{listId:r});case"SELECT_TASK":var s=t.taskId;return Object(M.a)({},e,{taskId:s});default:return e}},subtasksById:ia,commentsById:vn}),dr=a(65),mr=Object(dr.a)({basename:"/workflow"}),pr=Object(C.e)(ur,{},Object(C.a)(O.a));j.a.render(y.a.createElement(_.a,{store:pr},y.a.createElement(K.Provider,{value:Ee},y.a.createElement(I.a,{basename:"/workflow",history:mr},y.a.createElement(lr,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[120,1,2]]]);
//# sourceMappingURL=main.9569c37b.chunk.js.map